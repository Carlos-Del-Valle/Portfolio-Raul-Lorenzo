function LP(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var Wf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function px(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ME={exports:{}},am={},EE={exports:{}},At={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dd=Symbol.for("react.element"),IP=Symbol.for("react.portal"),DP=Symbol.for("react.fragment"),NP=Symbol.for("react.strict_mode"),FP=Symbol.for("react.profiler"),OP=Symbol.for("react.provider"),kP=Symbol.for("react.context"),zP=Symbol.for("react.forward_ref"),UP=Symbol.for("react.suspense"),GP=Symbol.for("react.memo"),HP=Symbol.for("react.lazy"),Yw=Symbol.iterator;function jP(n){return n===null||typeof n!="object"?null:(n=Yw&&n[Yw]||n["@@iterator"],typeof n=="function"?n:null)}var CE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bE=Object.assign,TE={};function hc(n,e,t){this.props=n,this.context=e,this.refs=TE,this.updater=t||CE}hc.prototype.isReactComponent={};hc.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};hc.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function BE(){}BE.prototype=hc.prototype;function mx(n,e,t){this.props=n,this.context=e,this.refs=TE,this.updater=t||CE}var gx=mx.prototype=new BE;gx.constructor=mx;bE(gx,hc.prototype);gx.isPureReactComponent=!0;var Qw=Array.isArray,PE=Object.prototype.hasOwnProperty,vx={current:null},RE={key:!0,ref:!0,__self:!0,__source:!0};function LE(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)PE.call(e,i)&&!RE.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];r.children=c}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:dd,type:n,key:s,ref:o,props:r,_owner:vx.current}}function VP(n,e){return{$$typeof:dd,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function yx(n){return typeof n=="object"&&n!==null&&n.$$typeof===dd}function WP(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var Zw=/\/+/g;function $g(n,e){return typeof n=="object"&&n!==null&&n.key!=null?WP(""+n.key):e.toString(36)}function sp(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case dd:case IP:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+$g(o,0):i,Qw(r)?(t="",n!=null&&(t=n.replace(Zw,"$&/")+"/"),sp(r,e,t,"",function(d){return d})):r!=null&&(yx(r)&&(r=VP(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(Zw,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",Qw(n))for(var a=0;a<n.length;a++){s=n[a];var c=i+$g(s,a);o+=sp(s,e,t,c,r)}else if(c=jP(n),typeof c=="function")for(n=c.call(n),a=0;!(s=n.next()).done;)s=s.value,c=i+$g(s,a++),o+=sp(s,e,t,c,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Jf(n,e,t){if(n==null)return n;var i=[],r=0;return sp(n,i,"","",function(s){return e.call(t,s,r++)}),i}function JP(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var hi={current:null},op={transition:null},XP={ReactCurrentDispatcher:hi,ReactCurrentBatchConfig:op,ReactCurrentOwner:vx};At.Children={map:Jf,forEach:function(n,e,t){Jf(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Jf(n,function(){e++}),e},toArray:function(n){return Jf(n,function(e){return e})||[]},only:function(n){if(!yx(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};At.Component=hc;At.Fragment=DP;At.Profiler=FP;At.PureComponent=mx;At.StrictMode=NP;At.Suspense=UP;At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XP;At.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=bE({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=vx.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(c in e)PE.call(e,c)&&!RE.hasOwnProperty(c)&&(i[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)i.children=t;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];i.children=a}return{$$typeof:dd,type:n.type,key:r,ref:s,props:i,_owner:o}};At.createContext=function(n){return n={$$typeof:kP,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:OP,_context:n},n.Consumer=n};At.createElement=LE;At.createFactory=function(n){var e=LE.bind(null,n);return e.type=n,e};At.createRef=function(){return{current:null}};At.forwardRef=function(n){return{$$typeof:zP,render:n}};At.isValidElement=yx;At.lazy=function(n){return{$$typeof:HP,_payload:{_status:-1,_result:n},_init:JP}};At.memo=function(n,e){return{$$typeof:GP,type:n,compare:e===void 0?null:e}};At.startTransition=function(n){var e=op.transition;op.transition={};try{n()}finally{op.transition=e}};At.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};At.useCallback=function(n,e){return hi.current.useCallback(n,e)};At.useContext=function(n){return hi.current.useContext(n)};At.useDebugValue=function(){};At.useDeferredValue=function(n){return hi.current.useDeferredValue(n)};At.useEffect=function(n,e){return hi.current.useEffect(n,e)};At.useId=function(){return hi.current.useId()};At.useImperativeHandle=function(n,e,t){return hi.current.useImperativeHandle(n,e,t)};At.useInsertionEffect=function(n,e){return hi.current.useInsertionEffect(n,e)};At.useLayoutEffect=function(n,e){return hi.current.useLayoutEffect(n,e)};At.useMemo=function(n,e){return hi.current.useMemo(n,e)};At.useReducer=function(n,e,t){return hi.current.useReducer(n,e,t)};At.useRef=function(n){return hi.current.useRef(n)};At.useState=function(n){return hi.current.useState(n)};At.useSyncExternalStore=function(n,e,t){return hi.current.useSyncExternalStore(n,e,t)};At.useTransition=function(){return hi.current.useTransition()};At.version="18.2.0";EE.exports=At;var Y=EE.exports;const xx=px(Y),qP=LP({__proto__:null,default:xx},[Y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KP=Y,YP=Symbol.for("react.element"),QP=Symbol.for("react.fragment"),ZP=Object.prototype.hasOwnProperty,$P=KP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,e3={key:!0,ref:!0,__self:!0,__source:!0};function IE(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)ZP.call(e,i)&&!e3.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:YP,type:n,key:s,ref:o,props:r,_owner:$P.current}}am.Fragment=QP;am.jsx=IE;am.jsxs=IE;ME.exports=am;var P=ME.exports,Cv={},DE={exports:{}},Ui={},NE={exports:{}},FE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(I,G){var j=I.length;I.push(G);e:for(;0<j;){var ne=j-1>>>1,H=I[ne];if(0<r(H,G))I[ne]=G,I[j]=H,j=ne;else break e}}function t(I){return I.length===0?null:I[0]}function i(I){if(I.length===0)return null;var G=I[0],j=I.pop();if(j!==G){I[0]=j;e:for(var ne=0,H=I.length,te=H>>>1;ne<te;){var ge=2*(ne+1)-1,ye=I[ge],Q=ge+1,Pe=I[Q];if(0>r(ye,j))Q<H&&0>r(Pe,ye)?(I[ne]=Pe,I[Q]=j,ne=Q):(I[ne]=ye,I[ge]=j,ne=ge);else if(Q<H&&0>r(Pe,j))I[ne]=Pe,I[Q]=j,ne=Q;else break e}}return G}function r(I,G){var j=I.sortIndex-G.sortIndex;return j!==0?j:I.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var c=[],d=[],f=1,h=null,p=3,g=!1,y=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(I){for(var G=t(d);G!==null;){if(G.callback===null)i(d);else if(G.startTime<=I)i(d),G.sortIndex=G.expirationTime,e(c,G);else break;G=t(d)}}function E(I){if(v=!1,S(I),!y)if(t(c)!==null)y=!0,ce(C);else{var G=t(d);G!==null&&ue(E,G.startTime-I)}}function C(I,G){y=!1,v&&(v=!1,w(b),b=-1),g=!0;var j=p;try{for(S(G),h=t(c);h!==null&&(!(h.expirationTime>G)||I&&!U());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,p=h.priorityLevel;var H=ne(h.expirationTime<=G);G=n.unstable_now(),typeof H=="function"?h.callback=H:h===t(c)&&i(c),S(G)}else i(c);h=t(c)}if(h!==null)var te=!0;else{var ge=t(d);ge!==null&&ue(E,ge.startTime-G),te=!1}return te}finally{h=null,p=j,g=!1}}var B=!1,L=null,b=-1,R=5,D=-1;function U(){return!(n.unstable_now()-D<R)}function Z(){if(L!==null){var I=n.unstable_now();D=I;var G=!0;try{G=L(!0,I)}finally{G?W():(B=!1,L=null)}}else B=!1}var W;if(typeof A=="function")W=function(){A(Z)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,$=J.port2;J.port1.onmessage=Z,W=function(){$.postMessage(null)}}else W=function(){_(Z,0)};function ce(I){L=I,B||(B=!0,W())}function ue(I,G){b=_(function(){I(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(I){I.callback=null},n.unstable_continueExecution=function(){y||g||(y=!0,ce(C))},n.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<I?Math.floor(1e3/I):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(I){switch(p){case 1:case 2:case 3:var G=3;break;default:G=p}var j=p;p=G;try{return I()}finally{p=j}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(I,G){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var j=p;p=I;try{return G()}finally{p=j}},n.unstable_scheduleCallback=function(I,G,j){var ne=n.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?ne+j:ne):j=ne,I){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=j+H,I={id:f++,callback:G,priorityLevel:I,startTime:j,expirationTime:H,sortIndex:-1},j>ne?(I.sortIndex=j,e(d,I),t(c)===null&&I===t(d)&&(v?(w(b),b=-1):v=!0,ue(E,j-ne))):(I.sortIndex=H,e(c,I),y||g||(y=!0,ce(C))),I},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(I){var G=p;return function(){var j=p;p=G;try{return I.apply(this,arguments)}finally{p=j}}}})(FE);NE.exports=FE;var t3=NE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OE=Y,ki=t3;function Se(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kE=new Set,Nu={};function Ia(n,e){Kl(n,e),Kl(n+"Capture",e)}function Kl(n,e){for(Nu[n]=e,n=0;n<e.length;n++)kE.add(e[n])}var bs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bv=Object.prototype.hasOwnProperty,n3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$w={},eA={};function i3(n){return bv.call(eA,n)?!0:bv.call($w,n)?!1:n3.test(n)?eA[n]=!0:($w[n]=!0,!1)}function r3(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function s3(n,e,t,i){if(e===null||typeof e>"u"||r3(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function pi(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Wn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Wn[n]=new pi(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Wn[e]=new pi(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Wn[n]=new pi(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Wn[n]=new pi(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Wn[n]=new pi(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Wn[n]=new pi(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Wn[n]=new pi(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Wn[n]=new pi(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Wn[n]=new pi(n,5,!1,n.toLowerCase(),null,!1,!1)});var _x=/[\-:]([a-z])/g;function wx(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(_x,wx);Wn[e]=new pi(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(_x,wx);Wn[e]=new pi(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(_x,wx);Wn[e]=new pi(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Wn[n]=new pi(n,1,!1,n.toLowerCase(),null,!1,!1)});Wn.xlinkHref=new pi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Wn[n]=new pi(n,1,!1,n.toLowerCase(),null,!0,!0)});function Ax(n,e,t,i){var r=Wn.hasOwnProperty(e)?Wn[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(s3(e,t,r,i)&&(t=null),i||r===null?i3(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var Is=OE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xf=Symbol.for("react.element"),Sl=Symbol.for("react.portal"),Ml=Symbol.for("react.fragment"),Sx=Symbol.for("react.strict_mode"),Tv=Symbol.for("react.profiler"),zE=Symbol.for("react.provider"),UE=Symbol.for("react.context"),Mx=Symbol.for("react.forward_ref"),Bv=Symbol.for("react.suspense"),Pv=Symbol.for("react.suspense_list"),Ex=Symbol.for("react.memo"),Zs=Symbol.for("react.lazy"),GE=Symbol.for("react.offscreen"),tA=Symbol.iterator;function Jc(n){return n===null||typeof n!="object"?null:(n=tA&&n[tA]||n["@@iterator"],typeof n=="function"?n:null)}var on=Object.assign,e0;function gu(n){if(e0===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);e0=e&&e[1]||""}return`
`+e0+n}var t0=!1;function n0(n,e){if(!n||t0)return"";t0=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var i=d}Reflect.construct(n,[],e)}else{try{e.call()}catch(d){i=d}n.call(e.prototype)}else{try{throw Error()}catch(d){i=d}n()}}catch(d){if(d&&i&&typeof d.stack=="string"){for(var r=d.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var c=`
`+r[o].replace(" at new "," at ");return n.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",n.displayName)),c}while(1<=o&&0<=a);break}}}finally{t0=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?gu(n):""}function o3(n){switch(n.tag){case 5:return gu(n.type);case 16:return gu("Lazy");case 13:return gu("Suspense");case 19:return gu("SuspenseList");case 0:case 2:case 15:return n=n0(n.type,!1),n;case 11:return n=n0(n.type.render,!1),n;case 1:return n=n0(n.type,!0),n;default:return""}}function Rv(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Ml:return"Fragment";case Sl:return"Portal";case Tv:return"Profiler";case Sx:return"StrictMode";case Bv:return"Suspense";case Pv:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case UE:return(n.displayName||"Context")+".Consumer";case zE:return(n._context.displayName||"Context")+".Provider";case Mx:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Ex:return e=n.displayName||null,e!==null?e:Rv(n.type)||"Memo";case Zs:e=n._payload,n=n._init;try{return Rv(n(e))}catch{}}return null}function a3(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rv(e);case 8:return e===Sx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function yo(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function HE(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function l3(n){var e=HE(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function qf(n){n._valueTracker||(n._valueTracker=l3(n))}function jE(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=HE(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function Cp(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Lv(n,e){var t=e.checked;return on({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function nA(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=yo(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function VE(n,e){e=e.checked,e!=null&&Ax(n,"checked",e,!1)}function Iv(n,e){VE(n,e);var t=yo(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Dv(n,e.type,t):e.hasOwnProperty("defaultValue")&&Dv(n,e.type,yo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function iA(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Dv(n,e,t){(e!=="number"||Cp(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var vu=Array.isArray;function Ul(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+yo(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function Nv(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Se(91));return on({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function rA(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Se(92));if(vu(t)){if(1<t.length)throw Error(Se(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:yo(t)}}function WE(n,e){var t=yo(e.value),i=yo(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function sA(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function JE(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fv(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?JE(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Kf,XE=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Kf=Kf||document.createElement("div"),Kf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Kf.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Fu(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Au={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},c3=["Webkit","ms","Moz","O"];Object.keys(Au).forEach(function(n){c3.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Au[e]=Au[n]})});function qE(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Au.hasOwnProperty(n)&&Au[n]?(""+e).trim():e+"px"}function KE(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=qE(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var u3=on({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ov(n,e){if(e){if(u3[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Se(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Se(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Se(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Se(62))}}function kv(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zv=null;function Cx(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Uv=null,Gl=null,Hl=null;function oA(n){if(n=pd(n)){if(typeof Uv!="function")throw Error(Se(280));var e=n.stateNode;e&&(e=fm(e),Uv(n.stateNode,n.type,e))}}function YE(n){Gl?Hl?Hl.push(n):Hl=[n]:Gl=n}function QE(){if(Gl){var n=Gl,e=Hl;if(Hl=Gl=null,oA(n),e)for(n=0;n<e.length;n++)oA(e[n])}}function ZE(n,e){return n(e)}function $E(){}var i0=!1;function eC(n,e,t){if(i0)return n(e,t);i0=!0;try{return ZE(n,e,t)}finally{i0=!1,(Gl!==null||Hl!==null)&&($E(),QE())}}function Ou(n,e){var t=n.stateNode;if(t===null)return null;var i=fm(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Se(231,e,typeof t));return t}var Gv=!1;if(bs)try{var Xc={};Object.defineProperty(Xc,"passive",{get:function(){Gv=!0}}),window.addEventListener("test",Xc,Xc),window.removeEventListener("test",Xc,Xc)}catch{Gv=!1}function d3(n,e,t,i,r,s,o,a,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(t,d)}catch(f){this.onError(f)}}var Su=!1,bp=null,Tp=!1,Hv=null,f3={onError:function(n){Su=!0,bp=n}};function h3(n,e,t,i,r,s,o,a,c){Su=!1,bp=null,d3.apply(f3,arguments)}function p3(n,e,t,i,r,s,o,a,c){if(h3.apply(this,arguments),Su){if(Su){var d=bp;Su=!1,bp=null}else throw Error(Se(198));Tp||(Tp=!0,Hv=d)}}function Da(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function tC(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function aA(n){if(Da(n)!==n)throw Error(Se(188))}function m3(n){var e=n.alternate;if(!e){if(e=Da(n),e===null)throw Error(Se(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return aA(r),n;if(s===i)return aA(r),e;s=s.sibling}throw Error(Se(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(Se(189))}}if(t.alternate!==i)throw Error(Se(190))}if(t.tag!==3)throw Error(Se(188));return t.stateNode.current===t?n:e}function nC(n){return n=m3(n),n!==null?iC(n):null}function iC(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=iC(n);if(e!==null)return e;n=n.sibling}return null}var rC=ki.unstable_scheduleCallback,lA=ki.unstable_cancelCallback,g3=ki.unstable_shouldYield,v3=ki.unstable_requestPaint,gn=ki.unstable_now,y3=ki.unstable_getCurrentPriorityLevel,bx=ki.unstable_ImmediatePriority,sC=ki.unstable_UserBlockingPriority,Bp=ki.unstable_NormalPriority,x3=ki.unstable_LowPriority,oC=ki.unstable_IdlePriority,lm=null,Vr=null;function _3(n){if(Vr&&typeof Vr.onCommitFiberRoot=="function")try{Vr.onCommitFiberRoot(lm,n,void 0,(n.current.flags&128)===128)}catch{}}var Er=Math.clz32?Math.clz32:S3,w3=Math.log,A3=Math.LN2;function S3(n){return n>>>=0,n===0?32:31-(w3(n)/A3|0)|0}var Yf=64,Qf=4194304;function yu(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Pp(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=yu(a):(s&=o,s!==0&&(i=yu(s)))}else o=t&~r,o!==0?i=yu(o):s!==0&&(i=yu(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-Er(e),r=1<<t,i|=n[t],e&=~r;return i}function M3(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function E3(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Er(s),a=1<<o,c=r[o];c===-1?(!(a&t)||a&i)&&(r[o]=M3(a,e)):c<=e&&(n.expiredLanes|=a),s&=~a}}function jv(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function aC(){var n=Yf;return Yf<<=1,!(Yf&4194240)&&(Yf=64),n}function r0(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function fd(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Er(e),n[e]=t}function C3(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-Er(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function Tx(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-Er(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var Ot=0;function lC(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var cC,Bx,uC,dC,fC,Vv=!1,Zf=[],ao=null,lo=null,co=null,ku=new Map,zu=new Map,to=[],b3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cA(n,e){switch(n){case"focusin":case"focusout":ao=null;break;case"dragenter":case"dragleave":lo=null;break;case"mouseover":case"mouseout":co=null;break;case"pointerover":case"pointerout":ku.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":zu.delete(e.pointerId)}}function qc(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=pd(e),e!==null&&Bx(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function T3(n,e,t,i,r){switch(e){case"focusin":return ao=qc(ao,n,e,t,i,r),!0;case"dragenter":return lo=qc(lo,n,e,t,i,r),!0;case"mouseover":return co=qc(co,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return ku.set(s,qc(ku.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,zu.set(s,qc(zu.get(s)||null,n,e,t,i,r)),!0}return!1}function hC(n){var e=aa(n.target);if(e!==null){var t=Da(e);if(t!==null){if(e=t.tag,e===13){if(e=tC(t),e!==null){n.blockedOn=e,fC(n.priority,function(){uC(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ap(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Wv(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);zv=i,t.target.dispatchEvent(i),zv=null}else return e=pd(t),e!==null&&Bx(e),n.blockedOn=t,!1;e.shift()}return!0}function uA(n,e,t){ap(n)&&t.delete(e)}function B3(){Vv=!1,ao!==null&&ap(ao)&&(ao=null),lo!==null&&ap(lo)&&(lo=null),co!==null&&ap(co)&&(co=null),ku.forEach(uA),zu.forEach(uA)}function Kc(n,e){n.blockedOn===e&&(n.blockedOn=null,Vv||(Vv=!0,ki.unstable_scheduleCallback(ki.unstable_NormalPriority,B3)))}function Uu(n){function e(r){return Kc(r,n)}if(0<Zf.length){Kc(Zf[0],n);for(var t=1;t<Zf.length;t++){var i=Zf[t];i.blockedOn===n&&(i.blockedOn=null)}}for(ao!==null&&Kc(ao,n),lo!==null&&Kc(lo,n),co!==null&&Kc(co,n),ku.forEach(e),zu.forEach(e),t=0;t<to.length;t++)i=to[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<to.length&&(t=to[0],t.blockedOn===null);)hC(t),t.blockedOn===null&&to.shift()}var jl=Is.ReactCurrentBatchConfig,Rp=!0;function P3(n,e,t,i){var r=Ot,s=jl.transition;jl.transition=null;try{Ot=1,Px(n,e,t,i)}finally{Ot=r,jl.transition=s}}function R3(n,e,t,i){var r=Ot,s=jl.transition;jl.transition=null;try{Ot=4,Px(n,e,t,i)}finally{Ot=r,jl.transition=s}}function Px(n,e,t,i){if(Rp){var r=Wv(n,e,t,i);if(r===null)p0(n,e,i,Lp,t),cA(n,i);else if(T3(r,n,e,t,i))i.stopPropagation();else if(cA(n,i),e&4&&-1<b3.indexOf(n)){for(;r!==null;){var s=pd(r);if(s!==null&&cC(s),s=Wv(n,e,t,i),s===null&&p0(n,e,i,Lp,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else p0(n,e,i,null,t)}}var Lp=null;function Wv(n,e,t,i){if(Lp=null,n=Cx(i),n=aa(n),n!==null)if(e=Da(n),e===null)n=null;else if(t=e.tag,t===13){if(n=tC(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Lp=n,null}function pC(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(y3()){case bx:return 1;case sC:return 4;case Bp:case x3:return 16;case oC:return 536870912;default:return 16}default:return 16}}var io=null,Rx=null,lp=null;function mC(){if(lp)return lp;var n,e=Rx,t=e.length,i,r="value"in io?io.value:io.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return lp=r.slice(n,1<i?1-i:void 0)}function cp(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function $f(){return!0}function dA(){return!1}function Gi(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?$f:dA,this.isPropagationStopped=dA,this}return on(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=$f)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=$f)},persist:function(){},isPersistent:$f}),e}var pc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lx=Gi(pc),hd=on({},pc,{view:0,detail:0}),L3=Gi(hd),s0,o0,Yc,cm=on({},hd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ix,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Yc&&(Yc&&n.type==="mousemove"?(s0=n.screenX-Yc.screenX,o0=n.screenY-Yc.screenY):o0=s0=0,Yc=n),s0)},movementY:function(n){return"movementY"in n?n.movementY:o0}}),fA=Gi(cm),I3=on({},cm,{dataTransfer:0}),D3=Gi(I3),N3=on({},hd,{relatedTarget:0}),a0=Gi(N3),F3=on({},pc,{animationName:0,elapsedTime:0,pseudoElement:0}),O3=Gi(F3),k3=on({},pc,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),z3=Gi(k3),U3=on({},pc,{data:0}),hA=Gi(U3),G3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},H3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},j3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function V3(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=j3[n])?!!e[n]:!1}function Ix(){return V3}var W3=on({},hd,{key:function(n){if(n.key){var e=G3[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=cp(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?H3[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ix,charCode:function(n){return n.type==="keypress"?cp(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?cp(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),J3=Gi(W3),X3=on({},cm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pA=Gi(X3),q3=on({},hd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ix}),K3=Gi(q3),Y3=on({},pc,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q3=Gi(Y3),Z3=on({},cm,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),$3=Gi(Z3),eR=[9,13,27,32],Dx=bs&&"CompositionEvent"in window,Mu=null;bs&&"documentMode"in document&&(Mu=document.documentMode);var tR=bs&&"TextEvent"in window&&!Mu,gC=bs&&(!Dx||Mu&&8<Mu&&11>=Mu),mA=String.fromCharCode(32),gA=!1;function vC(n,e){switch(n){case"keyup":return eR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yC(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var El=!1;function nR(n,e){switch(n){case"compositionend":return yC(e);case"keypress":return e.which!==32?null:(gA=!0,mA);case"textInput":return n=e.data,n===mA&&gA?null:n;default:return null}}function iR(n,e){if(El)return n==="compositionend"||!Dx&&vC(n,e)?(n=mC(),lp=Rx=io=null,El=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return gC&&e.locale!=="ko"?null:e.data;default:return null}}var rR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vA(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!rR[n.type]:e==="textarea"}function xC(n,e,t,i){YE(i),e=Ip(e,"onChange"),0<e.length&&(t=new Lx("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var Eu=null,Gu=null;function sR(n){PC(n,0)}function um(n){var e=Tl(n);if(jE(e))return n}function oR(n,e){if(n==="change")return e}var _C=!1;if(bs){var l0;if(bs){var c0="oninput"in document;if(!c0){var yA=document.createElement("div");yA.setAttribute("oninput","return;"),c0=typeof yA.oninput=="function"}l0=c0}else l0=!1;_C=l0&&(!document.documentMode||9<document.documentMode)}function xA(){Eu&&(Eu.detachEvent("onpropertychange",wC),Gu=Eu=null)}function wC(n){if(n.propertyName==="value"&&um(Gu)){var e=[];xC(e,Gu,n,Cx(n)),eC(sR,e)}}function aR(n,e,t){n==="focusin"?(xA(),Eu=e,Gu=t,Eu.attachEvent("onpropertychange",wC)):n==="focusout"&&xA()}function lR(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return um(Gu)}function cR(n,e){if(n==="click")return um(e)}function uR(n,e){if(n==="input"||n==="change")return um(e)}function dR(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Tr=typeof Object.is=="function"?Object.is:dR;function Hu(n,e){if(Tr(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!bv.call(e,r)||!Tr(n[r],e[r]))return!1}return!0}function _A(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function wA(n,e){var t=_A(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=_A(t)}}function AC(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?AC(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function SC(){for(var n=window,e=Cp();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Cp(n.document)}return e}function Nx(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function fR(n){var e=SC(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&AC(t.ownerDocument.documentElement,t)){if(i!==null&&Nx(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=wA(t,s);var o=wA(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var hR=bs&&"documentMode"in document&&11>=document.documentMode,Cl=null,Jv=null,Cu=null,Xv=!1;function AA(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Xv||Cl==null||Cl!==Cp(i)||(i=Cl,"selectionStart"in i&&Nx(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Cu&&Hu(Cu,i)||(Cu=i,i=Ip(Jv,"onSelect"),0<i.length&&(e=new Lx("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=Cl)))}function eh(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var bl={animationend:eh("Animation","AnimationEnd"),animationiteration:eh("Animation","AnimationIteration"),animationstart:eh("Animation","AnimationStart"),transitionend:eh("Transition","TransitionEnd")},u0={},MC={};bs&&(MC=document.createElement("div").style,"AnimationEvent"in window||(delete bl.animationend.animation,delete bl.animationiteration.animation,delete bl.animationstart.animation),"TransitionEvent"in window||delete bl.transitionend.transition);function dm(n){if(u0[n])return u0[n];if(!bl[n])return n;var e=bl[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in MC)return u0[n]=e[t];return n}var EC=dm("animationend"),CC=dm("animationiteration"),bC=dm("animationstart"),TC=dm("transitionend"),BC=new Map,SA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Co(n,e){BC.set(n,e),Ia(e,[n])}for(var d0=0;d0<SA.length;d0++){var f0=SA[d0],pR=f0.toLowerCase(),mR=f0[0].toUpperCase()+f0.slice(1);Co(pR,"on"+mR)}Co(EC,"onAnimationEnd");Co(CC,"onAnimationIteration");Co(bC,"onAnimationStart");Co("dblclick","onDoubleClick");Co("focusin","onFocus");Co("focusout","onBlur");Co(TC,"onTransitionEnd");Kl("onMouseEnter",["mouseout","mouseover"]);Kl("onMouseLeave",["mouseout","mouseover"]);Kl("onPointerEnter",["pointerout","pointerover"]);Kl("onPointerLeave",["pointerout","pointerover"]);Ia("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ia("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ia("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ia("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ia("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ia("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gR=new Set("cancel close invalid load scroll toggle".split(" ").concat(xu));function MA(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,p3(i,e,void 0,n),n.currentTarget=null}function PC(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==s&&r.isPropagationStopped())break e;MA(r,a,d),s=c}else for(o=0;o<i.length;o++){if(a=i[o],c=a.instance,d=a.currentTarget,a=a.listener,c!==s&&r.isPropagationStopped())break e;MA(r,a,d),s=c}}}if(Tp)throw n=Hv,Tp=!1,Hv=null,n}function jt(n,e){var t=e[Zv];t===void 0&&(t=e[Zv]=new Set);var i=n+"__bubble";t.has(i)||(RC(e,n,2,!1),t.add(i))}function h0(n,e,t){var i=0;e&&(i|=4),RC(t,n,i,e)}var th="_reactListening"+Math.random().toString(36).slice(2);function ju(n){if(!n[th]){n[th]=!0,kE.forEach(function(t){t!=="selectionchange"&&(gR.has(t)||h0(t,!1,n),h0(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[th]||(e[th]=!0,h0("selectionchange",!1,e))}}function RC(n,e,t,i){switch(pC(e)){case 1:var r=P3;break;case 4:r=R3;break;default:r=Px}t=r.bind(null,e,t,n),r=void 0,!Gv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function p0(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;o=o.return}for(;a!==null;){if(o=aa(a),o===null)return;if(c=o.tag,c===5||c===6){i=s=o;continue e}a=a.parentNode}}i=i.return}eC(function(){var d=s,f=Cx(t),h=[];e:{var p=BC.get(n);if(p!==void 0){var g=Lx,y=n;switch(n){case"keypress":if(cp(t)===0)break e;case"keydown":case"keyup":g=J3;break;case"focusin":y="focus",g=a0;break;case"focusout":y="blur",g=a0;break;case"beforeblur":case"afterblur":g=a0;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=fA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=D3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=K3;break;case EC:case CC:case bC:g=O3;break;case TC:g=Q3;break;case"scroll":g=L3;break;case"wheel":g=$3;break;case"copy":case"cut":case"paste":g=z3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=pA}var v=(e&4)!==0,_=!v&&n==="scroll",w=v?p!==null?p+"Capture":null:p;v=[];for(var A=d,S;A!==null;){S=A;var E=S.stateNode;if(S.tag===5&&E!==null&&(S=E,w!==null&&(E=Ou(A,w),E!=null&&v.push(Vu(A,E,S)))),_)break;A=A.return}0<v.length&&(p=new g(p,y,null,t,f),h.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",g=n==="mouseout"||n==="pointerout",p&&t!==zv&&(y=t.relatedTarget||t.fromElement)&&(aa(y)||y[Ts]))break e;if((g||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,g?(y=t.relatedTarget||t.toElement,g=d,y=y?aa(y):null,y!==null&&(_=Da(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=d),g!==y)){if(v=fA,E="onMouseLeave",w="onMouseEnter",A="mouse",(n==="pointerout"||n==="pointerover")&&(v=pA,E="onPointerLeave",w="onPointerEnter",A="pointer"),_=g==null?p:Tl(g),S=y==null?p:Tl(y),p=new v(E,A+"leave",g,t,f),p.target=_,p.relatedTarget=S,E=null,aa(f)===d&&(v=new v(w,A+"enter",y,t,f),v.target=S,v.relatedTarget=_,E=v),_=E,g&&y)t:{for(v=g,w=y,A=0,S=v;S;S=el(S))A++;for(S=0,E=w;E;E=el(E))S++;for(;0<A-S;)v=el(v),A--;for(;0<S-A;)w=el(w),S--;for(;A--;){if(v===w||w!==null&&v===w.alternate)break t;v=el(v),w=el(w)}v=null}else v=null;g!==null&&EA(h,p,g,v,!1),y!==null&&_!==null&&EA(h,_,y,v,!0)}}e:{if(p=d?Tl(d):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var C=oR;else if(vA(p))if(_C)C=uR;else{C=lR;var B=aR}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=cR);if(C&&(C=C(n,d))){xC(h,C,t,f);break e}B&&B(n,p,d),n==="focusout"&&(B=p._wrapperState)&&B.controlled&&p.type==="number"&&Dv(p,"number",p.value)}switch(B=d?Tl(d):window,n){case"focusin":(vA(B)||B.contentEditable==="true")&&(Cl=B,Jv=d,Cu=null);break;case"focusout":Cu=Jv=Cl=null;break;case"mousedown":Xv=!0;break;case"contextmenu":case"mouseup":case"dragend":Xv=!1,AA(h,t,f);break;case"selectionchange":if(hR)break;case"keydown":case"keyup":AA(h,t,f)}var L;if(Dx)e:{switch(n){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else El?vC(n,t)&&(b="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(b="onCompositionStart");b&&(gC&&t.locale!=="ko"&&(El||b!=="onCompositionStart"?b==="onCompositionEnd"&&El&&(L=mC()):(io=f,Rx="value"in io?io.value:io.textContent,El=!0)),B=Ip(d,b),0<B.length&&(b=new hA(b,n,null,t,f),h.push({event:b,listeners:B}),L?b.data=L:(L=yC(t),L!==null&&(b.data=L)))),(L=tR?nR(n,t):iR(n,t))&&(d=Ip(d,"onBeforeInput"),0<d.length&&(f=new hA("onBeforeInput","beforeinput",null,t,f),h.push({event:f,listeners:d}),f.data=L))}PC(h,e)})}function Vu(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Ip(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Ou(n,t),s!=null&&i.unshift(Vu(n,s,r)),s=Ou(n,e),s!=null&&i.push(Vu(n,s,r))),n=n.return}return i}function el(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function EA(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,c=a.alternate,d=a.stateNode;if(c!==null&&c===i)break;a.tag===5&&d!==null&&(a=d,r?(c=Ou(t,s),c!=null&&o.unshift(Vu(t,c,a))):r||(c=Ou(t,s),c!=null&&o.push(Vu(t,c,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var vR=/\r\n?/g,yR=/\u0000|\uFFFD/g;function CA(n){return(typeof n=="string"?n:""+n).replace(vR,`
`).replace(yR,"")}function nh(n,e,t){if(e=CA(e),CA(n)!==e&&t)throw Error(Se(425))}function Dp(){}var qv=null,Kv=null;function Yv(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Qv=typeof setTimeout=="function"?setTimeout:void 0,xR=typeof clearTimeout=="function"?clearTimeout:void 0,bA=typeof Promise=="function"?Promise:void 0,_R=typeof queueMicrotask=="function"?queueMicrotask:typeof bA<"u"?function(n){return bA.resolve(null).then(n).catch(wR)}:Qv;function wR(n){setTimeout(function(){throw n})}function m0(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),Uu(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);Uu(e)}function uo(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function TA(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var mc=Math.random().toString(36).slice(2),jr="__reactFiber$"+mc,Wu="__reactProps$"+mc,Ts="__reactContainer$"+mc,Zv="__reactEvents$"+mc,AR="__reactListeners$"+mc,SR="__reactHandles$"+mc;function aa(n){var e=n[jr];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Ts]||t[jr]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=TA(n);n!==null;){if(t=n[jr])return t;n=TA(n)}return e}n=t,t=n.parentNode}return null}function pd(n){return n=n[jr]||n[Ts],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Tl(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Se(33))}function fm(n){return n[Wu]||null}var $v=[],Bl=-1;function bo(n){return{current:n}}function Jt(n){0>Bl||(n.current=$v[Bl],$v[Bl]=null,Bl--)}function Ht(n,e){Bl++,$v[Bl]=n.current,n.current=e}var xo={},ti=bo(xo),Si=bo(!1),Ma=xo;function Yl(n,e){var t=n.type.contextTypes;if(!t)return xo;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function Mi(n){return n=n.childContextTypes,n!=null}function Np(){Jt(Si),Jt(ti)}function BA(n,e,t){if(ti.current!==xo)throw Error(Se(168));Ht(ti,e),Ht(Si,t)}function LC(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(Se(108,a3(n)||"Unknown",r));return on({},t,i)}function Fp(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||xo,Ma=ti.current,Ht(ti,n),Ht(Si,Si.current),!0}function PA(n,e,t){var i=n.stateNode;if(!i)throw Error(Se(169));t?(n=LC(n,e,Ma),i.__reactInternalMemoizedMergedChildContext=n,Jt(Si),Jt(ti),Ht(ti,n)):Jt(Si),Ht(Si,t)}var vs=null,hm=!1,g0=!1;function IC(n){vs===null?vs=[n]:vs.push(n)}function MR(n){hm=!0,IC(n)}function To(){if(!g0&&vs!==null){g0=!0;var n=0,e=Ot;try{var t=vs;for(Ot=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}vs=null,hm=!1}catch(r){throw vs!==null&&(vs=vs.slice(n+1)),rC(bx,To),r}finally{Ot=e,g0=!1}}return null}var Pl=[],Rl=0,Op=null,kp=0,ir=[],rr=0,Ea=null,_s=1,ws="";function ea(n,e){Pl[Rl++]=kp,Pl[Rl++]=Op,Op=n,kp=e}function DC(n,e,t){ir[rr++]=_s,ir[rr++]=ws,ir[rr++]=Ea,Ea=n;var i=_s;n=ws;var r=32-Er(i)-1;i&=~(1<<r),t+=1;var s=32-Er(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,_s=1<<32-Er(e)+r|t<<r|i,ws=s+n}else _s=1<<s|t<<r|i,ws=n}function Fx(n){n.return!==null&&(ea(n,1),DC(n,1,0))}function Ox(n){for(;n===Op;)Op=Pl[--Rl],Pl[Rl]=null,kp=Pl[--Rl],Pl[Rl]=null;for(;n===Ea;)Ea=ir[--rr],ir[rr]=null,ws=ir[--rr],ir[rr]=null,_s=ir[--rr],ir[rr]=null}var Fi=null,Di=null,Yt=!1,Ar=null;function NC(n,e){var t=or(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function RA(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Fi=n,Di=uo(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Fi=n,Di=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Ea!==null?{id:_s,overflow:ws}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=or(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Fi=n,Di=null,!0):!1;default:return!1}}function ey(n){return(n.mode&1)!==0&&(n.flags&128)===0}function ty(n){if(Yt){var e=Di;if(e){var t=e;if(!RA(n,e)){if(ey(n))throw Error(Se(418));e=uo(t.nextSibling);var i=Fi;e&&RA(n,e)?NC(i,t):(n.flags=n.flags&-4097|2,Yt=!1,Fi=n)}}else{if(ey(n))throw Error(Se(418));n.flags=n.flags&-4097|2,Yt=!1,Fi=n}}}function LA(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Fi=n}function ih(n){if(n!==Fi)return!1;if(!Yt)return LA(n),Yt=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!Yv(n.type,n.memoizedProps)),e&&(e=Di)){if(ey(n))throw FC(),Error(Se(418));for(;e;)NC(n,e),e=uo(e.nextSibling)}if(LA(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Se(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Di=uo(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Di=null}}else Di=Fi?uo(n.stateNode.nextSibling):null;return!0}function FC(){for(var n=Di;n;)n=uo(n.nextSibling)}function Ql(){Di=Fi=null,Yt=!1}function kx(n){Ar===null?Ar=[n]:Ar.push(n)}var ER=Is.ReactCurrentBatchConfig;function xr(n,e){if(n&&n.defaultProps){e=on({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var zp=bo(null),Up=null,Ll=null,zx=null;function Ux(){zx=Ll=Up=null}function Gx(n){var e=zp.current;Jt(zp),n._currentValue=e}function ny(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function Vl(n,e){Up=n,zx=Ll=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Ai=!0),n.firstContext=null)}function cr(n){var e=n._currentValue;if(zx!==n)if(n={context:n,memoizedValue:e,next:null},Ll===null){if(Up===null)throw Error(Se(308));Ll=n,Up.dependencies={lanes:0,firstContext:n}}else Ll=Ll.next=n;return e}var la=null;function Hx(n){la===null?la=[n]:la.push(n)}function OC(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,Hx(e)):(t.next=r.next,r.next=t),e.interleaved=t,Bs(n,i)}function Bs(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var $s=!1;function jx(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kC(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Es(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function fo(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,Bt&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Bs(n,t)}return r=i.interleaved,r===null?(e.next=e,Hx(i)):(e.next=r.next,r.next=e),i.interleaved=e,Bs(n,t)}function up(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,Tx(n,t)}}function IA(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Gp(n,e,t,i){var r=n.updateQueue;$s=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var c=a,d=c.next;c.next=null,o===null?s=d:o.next=d,o=c;var f=n.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=d:a.next=d,f.lastBaseUpdate=c))}if(s!==null){var h=r.baseState;o=0,f=d=c=null,a=s;do{var p=a.lane,g=a.eventTime;if((i&p)===p){f!==null&&(f=f.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=n,v=a;switch(p=e,g=t,v.tag){case 1:if(y=v.payload,typeof y=="function"){h=y.call(g,h,p);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,p=typeof y=="function"?y.call(g,h,p):y,p==null)break e;h=on({},h,p);break e;case 2:$s=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(d=f=g,c=h):f=f.next=g,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(1);if(f===null&&(c=h),r.baseState=c,r.firstBaseUpdate=d,r.lastBaseUpdate=f,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);ba|=o,n.lanes=o,n.memoizedState=h}}function DA(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(Se(191,r));r.call(i)}}}var zC=new OE.Component().refs;function iy(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:on({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var pm={isMounted:function(n){return(n=n._reactInternals)?Da(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=fi(),r=po(n),s=Es(i,r);s.payload=e,t!=null&&(s.callback=t),e=fo(n,s,r),e!==null&&(Cr(e,n,r,i),up(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=fi(),r=po(n),s=Es(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=fo(n,s,r),e!==null&&(Cr(e,n,r,i),up(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=fi(),i=po(n),r=Es(t,i);r.tag=2,e!=null&&(r.callback=e),e=fo(n,r,i),e!==null&&(Cr(e,n,i,t),up(e,n,i))}};function NA(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Hu(t,i)||!Hu(r,s):!0}function UC(n,e,t){var i=!1,r=xo,s=e.contextType;return typeof s=="object"&&s!==null?s=cr(s):(r=Mi(e)?Ma:ti.current,i=e.contextTypes,s=(i=i!=null)?Yl(n,r):xo),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=pm,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function FA(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&pm.enqueueReplaceState(e,e.state,null)}function ry(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs=zC,jx(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=cr(s):(s=Mi(e)?Ma:ti.current,r.context=Yl(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(iy(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&pm.enqueueReplaceState(r,r.state,null),Gp(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function Qc(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Se(309));var i=t.stateNode}if(!i)throw Error(Se(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;a===zC&&(a=r.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Se(284));if(!t._owner)throw Error(Se(290,n))}return n}function rh(n,e){throw n=Object.prototype.toString.call(e),Error(Se(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function OA(n){var e=n._init;return e(n._payload)}function GC(n){function e(w,A){if(n){var S=w.deletions;S===null?(w.deletions=[A],w.flags|=16):S.push(A)}}function t(w,A){if(!n)return null;for(;A!==null;)e(w,A),A=A.sibling;return null}function i(w,A){for(w=new Map;A!==null;)A.key!==null?w.set(A.key,A):w.set(A.index,A),A=A.sibling;return w}function r(w,A){return w=mo(w,A),w.index=0,w.sibling=null,w}function s(w,A,S){return w.index=S,n?(S=w.alternate,S!==null?(S=S.index,S<A?(w.flags|=2,A):S):(w.flags|=2,A)):(w.flags|=1048576,A)}function o(w){return n&&w.alternate===null&&(w.flags|=2),w}function a(w,A,S,E){return A===null||A.tag!==6?(A=S0(S,w.mode,E),A.return=w,A):(A=r(A,S),A.return=w,A)}function c(w,A,S,E){var C=S.type;return C===Ml?f(w,A,S.props.children,E,S.key):A!==null&&(A.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Zs&&OA(C)===A.type)?(E=r(A,S.props),E.ref=Qc(w,A,S),E.return=w,E):(E=gp(S.type,S.key,S.props,null,w.mode,E),E.ref=Qc(w,A,S),E.return=w,E)}function d(w,A,S,E){return A===null||A.tag!==4||A.stateNode.containerInfo!==S.containerInfo||A.stateNode.implementation!==S.implementation?(A=M0(S,w.mode,E),A.return=w,A):(A=r(A,S.children||[]),A.return=w,A)}function f(w,A,S,E,C){return A===null||A.tag!==7?(A=va(S,w.mode,E,C),A.return=w,A):(A=r(A,S),A.return=w,A)}function h(w,A,S){if(typeof A=="string"&&A!==""||typeof A=="number")return A=S0(""+A,w.mode,S),A.return=w,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Xf:return S=gp(A.type,A.key,A.props,null,w.mode,S),S.ref=Qc(w,null,A),S.return=w,S;case Sl:return A=M0(A,w.mode,S),A.return=w,A;case Zs:var E=A._init;return h(w,E(A._payload),S)}if(vu(A)||Jc(A))return A=va(A,w.mode,S,null),A.return=w,A;rh(w,A)}return null}function p(w,A,S,E){var C=A!==null?A.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return C!==null?null:a(w,A,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Xf:return S.key===C?c(w,A,S,E):null;case Sl:return S.key===C?d(w,A,S,E):null;case Zs:return C=S._init,p(w,A,C(S._payload),E)}if(vu(S)||Jc(S))return C!==null?null:f(w,A,S,E,null);rh(w,S)}return null}function g(w,A,S,E,C){if(typeof E=="string"&&E!==""||typeof E=="number")return w=w.get(S)||null,a(A,w,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Xf:return w=w.get(E.key===null?S:E.key)||null,c(A,w,E,C);case Sl:return w=w.get(E.key===null?S:E.key)||null,d(A,w,E,C);case Zs:var B=E._init;return g(w,A,S,B(E._payload),C)}if(vu(E)||Jc(E))return w=w.get(S)||null,f(A,w,E,C,null);rh(A,E)}return null}function y(w,A,S,E){for(var C=null,B=null,L=A,b=A=0,R=null;L!==null&&b<S.length;b++){L.index>b?(R=L,L=null):R=L.sibling;var D=p(w,L,S[b],E);if(D===null){L===null&&(L=R);break}n&&L&&D.alternate===null&&e(w,L),A=s(D,A,b),B===null?C=D:B.sibling=D,B=D,L=R}if(b===S.length)return t(w,L),Yt&&ea(w,b),C;if(L===null){for(;b<S.length;b++)L=h(w,S[b],E),L!==null&&(A=s(L,A,b),B===null?C=L:B.sibling=L,B=L);return Yt&&ea(w,b),C}for(L=i(w,L);b<S.length;b++)R=g(L,w,b,S[b],E),R!==null&&(n&&R.alternate!==null&&L.delete(R.key===null?b:R.key),A=s(R,A,b),B===null?C=R:B.sibling=R,B=R);return n&&L.forEach(function(U){return e(w,U)}),Yt&&ea(w,b),C}function v(w,A,S,E){var C=Jc(S);if(typeof C!="function")throw Error(Se(150));if(S=C.call(S),S==null)throw Error(Se(151));for(var B=C=null,L=A,b=A=0,R=null,D=S.next();L!==null&&!D.done;b++,D=S.next()){L.index>b?(R=L,L=null):R=L.sibling;var U=p(w,L,D.value,E);if(U===null){L===null&&(L=R);break}n&&L&&U.alternate===null&&e(w,L),A=s(U,A,b),B===null?C=U:B.sibling=U,B=U,L=R}if(D.done)return t(w,L),Yt&&ea(w,b),C;if(L===null){for(;!D.done;b++,D=S.next())D=h(w,D.value,E),D!==null&&(A=s(D,A,b),B===null?C=D:B.sibling=D,B=D);return Yt&&ea(w,b),C}for(L=i(w,L);!D.done;b++,D=S.next())D=g(L,w,b,D.value,E),D!==null&&(n&&D.alternate!==null&&L.delete(D.key===null?b:D.key),A=s(D,A,b),B===null?C=D:B.sibling=D,B=D);return n&&L.forEach(function(Z){return e(w,Z)}),Yt&&ea(w,b),C}function _(w,A,S,E){if(typeof S=="object"&&S!==null&&S.type===Ml&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Xf:e:{for(var C=S.key,B=A;B!==null;){if(B.key===C){if(C=S.type,C===Ml){if(B.tag===7){t(w,B.sibling),A=r(B,S.props.children),A.return=w,w=A;break e}}else if(B.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Zs&&OA(C)===B.type){t(w,B.sibling),A=r(B,S.props),A.ref=Qc(w,B,S),A.return=w,w=A;break e}t(w,B);break}else e(w,B);B=B.sibling}S.type===Ml?(A=va(S.props.children,w.mode,E,S.key),A.return=w,w=A):(E=gp(S.type,S.key,S.props,null,w.mode,E),E.ref=Qc(w,A,S),E.return=w,w=E)}return o(w);case Sl:e:{for(B=S.key;A!==null;){if(A.key===B)if(A.tag===4&&A.stateNode.containerInfo===S.containerInfo&&A.stateNode.implementation===S.implementation){t(w,A.sibling),A=r(A,S.children||[]),A.return=w,w=A;break e}else{t(w,A);break}else e(w,A);A=A.sibling}A=M0(S,w.mode,E),A.return=w,w=A}return o(w);case Zs:return B=S._init,_(w,A,B(S._payload),E)}if(vu(S))return y(w,A,S,E);if(Jc(S))return v(w,A,S,E);rh(w,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,A!==null&&A.tag===6?(t(w,A.sibling),A=r(A,S),A.return=w,w=A):(t(w,A),A=S0(S,w.mode,E),A.return=w,w=A),o(w)):t(w,A)}return _}var Zl=GC(!0),HC=GC(!1),md={},Wr=bo(md),Ju=bo(md),Xu=bo(md);function ca(n){if(n===md)throw Error(Se(174));return n}function Vx(n,e){switch(Ht(Xu,e),Ht(Ju,n),Ht(Wr,md),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Fv(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Fv(e,n)}Jt(Wr),Ht(Wr,e)}function $l(){Jt(Wr),Jt(Ju),Jt(Xu)}function jC(n){ca(Xu.current);var e=ca(Wr.current),t=Fv(e,n.type);e!==t&&(Ht(Ju,n),Ht(Wr,t))}function Wx(n){Ju.current===n&&(Jt(Wr),Jt(Ju))}var tn=bo(0);function Hp(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var v0=[];function Jx(){for(var n=0;n<v0.length;n++)v0[n]._workInProgressVersionPrimary=null;v0.length=0}var dp=Is.ReactCurrentDispatcher,y0=Is.ReactCurrentBatchConfig,Ca=0,sn=null,bn=null,On=null,jp=!1,bu=!1,qu=0,CR=0;function Yn(){throw Error(Se(321))}function Xx(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Tr(n[t],e[t]))return!1;return!0}function qx(n,e,t,i,r,s){if(Ca=s,sn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,dp.current=n===null||n.memoizedState===null?PR:RR,n=t(i,r),bu){s=0;do{if(bu=!1,qu=0,25<=s)throw Error(Se(301));s+=1,On=bn=null,e.updateQueue=null,dp.current=LR,n=t(i,r)}while(bu)}if(dp.current=Vp,e=bn!==null&&bn.next!==null,Ca=0,On=bn=sn=null,jp=!1,e)throw Error(Se(300));return n}function Kx(){var n=qu!==0;return qu=0,n}function Gr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return On===null?sn.memoizedState=On=n:On=On.next=n,On}function ur(){if(bn===null){var n=sn.alternate;n=n!==null?n.memoizedState:null}else n=bn.next;var e=On===null?sn.memoizedState:On.next;if(e!==null)On=e,bn=n;else{if(n===null)throw Error(Se(310));bn=n,n={memoizedState:bn.memoizedState,baseState:bn.baseState,baseQueue:bn.baseQueue,queue:bn.queue,next:null},On===null?sn.memoizedState=On=n:On=On.next=n}return On}function Ku(n,e){return typeof e=="function"?e(n):e}function x0(n){var e=ur(),t=e.queue;if(t===null)throw Error(Se(311));t.lastRenderedReducer=n;var i=bn,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,c=null,d=s;do{var f=d.lane;if((Ca&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),i=d.hasEagerState?d.eagerState:n(i,d.action);else{var h={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(a=c=h,o=i):c=c.next=h,sn.lanes|=f,ba|=f}d=d.next}while(d!==null&&d!==s);c===null?o=i:c.next=a,Tr(i,e.memoizedState)||(Ai=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=c,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,sn.lanes|=s,ba|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function _0(n){var e=ur(),t=e.queue;if(t===null)throw Error(Se(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);Tr(s,e.memoizedState)||(Ai=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function VC(){}function WC(n,e){var t=sn,i=ur(),r=e(),s=!Tr(i.memoizedState,r);if(s&&(i.memoizedState=r,Ai=!0),i=i.queue,Yx(qC.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||On!==null&&On.memoizedState.tag&1){if(t.flags|=2048,Yu(9,XC.bind(null,t,i,r,e),void 0,null),zn===null)throw Error(Se(349));Ca&30||JC(t,e,r)}return r}function JC(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=sn.updateQueue,e===null?(e={lastEffect:null,stores:null},sn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function XC(n,e,t,i){e.value=t,e.getSnapshot=i,KC(e)&&YC(n)}function qC(n,e,t){return t(function(){KC(e)&&YC(n)})}function KC(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Tr(n,t)}catch{return!0}}function YC(n){var e=Bs(n,1);e!==null&&Cr(e,n,1,-1)}function kA(n){var e=Gr();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ku,lastRenderedState:n},e.queue=n,n=n.dispatch=BR.bind(null,sn,n),[e.memoizedState,n]}function Yu(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=sn.updateQueue,e===null?(e={lastEffect:null,stores:null},sn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function QC(){return ur().memoizedState}function fp(n,e,t,i){var r=Gr();sn.flags|=n,r.memoizedState=Yu(1|e,t,void 0,i===void 0?null:i)}function mm(n,e,t,i){var r=ur();i=i===void 0?null:i;var s=void 0;if(bn!==null){var o=bn.memoizedState;if(s=o.destroy,i!==null&&Xx(i,o.deps)){r.memoizedState=Yu(e,t,s,i);return}}sn.flags|=n,r.memoizedState=Yu(1|e,t,s,i)}function zA(n,e){return fp(8390656,8,n,e)}function Yx(n,e){return mm(2048,8,n,e)}function ZC(n,e){return mm(4,2,n,e)}function $C(n,e){return mm(4,4,n,e)}function eb(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function tb(n,e,t){return t=t!=null?t.concat([n]):null,mm(4,4,eb.bind(null,e,n),t)}function Qx(){}function nb(n,e){var t=ur();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&Xx(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function ib(n,e){var t=ur();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&Xx(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function rb(n,e,t){return Ca&21?(Tr(t,e)||(t=aC(),sn.lanes|=t,ba|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Ai=!0),n.memoizedState=t)}function bR(n,e){var t=Ot;Ot=t!==0&&4>t?t:4,n(!0);var i=y0.transition;y0.transition={};try{n(!1),e()}finally{Ot=t,y0.transition=i}}function sb(){return ur().memoizedState}function TR(n,e,t){var i=po(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},ob(n))ab(e,t);else if(t=OC(n,e,t,i),t!==null){var r=fi();Cr(t,n,i,r),lb(t,e,i)}}function BR(n,e,t){var i=po(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(ob(n))ab(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,Tr(a,o)){var c=e.interleaved;c===null?(r.next=r,Hx(e)):(r.next=c.next,c.next=r),e.interleaved=r;return}}catch{}finally{}t=OC(n,e,r,i),t!==null&&(r=fi(),Cr(t,n,i,r),lb(t,e,i))}}function ob(n){var e=n.alternate;return n===sn||e!==null&&e===sn}function ab(n,e){bu=jp=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function lb(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,Tx(n,t)}}var Vp={readContext:cr,useCallback:Yn,useContext:Yn,useEffect:Yn,useImperativeHandle:Yn,useInsertionEffect:Yn,useLayoutEffect:Yn,useMemo:Yn,useReducer:Yn,useRef:Yn,useState:Yn,useDebugValue:Yn,useDeferredValue:Yn,useTransition:Yn,useMutableSource:Yn,useSyncExternalStore:Yn,useId:Yn,unstable_isNewReconciler:!1},PR={readContext:cr,useCallback:function(n,e){return Gr().memoizedState=[n,e===void 0?null:e],n},useContext:cr,useEffect:zA,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,fp(4194308,4,eb.bind(null,e,n),t)},useLayoutEffect:function(n,e){return fp(4194308,4,n,e)},useInsertionEffect:function(n,e){return fp(4,2,n,e)},useMemo:function(n,e){var t=Gr();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=Gr();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=TR.bind(null,sn,n),[i.memoizedState,n]},useRef:function(n){var e=Gr();return n={current:n},e.memoizedState=n},useState:kA,useDebugValue:Qx,useDeferredValue:function(n){return Gr().memoizedState=n},useTransition:function(){var n=kA(!1),e=n[0];return n=bR.bind(null,n[1]),Gr().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=sn,r=Gr();if(Yt){if(t===void 0)throw Error(Se(407));t=t()}else{if(t=e(),zn===null)throw Error(Se(349));Ca&30||JC(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,zA(qC.bind(null,i,s,n),[n]),i.flags|=2048,Yu(9,XC.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=Gr(),e=zn.identifierPrefix;if(Yt){var t=ws,i=_s;t=(i&~(1<<32-Er(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=qu++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=CR++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},RR={readContext:cr,useCallback:nb,useContext:cr,useEffect:Yx,useImperativeHandle:tb,useInsertionEffect:ZC,useLayoutEffect:$C,useMemo:ib,useReducer:x0,useRef:QC,useState:function(){return x0(Ku)},useDebugValue:Qx,useDeferredValue:function(n){var e=ur();return rb(e,bn.memoizedState,n)},useTransition:function(){var n=x0(Ku)[0],e=ur().memoizedState;return[n,e]},useMutableSource:VC,useSyncExternalStore:WC,useId:sb,unstable_isNewReconciler:!1},LR={readContext:cr,useCallback:nb,useContext:cr,useEffect:Yx,useImperativeHandle:tb,useInsertionEffect:ZC,useLayoutEffect:$C,useMemo:ib,useReducer:_0,useRef:QC,useState:function(){return _0(Ku)},useDebugValue:Qx,useDeferredValue:function(n){var e=ur();return bn===null?e.memoizedState=n:rb(e,bn.memoizedState,n)},useTransition:function(){var n=_0(Ku)[0],e=ur().memoizedState;return[n,e]},useMutableSource:VC,useSyncExternalStore:WC,useId:sb,unstable_isNewReconciler:!1};function ec(n,e){try{var t="",i=e;do t+=o3(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function w0(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function sy(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var IR=typeof WeakMap=="function"?WeakMap:Map;function cb(n,e,t){t=Es(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){Jp||(Jp=!0,my=i),sy(n,e)},t}function ub(n,e,t){t=Es(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){sy(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){sy(n,e),typeof i!="function"&&(ho===null?ho=new Set([this]):ho.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function UA(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new IR;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=XR.bind(null,n,e,t),e.then(n,n))}function GA(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function HA(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Es(-1,1),e.tag=2,fo(t,e,1))),t.lanes|=1),n)}var DR=Is.ReactCurrentOwner,Ai=!1;function ci(n,e,t,i){e.child=n===null?HC(e,null,t,i):Zl(e,n.child,t,i)}function jA(n,e,t,i,r){t=t.render;var s=e.ref;return Vl(e,r),i=qx(n,e,t,i,s,r),t=Kx(),n!==null&&!Ai?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Ps(n,e,r)):(Yt&&t&&Fx(e),e.flags|=1,ci(n,e,i,r),e.child)}function VA(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!s_(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,db(n,e,s,i,r)):(n=gp(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Hu,t(o,i)&&n.ref===e.ref)return Ps(n,e,r)}return e.flags|=1,n=mo(s,i),n.ref=e.ref,n.return=e,e.child=n}function db(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(Hu(s,i)&&n.ref===e.ref)if(Ai=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(Ai=!0);else return e.lanes=n.lanes,Ps(n,e,r)}return oy(n,e,t,i,r)}function fb(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ht(Dl,Ii),Ii|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Ht(Dl,Ii),Ii|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,Ht(Dl,Ii),Ii|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,Ht(Dl,Ii),Ii|=i;return ci(n,e,r,t),e.child}function hb(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function oy(n,e,t,i,r){var s=Mi(t)?Ma:ti.current;return s=Yl(e,s),Vl(e,r),t=qx(n,e,t,i,s,r),i=Kx(),n!==null&&!Ai?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Ps(n,e,r)):(Yt&&i&&Fx(e),e.flags|=1,ci(n,e,t,r),e.child)}function WA(n,e,t,i,r){if(Mi(t)){var s=!0;Fp(e)}else s=!1;if(Vl(e,r),e.stateNode===null)hp(n,e),UC(e,t,i),ry(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,d=t.contextType;typeof d=="object"&&d!==null?d=cr(d):(d=Mi(t)?Ma:ti.current,d=Yl(e,d));var f=t.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||c!==d)&&FA(e,o,i,d),$s=!1;var p=e.memoizedState;o.state=p,Gp(e,i,o,r),c=e.memoizedState,a!==i||p!==c||Si.current||$s?(typeof f=="function"&&(iy(e,t,f,i),c=e.memoizedState),(a=$s||NA(e,t,a,i,p,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),o.props=i,o.state=c,o.context=d,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,kC(n,e),a=e.memoizedProps,d=e.type===e.elementType?a:xr(e.type,a),o.props=d,h=e.pendingProps,p=o.context,c=t.contextType,typeof c=="object"&&c!==null?c=cr(c):(c=Mi(t)?Ma:ti.current,c=Yl(e,c));var g=t.getDerivedStateFromProps;(f=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==c)&&FA(e,o,i,c),$s=!1,p=e.memoizedState,o.state=p,Gp(e,i,o,r);var y=e.memoizedState;a!==h||p!==y||Si.current||$s?(typeof g=="function"&&(iy(e,t,g,i),y=e.memoizedState),(d=$s||NA(e,t,d,i,p,y,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,y,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=y),o.props=i,o.state=y,o.context=c,i=d):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),i=!1)}return ay(n,e,t,i,s,r)}function ay(n,e,t,i,r,s){hb(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&PA(e,t,!1),Ps(n,e,s);i=e.stateNode,DR.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=Zl(e,n.child,null,s),e.child=Zl(e,null,a,s)):ci(n,e,a,s),e.memoizedState=i.state,r&&PA(e,t,!0),e.child}function pb(n){var e=n.stateNode;e.pendingContext?BA(n,e.pendingContext,e.pendingContext!==e.context):e.context&&BA(n,e.context,!1),Vx(n,e.containerInfo)}function JA(n,e,t,i,r){return Ql(),kx(r),e.flags|=256,ci(n,e,t,i),e.child}var ly={dehydrated:null,treeContext:null,retryLane:0};function cy(n){return{baseLanes:n,cachePool:null,transitions:null}}function mb(n,e,t){var i=e.pendingProps,r=tn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),Ht(tn,r&1),n===null)return ty(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ym(o,i,0,null),n=va(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=cy(t),e.memoizedState=ly,n):Zx(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return NR(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var c={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=c,e.deletions=null):(i=mo(r,c),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=mo(a,s):(s=va(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?cy(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=ly,i}return s=n.child,n=s.sibling,i=mo(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function Zx(n,e){return e=ym({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function sh(n,e,t,i){return i!==null&&kx(i),Zl(e,n.child,null,t),n=Zx(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function NR(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=w0(Error(Se(422))),sh(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=ym({mode:"visible",children:i.children},r,0,null),s=va(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Zl(e,n.child,null,o),e.child.memoizedState=cy(o),e.memoizedState=ly,s);if(!(e.mode&1))return sh(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(Se(419)),i=w0(s,i,void 0),sh(n,e,o,i)}if(a=(o&n.childLanes)!==0,Ai||a){if(i=zn,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Bs(n,r),Cr(i,n,r,-1))}return r_(),i=w0(Error(Se(421))),sh(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=qR.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,Di=uo(r.nextSibling),Fi=e,Yt=!0,Ar=null,n!==null&&(ir[rr++]=_s,ir[rr++]=ws,ir[rr++]=Ea,_s=n.id,ws=n.overflow,Ea=e),e=Zx(e,i.children),e.flags|=4096,e)}function XA(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),ny(n.return,e,t)}function A0(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function gb(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(ci(n,e,i.children,t),i=tn.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&XA(n,t,e);else if(n.tag===19)XA(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Ht(tn,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&Hp(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),A0(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&Hp(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}A0(e,!0,t,null,s);break;case"together":A0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hp(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Ps(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),ba|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Se(153));if(e.child!==null){for(n=e.child,t=mo(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=mo(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function FR(n,e,t){switch(e.tag){case 3:pb(e),Ql();break;case 5:jC(e);break;case 1:Mi(e.type)&&Fp(e);break;case 4:Vx(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Ht(zp,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Ht(tn,tn.current&1),e.flags|=128,null):t&e.child.childLanes?mb(n,e,t):(Ht(tn,tn.current&1),n=Ps(n,e,t),n!==null?n.sibling:null);Ht(tn,tn.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return gb(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ht(tn,tn.current),i)break;return null;case 22:case 23:return e.lanes=0,fb(n,e,t)}return Ps(n,e,t)}var vb,uy,yb,xb;vb=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};uy=function(){};yb=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,ca(Wr.current);var s=null;switch(t){case"input":r=Lv(n,r),i=Lv(n,i),s=[];break;case"select":r=on({},r,{value:void 0}),i=on({},i,{value:void 0}),s=[];break;case"textarea":r=Nv(n,r),i=Nv(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=Dp)}Ov(t,i);var o;t=null;for(d in r)if(!i.hasOwnProperty(d)&&r.hasOwnProperty(d)&&r[d]!=null)if(d==="style"){var a=r[d];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Nu.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in i){var c=i[d];if(a=r!=null?r[d]:void 0,i.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(t||(t={}),t[o]=c[o])}else t||(s||(s=[]),s.push(d,t)),t=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Nu.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&jt("scroll",n),s||a===c||(s=[])):(s=s||[]).push(d,c))}t&&(s=s||[]).push("style",t);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};xb=function(n,e,t,i){t!==i&&(e.flags|=4)};function Zc(n,e){if(!Yt)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function Qn(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function OR(n,e,t){var i=e.pendingProps;switch(Ox(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qn(e),null;case 1:return Mi(e.type)&&Np(),Qn(e),null;case 3:return i=e.stateNode,$l(),Jt(Si),Jt(ti),Jx(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(ih(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ar!==null&&(yy(Ar),Ar=null))),uy(n,e),Qn(e),null;case 5:Wx(e);var r=ca(Xu.current);if(t=e.type,n!==null&&e.stateNode!=null)yb(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Se(166));return Qn(e),null}if(n=ca(Wr.current),ih(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[jr]=e,i[Wu]=s,n=(e.mode&1)!==0,t){case"dialog":jt("cancel",i),jt("close",i);break;case"iframe":case"object":case"embed":jt("load",i);break;case"video":case"audio":for(r=0;r<xu.length;r++)jt(xu[r],i);break;case"source":jt("error",i);break;case"img":case"image":case"link":jt("error",i),jt("load",i);break;case"details":jt("toggle",i);break;case"input":nA(i,s),jt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},jt("invalid",i);break;case"textarea":rA(i,s),jt("invalid",i)}Ov(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&nh(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&nh(i.textContent,a,n),r=["children",""+a]):Nu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&jt("scroll",i)}switch(t){case"input":qf(i),iA(i,s,!0);break;case"textarea":qf(i),sA(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Dp)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=JE(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[jr]=e,n[Wu]=i,vb(n,e,!1,!1),e.stateNode=n;e:{switch(o=kv(t,i),t){case"dialog":jt("cancel",n),jt("close",n),r=i;break;case"iframe":case"object":case"embed":jt("load",n),r=i;break;case"video":case"audio":for(r=0;r<xu.length;r++)jt(xu[r],n);r=i;break;case"source":jt("error",n),r=i;break;case"img":case"image":case"link":jt("error",n),jt("load",n),r=i;break;case"details":jt("toggle",n),r=i;break;case"input":nA(n,i),r=Lv(n,i),jt("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=on({},i,{value:void 0}),jt("invalid",n);break;case"textarea":rA(n,i),r=Nv(n,i),jt("invalid",n);break;default:r=i}Ov(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?KE(n,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&XE(n,c)):s==="children"?typeof c=="string"?(t!=="textarea"||c!=="")&&Fu(n,c):typeof c=="number"&&Fu(n,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Nu.hasOwnProperty(s)?c!=null&&s==="onScroll"&&jt("scroll",n):c!=null&&Ax(n,s,c,o))}switch(t){case"input":qf(n),iA(n,i,!1);break;case"textarea":qf(n),sA(n);break;case"option":i.value!=null&&n.setAttribute("value",""+yo(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?Ul(n,!!i.multiple,s,!1):i.defaultValue!=null&&Ul(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=Dp)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qn(e),null;case 6:if(n&&e.stateNode!=null)xb(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Se(166));if(t=ca(Xu.current),ca(Wr.current),ih(e)){if(i=e.stateNode,t=e.memoizedProps,i[jr]=e,(s=i.nodeValue!==t)&&(n=Fi,n!==null))switch(n.tag){case 3:nh(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&nh(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[jr]=e,e.stateNode=i}return Qn(e),null;case 13:if(Jt(tn),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Yt&&Di!==null&&e.mode&1&&!(e.flags&128))FC(),Ql(),e.flags|=98560,s=!1;else if(s=ih(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(Se(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Se(317));s[jr]=e}else Ql(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qn(e),s=!1}else Ar!==null&&(yy(Ar),Ar=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||tn.current&1?Tn===0&&(Tn=3):r_())),e.updateQueue!==null&&(e.flags|=4),Qn(e),null);case 4:return $l(),uy(n,e),n===null&&ju(e.stateNode.containerInfo),Qn(e),null;case 10:return Gx(e.type._context),Qn(e),null;case 17:return Mi(e.type)&&Np(),Qn(e),null;case 19:if(Jt(tn),s=e.memoizedState,s===null)return Qn(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)Zc(s,!1);else{if(Tn!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Hp(n),o!==null){for(e.flags|=128,Zc(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Ht(tn,tn.current&1|2),e.child}n=n.sibling}s.tail!==null&&gn()>tc&&(e.flags|=128,i=!0,Zc(s,!1),e.lanes=4194304)}else{if(!i)if(n=Hp(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Zc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Yt)return Qn(e),null}else 2*gn()-s.renderingStartTime>tc&&t!==1073741824&&(e.flags|=128,i=!0,Zc(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=gn(),e.sibling=null,t=tn.current,Ht(tn,i?t&1|2:t&1),e):(Qn(e),null);case 22:case 23:return i_(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Ii&1073741824&&(Qn(e),e.subtreeFlags&6&&(e.flags|=8192)):Qn(e),null;case 24:return null;case 25:return null}throw Error(Se(156,e.tag))}function kR(n,e){switch(Ox(e),e.tag){case 1:return Mi(e.type)&&Np(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return $l(),Jt(Si),Jt(ti),Jx(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return Wx(e),null;case 13:if(Jt(tn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Se(340));Ql()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Jt(tn),null;case 4:return $l(),null;case 10:return Gx(e.type._context),null;case 22:case 23:return i_(),null;case 24:return null;default:return null}}var oh=!1,ei=!1,zR=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function Il(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){fn(n,e,i)}else t.current=null}function dy(n,e,t){try{t()}catch(i){fn(n,e,i)}}var qA=!1;function UR(n,e){if(qv=Rp,n=SC(),Nx(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,c=-1,d=0,f=0,h=n,p=null;t:for(;;){for(var g;h!==t||r!==0&&h.nodeType!==3||(a=o+r),h!==s||i!==0&&h.nodeType!==3||(c=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)p=h,h=g;for(;;){if(h===n)break t;if(p===t&&++d===r&&(a=o),p===s&&++f===i&&(c=o),(g=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=g}t=a===-1||c===-1?null:{start:a,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(Kv={focusedElem:n,selectionRange:t},Rp=!1,Ue=e;Ue!==null;)if(e=Ue,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Ue=n;else for(;Ue!==null;){e=Ue;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,_=y.memoizedState,w=e.stateNode,A=w.getSnapshotBeforeUpdate(e.elementType===e.type?v:xr(e.type,v),_);w.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Se(163))}}catch(E){fn(e,e.return,E)}if(n=e.sibling,n!==null){n.return=e.return,Ue=n;break}Ue=e.return}return y=qA,qA=!1,y}function Tu(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&dy(e,t,s)}r=r.next}while(r!==i)}}function gm(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function fy(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function _b(n){var e=n.alternate;e!==null&&(n.alternate=null,_b(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[jr],delete e[Wu],delete e[Zv],delete e[AR],delete e[SR])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function wb(n){return n.tag===5||n.tag===3||n.tag===4}function KA(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||wb(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function hy(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Dp));else if(i!==4&&(n=n.child,n!==null))for(hy(n,e,t),n=n.sibling;n!==null;)hy(n,e,t),n=n.sibling}function py(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(py(n,e,t),n=n.sibling;n!==null;)py(n,e,t),n=n.sibling}var Hn=null,_r=!1;function js(n,e,t){for(t=t.child;t!==null;)Ab(n,e,t),t=t.sibling}function Ab(n,e,t){if(Vr&&typeof Vr.onCommitFiberUnmount=="function")try{Vr.onCommitFiberUnmount(lm,t)}catch{}switch(t.tag){case 5:ei||Il(t,e);case 6:var i=Hn,r=_r;Hn=null,js(n,e,t),Hn=i,_r=r,Hn!==null&&(_r?(n=Hn,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Hn.removeChild(t.stateNode));break;case 18:Hn!==null&&(_r?(n=Hn,t=t.stateNode,n.nodeType===8?m0(n.parentNode,t):n.nodeType===1&&m0(n,t),Uu(n)):m0(Hn,t.stateNode));break;case 4:i=Hn,r=_r,Hn=t.stateNode.containerInfo,_r=!0,js(n,e,t),Hn=i,_r=r;break;case 0:case 11:case 14:case 15:if(!ei&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&dy(t,e,o),r=r.next}while(r!==i)}js(n,e,t);break;case 1:if(!ei&&(Il(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){fn(t,e,a)}js(n,e,t);break;case 21:js(n,e,t);break;case 22:t.mode&1?(ei=(i=ei)||t.memoizedState!==null,js(n,e,t),ei=i):js(n,e,t);break;default:js(n,e,t)}}function YA(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new zR),e.forEach(function(i){var r=KR.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function mr(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Hn=a.stateNode,_r=!1;break e;case 3:Hn=a.stateNode.containerInfo,_r=!0;break e;case 4:Hn=a.stateNode.containerInfo,_r=!0;break e}a=a.return}if(Hn===null)throw Error(Se(160));Ab(s,o,r),Hn=null,_r=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(d){fn(r,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Sb(e,n),e=e.sibling}function Sb(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(mr(e,n),Ur(n),i&4){try{Tu(3,n,n.return),gm(3,n)}catch(v){fn(n,n.return,v)}try{Tu(5,n,n.return)}catch(v){fn(n,n.return,v)}}break;case 1:mr(e,n),Ur(n),i&512&&t!==null&&Il(t,t.return);break;case 5:if(mr(e,n),Ur(n),i&512&&t!==null&&Il(t,t.return),n.flags&32){var r=n.stateNode;try{Fu(r,"")}catch(v){fn(n,n.return,v)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,c=n.updateQueue;if(n.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&VE(r,s),kv(a,o);var d=kv(a,s);for(o=0;o<c.length;o+=2){var f=c[o],h=c[o+1];f==="style"?KE(r,h):f==="dangerouslySetInnerHTML"?XE(r,h):f==="children"?Fu(r,h):Ax(r,f,h,d)}switch(a){case"input":Iv(r,s);break;case"textarea":WE(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Ul(r,!!s.multiple,g,!1):p!==!!s.multiple&&(s.defaultValue!=null?Ul(r,!!s.multiple,s.defaultValue,!0):Ul(r,!!s.multiple,s.multiple?[]:"",!1))}r[Wu]=s}catch(v){fn(n,n.return,v)}}break;case 6:if(mr(e,n),Ur(n),i&4){if(n.stateNode===null)throw Error(Se(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(v){fn(n,n.return,v)}}break;case 3:if(mr(e,n),Ur(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{Uu(e.containerInfo)}catch(v){fn(n,n.return,v)}break;case 4:mr(e,n),Ur(n);break;case 13:mr(e,n),Ur(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(t_=gn())),i&4&&YA(n);break;case 22:if(f=t!==null&&t.memoizedState!==null,n.mode&1?(ei=(d=ei)||f,mr(e,n),ei=d):mr(e,n),Ur(n),i&8192){if(d=n.memoizedState!==null,(n.stateNode.isHidden=d)&&!f&&n.mode&1)for(Ue=n,f=n.child;f!==null;){for(h=Ue=f;Ue!==null;){switch(p=Ue,g=p.child,p.tag){case 0:case 11:case 14:case 15:Tu(4,p,p.return);break;case 1:Il(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){i=p,t=p.return;try{e=i,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){fn(i,t,v)}}break;case 5:Il(p,p.return);break;case 22:if(p.memoizedState!==null){ZA(h);continue}}g!==null?(g.return=p,Ue=g):ZA(h)}f=f.sibling}e:for(f=null,h=n;;){if(h.tag===5){if(f===null){f=h;try{r=h.stateNode,d?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=qE("display",o))}catch(v){fn(n,n.return,v)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(v){fn(n,n.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mr(e,n),Ur(n),i&4&&YA(n);break;case 21:break;default:mr(e,n),Ur(n)}}function Ur(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(wb(t)){var i=t;break e}t=t.return}throw Error(Se(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Fu(r,""),i.flags&=-33);var s=KA(n);py(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=KA(n);hy(n,a,o);break;default:throw Error(Se(161))}}catch(c){fn(n,n.return,c)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function GR(n,e,t){Ue=n,Mb(n)}function Mb(n,e,t){for(var i=(n.mode&1)!==0;Ue!==null;){var r=Ue,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||oh;if(!o){var a=r.alternate,c=a!==null&&a.memoizedState!==null||ei;a=oh;var d=ei;if(oh=o,(ei=c)&&!d)for(Ue=r;Ue!==null;)o=Ue,c=o.child,o.tag===22&&o.memoizedState!==null?$A(r):c!==null?(c.return=o,Ue=c):$A(r);for(;s!==null;)Ue=s,Mb(s),s=s.sibling;Ue=r,oh=a,ei=d}QA(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,Ue=s):QA(n)}}function QA(n){for(;Ue!==null;){var e=Ue;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ei||gm(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!ei)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:xr(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&DA(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}DA(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&t.focus();break;case"img":c.src&&(t.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Uu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Se(163))}ei||e.flags&512&&fy(e)}catch(p){fn(e,e.return,p)}}if(e===n){Ue=null;break}if(t=e.sibling,t!==null){t.return=e.return,Ue=t;break}Ue=e.return}}function ZA(n){for(;Ue!==null;){var e=Ue;if(e===n){Ue=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Ue=t;break}Ue=e.return}}function $A(n){for(;Ue!==null;){var e=Ue;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{gm(4,e)}catch(c){fn(e,t,c)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(c){fn(e,r,c)}}var s=e.return;try{fy(e)}catch(c){fn(e,s,c)}break;case 5:var o=e.return;try{fy(e)}catch(c){fn(e,o,c)}}}catch(c){fn(e,e.return,c)}if(e===n){Ue=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ue=a;break}Ue=e.return}}var HR=Math.ceil,Wp=Is.ReactCurrentDispatcher,$x=Is.ReactCurrentOwner,lr=Is.ReactCurrentBatchConfig,Bt=0,zn=null,wn=null,Vn=0,Ii=0,Dl=bo(0),Tn=0,Qu=null,ba=0,vm=0,e_=0,Bu=null,_i=null,t_=0,tc=1/0,gs=null,Jp=!1,my=null,ho=null,ah=!1,ro=null,Xp=0,Pu=0,gy=null,pp=-1,mp=0;function fi(){return Bt&6?gn():pp!==-1?pp:pp=gn()}function po(n){return n.mode&1?Bt&2&&Vn!==0?Vn&-Vn:ER.transition!==null?(mp===0&&(mp=aC()),mp):(n=Ot,n!==0||(n=window.event,n=n===void 0?16:pC(n.type)),n):1}function Cr(n,e,t,i){if(50<Pu)throw Pu=0,gy=null,Error(Se(185));fd(n,t,i),(!(Bt&2)||n!==zn)&&(n===zn&&(!(Bt&2)&&(vm|=t),Tn===4&&no(n,Vn)),Ei(n,i),t===1&&Bt===0&&!(e.mode&1)&&(tc=gn()+500,hm&&To()))}function Ei(n,e){var t=n.callbackNode;E3(n,e);var i=Pp(n,n===zn?Vn:0);if(i===0)t!==null&&lA(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&lA(t),e===1)n.tag===0?MR(eS.bind(null,n)):IC(eS.bind(null,n)),_R(function(){!(Bt&6)&&To()}),t=null;else{switch(lC(i)){case 1:t=bx;break;case 4:t=sC;break;case 16:t=Bp;break;case 536870912:t=oC;break;default:t=Bp}t=Lb(t,Eb.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function Eb(n,e){if(pp=-1,mp=0,Bt&6)throw Error(Se(327));var t=n.callbackNode;if(Wl()&&n.callbackNode!==t)return null;var i=Pp(n,n===zn?Vn:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=qp(n,i);else{e=i;var r=Bt;Bt|=2;var s=bb();(zn!==n||Vn!==e)&&(gs=null,tc=gn()+500,ga(n,e));do try{WR();break}catch(a){Cb(n,a)}while(1);Ux(),Wp.current=s,Bt=r,wn!==null?e=0:(zn=null,Vn=0,e=Tn)}if(e!==0){if(e===2&&(r=jv(n),r!==0&&(i=r,e=vy(n,r))),e===1)throw t=Qu,ga(n,0),no(n,i),Ei(n,gn()),t;if(e===6)no(n,i);else{if(r=n.current.alternate,!(i&30)&&!jR(r)&&(e=qp(n,i),e===2&&(s=jv(n),s!==0&&(i=s,e=vy(n,s))),e===1))throw t=Qu,ga(n,0),no(n,i),Ei(n,gn()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(Se(345));case 2:ta(n,_i,gs);break;case 3:if(no(n,i),(i&130023424)===i&&(e=t_+500-gn(),10<e)){if(Pp(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){fi(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=Qv(ta.bind(null,n,_i,gs),e);break}ta(n,_i,gs);break;case 4:if(no(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-Er(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=gn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*HR(i/1960))-i,10<i){n.timeoutHandle=Qv(ta.bind(null,n,_i,gs),i);break}ta(n,_i,gs);break;case 5:ta(n,_i,gs);break;default:throw Error(Se(329))}}}return Ei(n,gn()),n.callbackNode===t?Eb.bind(null,n):null}function vy(n,e){var t=Bu;return n.current.memoizedState.isDehydrated&&(ga(n,e).flags|=256),n=qp(n,e),n!==2&&(e=_i,_i=t,e!==null&&yy(e)),n}function yy(n){_i===null?_i=n:_i.push.apply(_i,n)}function jR(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!Tr(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function no(n,e){for(e&=~e_,e&=~vm,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Er(e),i=1<<t;n[t]=-1,e&=~i}}function eS(n){if(Bt&6)throw Error(Se(327));Wl();var e=Pp(n,0);if(!(e&1))return Ei(n,gn()),null;var t=qp(n,e);if(n.tag!==0&&t===2){var i=jv(n);i!==0&&(e=i,t=vy(n,i))}if(t===1)throw t=Qu,ga(n,0),no(n,e),Ei(n,gn()),t;if(t===6)throw Error(Se(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,ta(n,_i,gs),Ei(n,gn()),null}function n_(n,e){var t=Bt;Bt|=1;try{return n(e)}finally{Bt=t,Bt===0&&(tc=gn()+500,hm&&To())}}function Ta(n){ro!==null&&ro.tag===0&&!(Bt&6)&&Wl();var e=Bt;Bt|=1;var t=lr.transition,i=Ot;try{if(lr.transition=null,Ot=1,n)return n()}finally{Ot=i,lr.transition=t,Bt=e,!(Bt&6)&&To()}}function i_(){Ii=Dl.current,Jt(Dl)}function ga(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,xR(t)),wn!==null)for(t=wn.return;t!==null;){var i=t;switch(Ox(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Np();break;case 3:$l(),Jt(Si),Jt(ti),Jx();break;case 5:Wx(i);break;case 4:$l();break;case 13:Jt(tn);break;case 19:Jt(tn);break;case 10:Gx(i.type._context);break;case 22:case 23:i_()}t=t.return}if(zn=n,wn=n=mo(n.current,null),Vn=Ii=e,Tn=0,Qu=null,e_=vm=ba=0,_i=Bu=null,la!==null){for(e=0;e<la.length;e++)if(t=la[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}la=null}return n}function Cb(n,e){do{var t=wn;try{if(Ux(),dp.current=Vp,jp){for(var i=sn.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}jp=!1}if(Ca=0,On=bn=sn=null,bu=!1,qu=0,$x.current=null,t===null||t.return===null){Tn=1,Qu=e,wn=null;break}e:{var s=n,o=t.return,a=t,c=e;if(e=Vn,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=a,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=GA(o);if(g!==null){g.flags&=-257,HA(g,o,a,s,e),g.mode&1&&UA(s,d,e),e=g,c=d;var y=e.updateQueue;if(y===null){var v=new Set;v.add(c),e.updateQueue=v}else y.add(c);break e}else{if(!(e&1)){UA(s,d,e),r_();break e}c=Error(Se(426))}}else if(Yt&&a.mode&1){var _=GA(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),HA(_,o,a,s,e),kx(ec(c,a));break e}}s=c=ec(c,a),Tn!==4&&(Tn=2),Bu===null?Bu=[s]:Bu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=cb(s,c,e);IA(s,w);break e;case 1:a=c;var A=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof A.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ho===null||!ho.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=ub(s,a,e);IA(s,E);break e}}s=s.return}while(s!==null)}Bb(t)}catch(C){e=C,wn===t&&t!==null&&(wn=t=t.return);continue}break}while(1)}function bb(){var n=Wp.current;return Wp.current=Vp,n===null?Vp:n}function r_(){(Tn===0||Tn===3||Tn===2)&&(Tn=4),zn===null||!(ba&268435455)&&!(vm&268435455)||no(zn,Vn)}function qp(n,e){var t=Bt;Bt|=2;var i=bb();(zn!==n||Vn!==e)&&(gs=null,ga(n,e));do try{VR();break}catch(r){Cb(n,r)}while(1);if(Ux(),Bt=t,Wp.current=i,wn!==null)throw Error(Se(261));return zn=null,Vn=0,Tn}function VR(){for(;wn!==null;)Tb(wn)}function WR(){for(;wn!==null&&!g3();)Tb(wn)}function Tb(n){var e=Rb(n.alternate,n,Ii);n.memoizedProps=n.pendingProps,e===null?Bb(n):wn=e,$x.current=null}function Bb(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=kR(t,e),t!==null){t.flags&=32767,wn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Tn=6,wn=null;return}}else if(t=OR(t,e,Ii),t!==null){wn=t;return}if(e=e.sibling,e!==null){wn=e;return}wn=e=n}while(e!==null);Tn===0&&(Tn=5)}function ta(n,e,t){var i=Ot,r=lr.transition;try{lr.transition=null,Ot=1,JR(n,e,t,i)}finally{lr.transition=r,Ot=i}return null}function JR(n,e,t,i){do Wl();while(ro!==null);if(Bt&6)throw Error(Se(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Se(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(C3(n,s),n===zn&&(wn=zn=null,Vn=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||ah||(ah=!0,Lb(Bp,function(){return Wl(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=lr.transition,lr.transition=null;var o=Ot;Ot=1;var a=Bt;Bt|=4,$x.current=null,UR(n,t),Sb(t,n),fR(Kv),Rp=!!qv,Kv=qv=null,n.current=t,GR(t),v3(),Bt=a,Ot=o,lr.transition=s}else n.current=t;if(ah&&(ah=!1,ro=n,Xp=r),s=n.pendingLanes,s===0&&(ho=null),_3(t.stateNode),Ei(n,gn()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(Jp)throw Jp=!1,n=my,my=null,n;return Xp&1&&n.tag!==0&&Wl(),s=n.pendingLanes,s&1?n===gy?Pu++:(Pu=0,gy=n):Pu=0,To(),null}function Wl(){if(ro!==null){var n=lC(Xp),e=lr.transition,t=Ot;try{if(lr.transition=null,Ot=16>n?16:n,ro===null)var i=!1;else{if(n=ro,ro=null,Xp=0,Bt&6)throw Error(Se(331));var r=Bt;for(Bt|=4,Ue=n.current;Ue!==null;){var s=Ue,o=s.child;if(Ue.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var d=a[c];for(Ue=d;Ue!==null;){var f=Ue;switch(f.tag){case 0:case 11:case 15:Tu(8,f,s)}var h=f.child;if(h!==null)h.return=f,Ue=h;else for(;Ue!==null;){f=Ue;var p=f.sibling,g=f.return;if(_b(f),f===d){Ue=null;break}if(p!==null){p.return=g,Ue=p;break}Ue=g}}}var y=s.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}Ue=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ue=o;else e:for(;Ue!==null;){if(s=Ue,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Tu(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,Ue=w;break e}Ue=s.return}}var A=n.current;for(Ue=A;Ue!==null;){o=Ue;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,Ue=S;else e:for(o=A;Ue!==null;){if(a=Ue,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:gm(9,a)}}catch(C){fn(a,a.return,C)}if(a===o){Ue=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,Ue=E;break e}Ue=a.return}}if(Bt=r,To(),Vr&&typeof Vr.onPostCommitFiberRoot=="function")try{Vr.onPostCommitFiberRoot(lm,n)}catch{}i=!0}return i}finally{Ot=t,lr.transition=e}}return!1}function tS(n,e,t){e=ec(t,e),e=cb(n,e,1),n=fo(n,e,1),e=fi(),n!==null&&(fd(n,1,e),Ei(n,e))}function fn(n,e,t){if(n.tag===3)tS(n,n,t);else for(;e!==null;){if(e.tag===3){tS(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ho===null||!ho.has(i))){n=ec(t,n),n=ub(e,n,1),e=fo(e,n,1),n=fi(),e!==null&&(fd(e,1,n),Ei(e,n));break}}e=e.return}}function XR(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=fi(),n.pingedLanes|=n.suspendedLanes&t,zn===n&&(Vn&t)===t&&(Tn===4||Tn===3&&(Vn&130023424)===Vn&&500>gn()-t_?ga(n,0):e_|=t),Ei(n,e)}function Pb(n,e){e===0&&(n.mode&1?(e=Qf,Qf<<=1,!(Qf&130023424)&&(Qf=4194304)):e=1);var t=fi();n=Bs(n,e),n!==null&&(fd(n,e,t),Ei(n,t))}function qR(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),Pb(n,t)}function KR(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(Se(314))}i!==null&&i.delete(e),Pb(n,t)}var Rb;Rb=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Si.current)Ai=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Ai=!1,FR(n,e,t);Ai=!!(n.flags&131072)}else Ai=!1,Yt&&e.flags&1048576&&DC(e,kp,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;hp(n,e),n=e.pendingProps;var r=Yl(e,ti.current);Vl(e,t),r=qx(null,e,i,n,r,t);var s=Kx();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Mi(i)?(s=!0,Fp(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,jx(e),r.updater=pm,e.stateNode=r,r._reactInternals=e,ry(e,i,n,t),e=ay(null,e,i,!0,s,t)):(e.tag=0,Yt&&s&&Fx(e),ci(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(hp(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=QR(i),n=xr(i,n),r){case 0:e=oy(null,e,i,n,t);break e;case 1:e=WA(null,e,i,n,t);break e;case 11:e=jA(null,e,i,n,t);break e;case 14:e=VA(null,e,i,xr(i.type,n),t);break e}throw Error(Se(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:xr(i,r),oy(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:xr(i,r),WA(n,e,i,r,t);case 3:e:{if(pb(e),n===null)throw Error(Se(387));i=e.pendingProps,s=e.memoizedState,r=s.element,kC(n,e),Gp(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=ec(Error(Se(423)),e),e=JA(n,e,i,t,r);break e}else if(i!==r){r=ec(Error(Se(424)),e),e=JA(n,e,i,t,r);break e}else for(Di=uo(e.stateNode.containerInfo.firstChild),Fi=e,Yt=!0,Ar=null,t=HC(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Ql(),i===r){e=Ps(n,e,t);break e}ci(n,e,i,t)}e=e.child}return e;case 5:return jC(e),n===null&&ty(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,Yv(i,r)?o=null:s!==null&&Yv(i,s)&&(e.flags|=32),hb(n,e),ci(n,e,o,t),e.child;case 6:return n===null&&ty(e),null;case 13:return mb(n,e,t);case 4:return Vx(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=Zl(e,null,i,t):ci(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:xr(i,r),jA(n,e,i,r,t);case 7:return ci(n,e,e.pendingProps,t),e.child;case 8:return ci(n,e,e.pendingProps.children,t),e.child;case 12:return ci(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Ht(zp,i._currentValue),i._currentValue=o,s!==null)if(Tr(s.value,o)){if(s.children===r.children&&!Si.current){e=Ps(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===i){if(s.tag===1){c=Es(-1,t&-t),c.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}s.lanes|=t,c=s.alternate,c!==null&&(c.lanes|=t),ny(s.return,t,e),a.lanes|=t;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Se(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),ny(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ci(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Vl(e,t),r=cr(r),i=i(r),e.flags|=1,ci(n,e,i,t),e.child;case 14:return i=e.type,r=xr(i,e.pendingProps),r=xr(i.type,r),VA(n,e,i,r,t);case 15:return db(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:xr(i,r),hp(n,e),e.tag=1,Mi(i)?(n=!0,Fp(e)):n=!1,Vl(e,t),UC(e,i,r),ry(e,i,r,t),ay(null,e,i,!0,n,t);case 19:return gb(n,e,t);case 22:return fb(n,e,t)}throw Error(Se(156,e.tag))};function Lb(n,e){return rC(n,e)}function YR(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function or(n,e,t,i){return new YR(n,e,t,i)}function s_(n){return n=n.prototype,!(!n||!n.isReactComponent)}function QR(n){if(typeof n=="function")return s_(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Mx)return 11;if(n===Ex)return 14}return 2}function mo(n,e){var t=n.alternate;return t===null?(t=or(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function gp(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")s_(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Ml:return va(t.children,r,s,e);case Sx:o=8,r|=8;break;case Tv:return n=or(12,t,e,r|2),n.elementType=Tv,n.lanes=s,n;case Bv:return n=or(13,t,e,r),n.elementType=Bv,n.lanes=s,n;case Pv:return n=or(19,t,e,r),n.elementType=Pv,n.lanes=s,n;case GE:return ym(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case zE:o=10;break e;case UE:o=9;break e;case Mx:o=11;break e;case Ex:o=14;break e;case Zs:o=16,i=null;break e}throw Error(Se(130,n==null?n:typeof n,""))}return e=or(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function va(n,e,t,i){return n=or(7,n,i,e),n.lanes=t,n}function ym(n,e,t,i){return n=or(22,n,i,e),n.elementType=GE,n.lanes=t,n.stateNode={isHidden:!1},n}function S0(n,e,t){return n=or(6,n,null,e),n.lanes=t,n}function M0(n,e,t){return e=or(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function ZR(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=r0(0),this.expirationTimes=r0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=r0(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function o_(n,e,t,i,r,s,o,a,c){return n=new ZR(n,e,t,a,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=or(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},jx(s),n}function $R(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sl,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function Ib(n){if(!n)return xo;n=n._reactInternals;e:{if(Da(n)!==n||n.tag!==1)throw Error(Se(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Mi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Se(171))}if(n.tag===1){var t=n.type;if(Mi(t))return LC(n,t,e)}return e}function Db(n,e,t,i,r,s,o,a,c){return n=o_(t,i,!0,n,r,s,o,a,c),n.context=Ib(null),t=n.current,i=fi(),r=po(t),s=Es(i,r),s.callback=e??null,fo(t,s,r),n.current.lanes=r,fd(n,r,i),Ei(n,i),n}function xm(n,e,t,i){var r=e.current,s=fi(),o=po(r);return t=Ib(t),e.context===null?e.context=t:e.pendingContext=t,e=Es(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=fo(r,e,o),n!==null&&(Cr(n,r,o,s),up(n,r,o)),o}function Kp(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function nS(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function a_(n,e){nS(n,e),(n=n.alternate)&&nS(n,e)}function eL(){return null}var Nb=typeof reportError=="function"?reportError:function(n){console.error(n)};function l_(n){this._internalRoot=n}_m.prototype.render=l_.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Se(409));xm(n,e,null,null)};_m.prototype.unmount=l_.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Ta(function(){xm(null,n,null,null)}),e[Ts]=null}};function _m(n){this._internalRoot=n}_m.prototype.unstable_scheduleHydration=function(n){if(n){var e=dC();n={blockedOn:null,target:n,priority:e};for(var t=0;t<to.length&&e!==0&&e<to[t].priority;t++);to.splice(t,0,n),t===0&&hC(n)}};function c_(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function wm(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function iS(){}function tL(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var d=Kp(o);s.call(d)}}var o=Db(e,i,n,0,null,!1,!1,"",iS);return n._reactRootContainer=o,n[Ts]=o.current,ju(n.nodeType===8?n.parentNode:n),Ta(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var d=Kp(c);a.call(d)}}var c=o_(n,0,!1,null,null,!1,!1,"",iS);return n._reactRootContainer=c,n[Ts]=c.current,ju(n.nodeType===8?n.parentNode:n),Ta(function(){xm(e,c,t,i)}),c}function Am(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var c=Kp(o);a.call(c)}}xm(e,o,n,r)}else o=tL(t,e,n,r,i);return Kp(o)}cC=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=yu(e.pendingLanes);t!==0&&(Tx(e,t|1),Ei(e,gn()),!(Bt&6)&&(tc=gn()+500,To()))}break;case 13:Ta(function(){var i=Bs(n,1);if(i!==null){var r=fi();Cr(i,n,1,r)}}),a_(n,1)}};Bx=function(n){if(n.tag===13){var e=Bs(n,134217728);if(e!==null){var t=fi();Cr(e,n,134217728,t)}a_(n,134217728)}};uC=function(n){if(n.tag===13){var e=po(n),t=Bs(n,e);if(t!==null){var i=fi();Cr(t,n,e,i)}a_(n,e)}};dC=function(){return Ot};fC=function(n,e){var t=Ot;try{return Ot=n,e()}finally{Ot=t}};Uv=function(n,e,t){switch(e){case"input":if(Iv(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=fm(i);if(!r)throw Error(Se(90));jE(i),Iv(i,r)}}}break;case"textarea":WE(n,t);break;case"select":e=t.value,e!=null&&Ul(n,!!t.multiple,e,!1)}};ZE=n_;$E=Ta;var nL={usingClientEntryPoint:!1,Events:[pd,Tl,fm,YE,QE,n_]},$c={findFiberByHostInstance:aa,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},iL={bundleType:$c.bundleType,version:$c.version,rendererPackageName:$c.rendererPackageName,rendererConfig:$c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Is.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=nC(n),n===null?null:n.stateNode},findFiberByHostInstance:$c.findFiberByHostInstance||eL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lh.isDisabled&&lh.supportsFiber)try{lm=lh.inject(iL),Vr=lh}catch{}}Ui.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nL;Ui.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c_(e))throw Error(Se(200));return $R(n,e,null,t)};Ui.createRoot=function(n,e){if(!c_(n))throw Error(Se(299));var t=!1,i="",r=Nb;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=o_(n,1,!1,null,null,t,!1,i,r),n[Ts]=e.current,ju(n.nodeType===8?n.parentNode:n),new l_(e)};Ui.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Se(188)):(n=Object.keys(n).join(","),Error(Se(268,n)));return n=nC(e),n=n===null?null:n.stateNode,n};Ui.flushSync=function(n){return Ta(n)};Ui.hydrate=function(n,e,t){if(!wm(e))throw Error(Se(200));return Am(null,n,e,!0,t)};Ui.hydrateRoot=function(n,e,t){if(!c_(n))throw Error(Se(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=Nb;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=Db(e,null,n,1,t??null,r,!1,s,o),n[Ts]=e.current,ju(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new _m(e)};Ui.render=function(n,e,t){if(!wm(e))throw Error(Se(200));return Am(null,n,e,!1,t)};Ui.unmountComponentAtNode=function(n){if(!wm(n))throw Error(Se(40));return n._reactRootContainer?(Ta(function(){Am(null,null,n,!1,function(){n._reactRootContainer=null,n[Ts]=null})}),!0):!1};Ui.unstable_batchedUpdates=n_;Ui.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!wm(t))throw Error(Se(200));if(n==null||n._reactInternals===void 0)throw Error(Se(38));return Am(n,e,t,!1,i)};Ui.version="18.2.0-next-9e3b772b8-20220608";function Fb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fb)}catch(n){console.error(n)}}Fb(),DE.exports=Ui;var Ob=DE.exports,kb,rS=Ob;kb=Cv.createRoot=rS.createRoot,Cv.hydrateRoot=rS.hydrateRoot;/**
 * @remix-run/router v1.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zu(){return Zu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Zu.apply(this,arguments)}var so;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(so||(so={}));const sS="popstate";function rL(n){n===void 0&&(n={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return xy("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:Yp(r)}return oL(e,t,null,n)}function An(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function u_(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sL(){return Math.random().toString(36).substr(2,8)}function oS(n,e){return{usr:n.state,key:n.key,idx:e}}function xy(n,e,t,i){return t===void 0&&(t=null),Zu({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?gc(e):e,{state:t,key:e&&e.key||i||sL()})}function Yp(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function gc(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function oL(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=so.Pop,c=null,d=f();d==null&&(d=0,o.replaceState(Zu({},o.state,{idx:d}),""));function f(){return(o.state||{idx:null}).idx}function h(){a=so.Pop;let _=f(),w=_==null?null:_-d;d=_,c&&c({action:a,location:v.location,delta:w})}function p(_,w){a=so.Push;let A=xy(v.location,_,w);t&&t(A,_),d=f()+1;let S=oS(A,d),E=v.createHref(A);try{o.pushState(S,"",E)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;r.location.assign(E)}s&&c&&c({action:a,location:v.location,delta:1})}function g(_,w){a=so.Replace;let A=xy(v.location,_,w);t&&t(A,_),d=f();let S=oS(A,d),E=v.createHref(A);o.replaceState(S,"",E),s&&c&&c({action:a,location:v.location,delta:0})}function y(_){let w=r.location.origin!=="null"?r.location.origin:r.location.href,A=typeof _=="string"?_:Yp(_);return An(w,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,w)}let v={get action(){return a},get location(){return n(r,o)},listen(_){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(sS,h),c=_,()=>{r.removeEventListener(sS,h),c=null}},createHref(_){return e(r,_)},createURL:y,encodeLocation(_){let w=y(_);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:g,go(_){return o.go(_)}};return v}var aS;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(aS||(aS={}));function aL(n,e,t){t===void 0&&(t="/");let i=typeof e=="string"?gc(e):e,r=d_(i.pathname||"/",t);if(r==null)return null;let s=zb(n);lL(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=vL(s[a],_L(r));return o}function zb(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let r=(s,o,a)=>{let c={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(An(c.relativePath.startsWith(i),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(i.length));let d=go([i,c.relativePath]),f=t.concat(c);s.children&&s.children.length>0&&(An(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),zb(s.children,e,f,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:mL(d,s.index),routesMeta:f})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let c of Ub(s.path))r(s,o,c)}),e}function Ub(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=Ub(i.join("/")),a=[];return a.push(...o.map(c=>c===""?s:[s,c].join("/"))),r&&a.push(...o),a.map(c=>n.startsWith("/")&&c===""?"/":c)}function lL(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:gL(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const cL=/^:\w+$/,uL=3,dL=2,fL=1,hL=10,pL=-2,lS=n=>n==="*";function mL(n,e){let t=n.split("/"),i=t.length;return t.some(lS)&&(i+=pL),e&&(i+=dL),t.filter(r=>!lS(r)).reduce((r,s)=>r+(cL.test(s)?uL:s===""?fL:hL),i)}function gL(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function vL(n,e){let{routesMeta:t}=n,i={},r="/",s=[];for(let o=0;o<t.length;++o){let a=t[o],c=o===t.length-1,d=r==="/"?e:e.slice(r.length)||"/",f=yL({path:a.relativePath,caseSensitive:a.caseSensitive,end:c},d);if(!f)return null;Object.assign(i,f.params);let h=a.route;s.push({params:i,pathname:go([r,f.pathname]),pathnameBase:ML(go([r,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(r=go([r,f.pathnameBase]))}return s}function yL(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=xL(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((d,f,h)=>{if(f==="*"){let p=a[h]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}return d[f]=wL(a[h]||"",f),d},{}),pathname:s,pathnameBase:o,pattern:n}}function xL(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),u_(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(i.push(a),"/([^\\/]+)"));return n.endsWith("*")?(i.push("*"),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function _L(n){try{return decodeURI(n)}catch(e){return u_(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function wL(n,e){try{return decodeURIComponent(n)}catch(t){return u_(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+n+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+t+").")),n}}function d_(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function AL(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?gc(n):n;return{pathname:t?t.startsWith("/")?t:SL(t,e):e,search:EL(i),hash:CL(r)}}function SL(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function E0(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Gb(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Hb(n,e,t,i){i===void 0&&(i=!1);let r;typeof n=="string"?r=gc(n):(r=Zu({},n),An(!r.pathname||!r.pathname.includes("?"),E0("?","pathname","search",r)),An(!r.pathname||!r.pathname.includes("#"),E0("#","pathname","hash",r)),An(!r.search||!r.search.includes("#"),E0("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,a;if(i||o==null)a=t;else{let h=e.length-1;if(o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;r.pathname=p.join("/")}a=h>=0?e[h]:"/"}let c=AL(r,a),d=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}const go=n=>n.join("/").replace(/\/\/+/g,"/"),ML=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),EL=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,CL=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function bL(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const jb=["post","put","patch","delete"];new Set(jb);const TL=["get",...jb];new Set(TL);/**
 * React Router v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qp(){return Qp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Qp.apply(this,arguments)}const f_=Y.createContext(null),Vb=Y.createContext(null),Na=Y.createContext(null),Sm=Y.createContext(null),Fa=Y.createContext({outlet:null,matches:[],isDataRoute:!1}),Wb=Y.createContext(null);function BL(n,e){let{relative:t}=e===void 0?{}:e;gd()||An(!1);let{basename:i,navigator:r}=Y.useContext(Na),{hash:s,pathname:o,search:a}=h_(n,{relative:t}),c=o;return i!=="/"&&(c=o==="/"?i:go([i,o])),r.createHref({pathname:c,search:a,hash:s})}function gd(){return Y.useContext(Sm)!=null}function vd(){return gd()||An(!1),Y.useContext(Sm).location}function Jb(n){Y.useContext(Na).static||Y.useLayoutEffect(n)}function PL(){let{isDataRoute:n}=Y.useContext(Fa);return n?jL():RL()}function RL(){gd()||An(!1);let n=Y.useContext(f_),{basename:e,navigator:t}=Y.useContext(Na),{matches:i}=Y.useContext(Fa),{pathname:r}=vd(),s=JSON.stringify(Gb(i).map(c=>c.pathnameBase)),o=Y.useRef(!1);return Jb(()=>{o.current=!0}),Y.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){t.go(c);return}let f=Hb(c,JSON.parse(s),r,d.relative==="path");n==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:go([e,f.pathname])),(d.replace?t.replace:t.push)(f,d.state,d)},[e,t,s,r,n])}function h_(n,e){let{relative:t}=e===void 0?{}:e,{matches:i}=Y.useContext(Fa),{pathname:r}=vd(),s=JSON.stringify(Gb(i).map(o=>o.pathnameBase));return Y.useMemo(()=>Hb(n,JSON.parse(s),r,t==="path"),[n,s,r,t])}function LL(n,e){return IL(n,e)}function IL(n,e,t){gd()||An(!1);let{navigator:i}=Y.useContext(Na),{matches:r}=Y.useContext(Fa),s=r[r.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let c=vd(),d;if(e){var f;let v=typeof e=="string"?gc(e):e;a==="/"||(f=v.pathname)!=null&&f.startsWith(a)||An(!1),d=v}else d=c;let h=d.pathname||"/",p=a==="/"?h:h.slice(a.length)||"/",g=aL(n,{pathname:p}),y=kL(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:go([a,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?a:go([a,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),r,t);return e&&y?Y.createElement(Sm.Provider,{value:{location:Qp({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:so.Pop}},y):y}function DL(){let n=HL(),e=bL(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),t?Y.createElement("pre",{style:r},t):null,s)}const NL=Y.createElement(DL,null);class FL extends Y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?Y.createElement(Fa.Provider,{value:this.props.routeContext},Y.createElement(Wb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function OL(n){let{routeContext:e,match:t,children:i}=n,r=Y.useContext(f_);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),Y.createElement(Fa.Provider,{value:e},i)}function kL(n,e,t){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),n==null){var r;if((r=t)!=null&&r.errors)n=t.matches;else return null}let s=n,o=(i=t)==null?void 0:i.errors;if(o!=null){let a=s.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id]));a>=0||An(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,c,d)=>{let f=c.route.id?o==null?void 0:o[c.route.id]:null,h=null;t&&(h=c.route.errorElement||NL);let p=e.concat(s.slice(0,d+1)),g=()=>{let y;return f?y=h:c.route.Component?y=Y.createElement(c.route.Component,null):c.route.element?y=c.route.element:y=a,Y.createElement(OL,{match:c,routeContext:{outlet:a,matches:p,isDataRoute:t!=null},children:y})};return t&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?Y.createElement(FL,{location:t.location,revalidation:t.revalidation,component:h,error:f,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var Xb=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(Xb||{}),Zp=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(Zp||{});function zL(n){let e=Y.useContext(f_);return e||An(!1),e}function UL(n){let e=Y.useContext(Vb);return e||An(!1),e}function GL(n){let e=Y.useContext(Fa);return e||An(!1),e}function qb(n){let e=GL(),t=e.matches[e.matches.length-1];return t.route.id||An(!1),t.route.id}function HL(){var n;let e=Y.useContext(Wb),t=UL(Zp.UseRouteError),i=qb(Zp.UseRouteError);return e||((n=t.errors)==null?void 0:n[i])}function jL(){let{router:n}=zL(Xb.UseNavigateStable),e=qb(Zp.UseNavigateStable),t=Y.useRef(!1);return Jb(()=>{t.current=!0}),Y.useCallback(function(r,s){s===void 0&&(s={}),t.current&&(typeof r=="number"?n.navigate(r):n.navigate(r,Qp({fromRouteId:e},s)))},[n,e])}function _u(n){An(!1)}function VL(n){let{basename:e="/",children:t=null,location:i,navigationType:r=so.Pop,navigator:s,static:o=!1}=n;gd()&&An(!1);let a=e.replace(/^\/*/,"/"),c=Y.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof i=="string"&&(i=gc(i));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:g="default"}=i,y=Y.useMemo(()=>{let v=d_(d,a);return v==null?null:{location:{pathname:v,search:f,hash:h,state:p,key:g},navigationType:r}},[a,d,f,h,p,g,r]);return y==null?null:Y.createElement(Na.Provider,{value:c},Y.createElement(Sm.Provider,{children:t,value:y}))}function WL(n){let{children:e,location:t}=n;return LL(_y(e),t)}new Promise(()=>{});function _y(n,e){e===void 0&&(e=[]);let t=[];return Y.Children.forEach(n,(i,r)=>{if(!Y.isValidElement(i))return;let s=[...e,r];if(i.type===Y.Fragment){t.push.apply(t,_y(i.props.children,s));return}i.type!==_u&&An(!1),!i.props.index||!i.props.children||An(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=_y(i.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $p(){return $p=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},$p.apply(this,arguments)}function Kb(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function JL(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function XL(n,e){return n.button===0&&(!e||e==="_self")&&!JL(n)}const qL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],KL=["aria-current","caseSensitive","className","end","style","to","children"],YL="startTransition",cS=qP[YL];function QL(n){let{basename:e,children:t,future:i,window:r}=n,s=Y.useRef();s.current==null&&(s.current=rL({window:r,v5Compat:!0}));let o=s.current,[a,c]=Y.useState({action:o.action,location:o.location}),{v7_startTransition:d}=i||{},f=Y.useCallback(h=>{d&&cS?cS(()=>c(h)):c(h)},[c,d]);return Y.useLayoutEffect(()=>o.listen(f),[o,f]),Y.createElement(VL,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o})}const ZL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$L=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eI=Y.forwardRef(function(e,t){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:c,to:d,preventScrollReset:f}=e,h=Kb(e,qL),{basename:p}=Y.useContext(Na),g,y=!1;if(typeof d=="string"&&$L.test(d)&&(g=d,ZL))try{let A=new URL(window.location.href),S=d.startsWith("//")?new URL(A.protocol+d):new URL(d),E=d_(S.pathname,p);S.origin===A.origin&&E!=null?d=E+S.search+S.hash:y=!0}catch{}let v=BL(d,{relative:r}),_=tI(d,{replace:o,state:a,target:c,preventScrollReset:f,relative:r});function w(A){i&&i(A),A.defaultPrevented||_(A)}return Y.createElement("a",$p({},h,{href:g||v,onClick:y||s?i:w,ref:t,target:c}))}),ch=Y.forwardRef(function(e,t){let{"aria-current":i="page",caseSensitive:r=!1,className:s="",end:o=!1,style:a,to:c,children:d}=e,f=Kb(e,KL),h=h_(c,{relative:f.relative}),p=vd(),g=Y.useContext(Vb),{navigator:y}=Y.useContext(Na),v=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,_=p.pathname,w=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(_=_.toLowerCase(),w=w?w.toLowerCase():null,v=v.toLowerCase());let A=_===v||!o&&_.startsWith(v)&&_.charAt(v.length)==="/",S=w!=null&&(w===v||!o&&w.startsWith(v)&&w.charAt(v.length)==="/"),E=A?i:void 0,C;typeof s=="function"?C=s({isActive:A,isPending:S}):C=[s,A?"active":null,S?"pending":null].filter(Boolean).join(" ");let B=typeof a=="function"?a({isActive:A,isPending:S}):a;return Y.createElement(eI,$p({},f,{"aria-current":E,className:C,ref:t,style:B,to:c}),typeof d=="function"?d({isActive:A,isPending:S}):d)});var uS;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher"})(uS||(uS={}));var dS;(function(n){n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(dS||(dS={}));function tI(n,e){let{target:t,replace:i,state:r,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=PL(),c=vd(),d=h_(n,{relative:o});return Y.useCallback(f=>{if(XL(f,t)){f.preventDefault();let h=i!==void 0?i:Yp(c)===Yp(d);a(n,{replace:h,state:r,preventScrollReset:s,relative:o})}},[c,a,d,i,r,t,n,s,o])}const nI=()=>P.jsxs("nav",{className:"flex w-screen h-[10vh] items-center mt-0 justify-between px-8 sticky top-0 self-start z-10  bg-zinc-100",children:[P.jsx("div",{className:"flex flex-row text-4xl ml-11",id:"raullorenzo",children:P.jsx(ch,{end:!0,to:"/",children:"Raul Lorenzo"})}),P.jsxs("ul",{className:"flex flex-row gap-8 text-xl mr-16",children:[P.jsx("li",{children:P.jsx(ch,{to:"/exhibitions",children:"Exhibitions"})}),P.jsx("li",{children:P.jsx(ch,{to:"/writings",children:"Writings"})}),P.jsx("li",{children:P.jsx(ch,{to:"/cv",children:"CV + Contact"})})]})]});/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const yd="149",na={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},ia={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Yb=0,wy=1,Qb=2,iI=3,Zb=0,Mm=1,Ru=2,ua=3,qr=0,Ci=1,Mr=2,rI=2,Cs=0,ya=1,Ay=2,Sy=3,My=4,$b=5,sa=100,eT=101,tT=102,Ey=103,Cy=104,nT=200,iT=201,rT=202,sT=203,p_=204,m_=205,oT=206,aT=207,lT=208,cT=209,uT=210,dT=0,fT=1,hT=2,em=3,pT=4,mT=5,gT=6,vT=7,xd=0,yT=1,xT=2,br=0,_T=1,wT=2,AT=3,g_=4,ST=5,Em=300,_o=301,wo=302,$u=303,ed=304,vc=306,Ao=1e3,jn=1001,nc=1002,hn=1003,td=1004,sI=1004,Jl=1005,oI=1005,nn=1006,Cm=1007,aI=1007,Kr=1008,lI=1008,Rs=1009,MT=1010,ET=1011,v_=1012,CT=1013,oo=1014,As=1015,ic=1016,bT=1017,TT=1018,xa=1020,BT=1021,wi=1023,PT=1024,RT=1025,vo=1026,Ba=1027,LT=1028,IT=1029,DT=1030,NT=1031,FT=1033,vp=33776,yp=33777,xp=33778,_p=33779,by=35840,Ty=35841,By=35842,Py=35843,OT=36196,Ry=37492,Ly=37496,Iy=37808,Dy=37809,Ny=37810,Fy=37811,Oy=37812,ky=37813,zy=37814,Uy=37815,Gy=37816,Hy=37817,jy=37818,Vy=37819,Wy=37820,Jy=37821,wp=36492,kT=36283,Xy=36284,qy=36285,Ky=36286,zT=2200,UT=2201,GT=2202,rc=2300,Pa=2301,Ap=2302,da=2400,fa=2401,nd=2402,bm=2500,y_=2501,HT=0,x_=1,tm=2,So=3e3,Gt=3001,jT=3200,VT=3201,Bo=0,WT=1,cI="",wr="srgb",sc="srgb-linear",uI=0,Sp=7680,dI=7681,fI=7682,hI=7683,pI=34055,mI=34056,gI=5386,vI=512,yI=513,xI=514,_I=515,wI=516,AI=517,SI=518,JT=519,id=35044,MI=35048,EI=35040,CI=35045,bI=35049,TI=35041,BI=35046,PI=35050,RI=35042,LI="100",Yy="300 es",nm=1035;class Qr{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const Zn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let fS=1234567;const _a=Math.PI/180,rd=180/Math.PI;function Oi(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Zn[n&255]+Zn[n>>8&255]+Zn[n>>16&255]+Zn[n>>24&255]+"-"+Zn[e&255]+Zn[e>>8&255]+"-"+Zn[e>>16&15|64]+Zn[e>>24&255]+"-"+Zn[t&63|128]+Zn[t>>8&255]+"-"+Zn[t>>16&255]+Zn[t>>24&255]+Zn[i&255]+Zn[i>>8&255]+Zn[i>>16&255]+Zn[i>>24&255]).toLowerCase()}function vn(n,e,t){return Math.max(e,Math.min(t,n))}function __(n,e){return(n%e+e)%e}function II(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function DI(n,e,t){return n!==e?(t-n)/(e-n):0}function Lu(n,e,t){return(1-t)*n+t*e}function NI(n,e,t,i){return Lu(n,e,1-Math.exp(-t*i))}function FI(n,e=1){return e-Math.abs(__(n,e*2)-e)}function OI(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function kI(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function zI(n,e){return n+Math.floor(Math.random()*(e-n+1))}function UI(n,e){return n+Math.random()*(e-n)}function GI(n){return n*(.5-Math.random())}function HI(n){n!==void 0&&(fS=n);let e=fS+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function jI(n){return n*_a}function VI(n){return n*rd}function Qy(n){return(n&n-1)===0&&n!==0}function XT(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function im(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function WI(n,e,t,i,r){const s=Math.cos,o=Math.sin,a=s(t/2),c=o(t/2),d=s((e+i)/2),f=o((e+i)/2),h=s((e-i)/2),p=o((e-i)/2),g=s((i-e)/2),y=o((i-e)/2);switch(r){case"XYX":n.set(a*f,c*h,c*p,a*d);break;case"YZY":n.set(c*p,a*f,c*h,a*d);break;case"ZXZ":n.set(c*h,c*p,a*f,a*d);break;case"XZX":n.set(a*f,c*y,c*g,a*d);break;case"YXY":n.set(c*g,a*f,c*y,a*d);break;case"ZYZ":n.set(c*y,c*g,a*f,a*d);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Ss(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Ut(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}var qT=Object.freeze({__proto__:null,DEG2RAD:_a,RAD2DEG:rd,ceilPowerOfTwo:XT,clamp:vn,damp:NI,degToRad:jI,denormalize:Ss,euclideanModulo:__,floorPowerOfTwo:im,generateUUID:Oi,inverseLerp:DI,isPowerOfTwo:Qy,lerp:Lu,mapLinear:II,normalize:Ut,pingpong:FI,radToDeg:VI,randFloat:UI,randFloatSpread:GI,randInt:zI,seededRandom:HI,setQuaternionFromProperEuler:WI,smootherstep:kI,smoothstep:OI});class pe{constructor(e=0,t=0){pe.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class di{constructor(){di.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,i,r,s,o,a,c,d){const f=this.elements;return f[0]=e,f[1]=r,f[2]=a,f[3]=t,f[4]=s,f[5]=c,f[6]=i,f[7]=o,f[8]=d,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],c=i[6],d=i[1],f=i[4],h=i[7],p=i[2],g=i[5],y=i[8],v=r[0],_=r[3],w=r[6],A=r[1],S=r[4],E=r[7],C=r[2],B=r[5],L=r[8];return s[0]=o*v+a*A+c*C,s[3]=o*_+a*S+c*B,s[6]=o*w+a*E+c*L,s[1]=d*v+f*A+h*C,s[4]=d*_+f*S+h*B,s[7]=d*w+f*E+h*L,s[2]=p*v+g*A+y*C,s[5]=p*_+g*S+y*B,s[8]=p*w+g*E+y*L,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],c=e[6],d=e[7],f=e[8];return t*o*f-t*a*d-i*s*f+i*a*c+r*s*d-r*o*c}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],c=e[6],d=e[7],f=e[8],h=f*o-a*d,p=a*c-f*s,g=d*s-o*c,y=t*h+i*p+r*g;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/y;return e[0]=h*v,e[1]=(r*d-f*i)*v,e[2]=(a*i-r*o)*v,e[3]=p*v,e[4]=(f*t-r*c)*v,e[5]=(r*s-a*t)*v,e[6]=g*v,e[7]=(i*c-d*t)*v,e[8]=(o*t-i*s)*v,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const c=Math.cos(s),d=Math.sin(s);return this.set(i*c,i*d,-i*(c*o+d*a)+o+e,-r*d,r*c,-r*(-d*o+c*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(C0.makeScale(e,t)),this}rotate(e){return this.premultiply(C0.makeRotation(-e)),this}translate(e,t){return this.premultiply(C0.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const C0=new di;function KT(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const JI={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Nl(n,e){return new JI[n](e)}function sd(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function wa(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Mp(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const b0={[wr]:{[sc]:wa},[sc]:{[wr]:Mp}},$n={legacyMode:!0,get workingColorSpace(){return sc},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(b0[e]&&b0[e][t]!==void 0){const i=b0[e][t];return n.r=i(n.r),n.g=i(n.g),n.b=i(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},YT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Cn={r:0,g:0,b:0},gr={h:0,s:0,l:0},uh={h:0,s:0,l:0};function T0(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function dh(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}class De{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&i===void 0?this.set(e):this.setRGB(e,t,i)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=wr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,$n.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=$n.workingColorSpace){return this.r=e,this.g=t,this.b=i,$n.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=$n.workingColorSpace){if(e=__(e,1),t=vn(t,0,1),i=vn(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=T0(o,s,e+1/3),this.g=T0(o,s,e),this.b=T0(o,s,e-1/3)}return $n.toWorkingColorSpace(this,r),this}setStyle(e,t=wr){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,$n.toWorkingColorSpace(this,t),i(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,$n.toWorkingColorSpace(this,t),i(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const c=parseFloat(s[1])/360,d=parseFloat(s[2])/100,f=parseFloat(s[3])/100;return i(s[4]),this.setHSL(c,d,f,t)}break}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,$n.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,$n.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=wr){const i=YT[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=wa(e.r),this.g=wa(e.g),this.b=wa(e.b),this}copyLinearToSRGB(e){return this.r=Mp(e.r),this.g=Mp(e.g),this.b=Mp(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=wr){return $n.fromWorkingColorSpace(dh(this,Cn),e),vn(Cn.r*255,0,255)<<16^vn(Cn.g*255,0,255)<<8^vn(Cn.b*255,0,255)<<0}getHexString(e=wr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=$n.workingColorSpace){$n.fromWorkingColorSpace(dh(this,Cn),t);const i=Cn.r,r=Cn.g,s=Cn.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let c,d;const f=(a+o)/2;if(a===o)c=0,d=0;else{const h=o-a;switch(d=f<=.5?h/(o+a):h/(2-o-a),o){case i:c=(r-s)/h+(r<s?6:0);break;case r:c=(s-i)/h+2;break;case s:c=(i-r)/h+4;break}c/=6}return e.h=c,e.s=d,e.l=f,e}getRGB(e,t=$n.workingColorSpace){return $n.fromWorkingColorSpace(dh(this,Cn),t),e.r=Cn.r,e.g=Cn.g,e.b=Cn.b,e}getStyle(e=wr){return $n.fromWorkingColorSpace(dh(this,Cn),e),e!==wr?`color(${e} ${Cn.r} ${Cn.g} ${Cn.b})`:`rgb(${Cn.r*255|0},${Cn.g*255|0},${Cn.b*255|0})`}offsetHSL(e,t,i){return this.getHSL(gr),gr.h+=e,gr.s+=t,gr.l+=i,this.setHSL(gr.h,gr.s,gr.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(gr),e.getHSL(uh);const i=Lu(gr.h,uh.h,t),r=Lu(gr.s,uh.s,t),s=Lu(gr.l,uh.l,t);return this.setHSL(i,r,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}De.NAMES=YT;let tl;class w_{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{tl===void 0&&(tl=sd("canvas")),tl.width=e.width,tl.height=e.height;const i=tl.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=tl}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=sd("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=wa(s[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(wa(t[i]/255)*255):t[i]=wa(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class ha{constructor(e=null){this.isSource=!0,this.uuid=Oi(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(B0(r[o].image)):s.push(B0(r[o]))}else s=B0(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function B0(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?w_.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let XI=0;class Qt extends Qr{constructor(e=Qt.DEFAULT_IMAGE,t=Qt.DEFAULT_MAPPING,i=jn,r=jn,s=nn,o=Kr,a=wi,c=Rs,d=Qt.DEFAULT_ANISOTROPY,f=So){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:XI++}),this.uuid=Oi(),this.name="",this.source=new ha(e),this.mipmaps=[],this.mapping=t,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=d,this.format=a,this.internalFormat=null,this.type=c,this.offset=new pe(0,0),this.repeat=new pe(1,1),this.center=new pe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new di,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=f,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Em)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ao:e.x=e.x-Math.floor(e.x);break;case jn:e.x=e.x<0?0:1;break;case nc:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Ao:e.y=e.y-Math.floor(e.y);break;case jn:e.y=e.y<0?0:1;break;case nc:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}Qt.DEFAULT_IMAGE=null;Qt.DEFAULT_MAPPING=Em;Qt.DEFAULT_ANISOTROPY=1;class Ft{constructor(e=0,t=0,i=0,r=1){Ft.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const c=e.elements,d=c[0],f=c[4],h=c[8],p=c[1],g=c[5],y=c[9],v=c[2],_=c[6],w=c[10];if(Math.abs(f-p)<.01&&Math.abs(h-v)<.01&&Math.abs(y-_)<.01){if(Math.abs(f+p)<.1&&Math.abs(h+v)<.1&&Math.abs(y+_)<.1&&Math.abs(d+g+w-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const S=(d+1)/2,E=(g+1)/2,C=(w+1)/2,B=(f+p)/4,L=(h+v)/4,b=(y+_)/4;return S>E&&S>C?S<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(S),r=B/i,s=L/i):E>C?E<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(E),i=B/r,s=b/r):C<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(C),i=L/s,r=b/s),this.set(i,r,s,t),this}let A=Math.sqrt((_-y)*(_-y)+(h-v)*(h-v)+(p-f)*(p-f));return Math.abs(A)<.001&&(A=1),this.x=(_-y)/A,this.y=(h-v)/A,this.z=(p-f)/A,this.w=Math.acos((d+g+w-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Br extends Qr{constructor(e=1,t=1,i={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Ft(0,0,e,t),this.scissorTest=!1,this.viewport=new Ft(0,0,e,t);const r={width:e,height:t,depth:1};this.texture=new Qt(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:nn,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null,this.samples=i.samples!==void 0?i.samples:0}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new ha(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Tm extends Qt{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=hn,this.minFilter=hn,this.wrapR=jn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class qI extends Br{constructor(e=1,t=1,i=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new Tm(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class A_ extends Qt{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=hn,this.minFilter=hn,this.wrapR=jn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class KI extends Br{constructor(e=1,t=1,i=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new A_(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class YI extends Br{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<i;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=i;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,i=e.texture.length;t<i;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class Un{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let c=i[r+0],d=i[r+1],f=i[r+2],h=i[r+3];const p=s[o+0],g=s[o+1],y=s[o+2],v=s[o+3];if(a===0){e[t+0]=c,e[t+1]=d,e[t+2]=f,e[t+3]=h;return}if(a===1){e[t+0]=p,e[t+1]=g,e[t+2]=y,e[t+3]=v;return}if(h!==v||c!==p||d!==g||f!==y){let _=1-a;const w=c*p+d*g+f*y+h*v,A=w>=0?1:-1,S=1-w*w;if(S>Number.EPSILON){const C=Math.sqrt(S),B=Math.atan2(C,w*A);_=Math.sin(_*B)/C,a=Math.sin(a*B)/C}const E=a*A;if(c=c*_+p*E,d=d*_+g*E,f=f*_+y*E,h=h*_+v*E,_===1-a){const C=1/Math.sqrt(c*c+d*d+f*f+h*h);c*=C,d*=C,f*=C,h*=C}}e[t]=c,e[t+1]=d,e[t+2]=f,e[t+3]=h}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],c=i[r+1],d=i[r+2],f=i[r+3],h=s[o],p=s[o+1],g=s[o+2],y=s[o+3];return e[t]=a*y+f*h+c*g-d*p,e[t+1]=c*y+f*p+d*h-a*g,e[t+2]=d*y+f*g+a*p-c*h,e[t+3]=f*y-a*h-c*p-d*g,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,c=Math.sin,d=a(i/2),f=a(r/2),h=a(s/2),p=c(i/2),g=c(r/2),y=c(s/2);switch(o){case"XYZ":this._x=p*f*h+d*g*y,this._y=d*g*h-p*f*y,this._z=d*f*y+p*g*h,this._w=d*f*h-p*g*y;break;case"YXZ":this._x=p*f*h+d*g*y,this._y=d*g*h-p*f*y,this._z=d*f*y-p*g*h,this._w=d*f*h+p*g*y;break;case"ZXY":this._x=p*f*h-d*g*y,this._y=d*g*h+p*f*y,this._z=d*f*y+p*g*h,this._w=d*f*h-p*g*y;break;case"ZYX":this._x=p*f*h-d*g*y,this._y=d*g*h+p*f*y,this._z=d*f*y-p*g*h,this._w=d*f*h+p*g*y;break;case"YZX":this._x=p*f*h+d*g*y,this._y=d*g*h+p*f*y,this._z=d*f*y-p*g*h,this._w=d*f*h-p*g*y;break;case"XZY":this._x=p*f*h-d*g*y,this._y=d*g*h-p*f*y,this._z=d*f*y+p*g*h,this._w=d*f*h+p*g*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],c=t[9],d=t[2],f=t[6],h=t[10],p=i+a+h;if(p>0){const g=.5/Math.sqrt(p+1);this._w=.25/g,this._x=(f-c)*g,this._y=(s-d)*g,this._z=(o-r)*g}else if(i>a&&i>h){const g=2*Math.sqrt(1+i-a-h);this._w=(f-c)/g,this._x=.25*g,this._y=(r+o)/g,this._z=(s+d)/g}else if(a>h){const g=2*Math.sqrt(1+a-i-h);this._w=(s-d)/g,this._x=(r+o)/g,this._y=.25*g,this._z=(c+f)/g}else{const g=2*Math.sqrt(1+h-i-a);this._w=(o-r)/g,this._x=(s+d)/g,this._y=(c+f)/g,this._z=.25*g}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(vn(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,c=t._y,d=t._z,f=t._w;return this._x=i*f+o*a+r*d-s*c,this._y=r*f+o*c+s*a-i*d,this._z=s*f+o*d+i*c-r*a,this._w=o*f-i*a-r*c-s*d,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const c=1-a*a;if(c<=Number.EPSILON){const g=1-t;return this._w=g*o+t*this._w,this._x=g*i+t*this._x,this._y=g*r+t*this._y,this._z=g*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const d=Math.sqrt(c),f=Math.atan2(d,a),h=Math.sin((1-t)*f)/d,p=Math.sin(t*f)/d;return this._w=o*h+this._w*p,this._x=i*h+this._x*p,this._y=r*h+this._y*p,this._z=s*h+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(s),i*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class F{constructor(e=0,t=0,i=0){F.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(hS.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(hS.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,c=e.w,d=c*t+o*r-a*i,f=c*i+a*t-s*r,h=c*r+s*i-o*t,p=-s*t-o*i-a*r;return this.x=d*c+p*-s+f*-a-h*-o,this.y=f*c+p*-o+h*-s-d*-a,this.z=h*c+p*-a+d*-o-f*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,c=t.z;return this.x=r*c-s*a,this.y=s*o-i*c,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return P0.copy(this).projectOnVector(e),this.sub(P0)}reflect(e){return this.sub(P0.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(vn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const P0=new F,hS=new Un;class Po{constructor(e=new F(1/0,1/0,1/0),t=new F(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let c=0,d=e.length;c<d;c+=3){const f=e[c],h=e[c+1],p=e[c+2];f<t&&(t=f),h<i&&(i=h),p<r&&(r=p),f>s&&(s=f),h>o&&(o=h),p>a&&(a=p)}return this.min.set(t,i,r),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let c=0,d=e.count;c<d;c++){const f=e.getX(c),h=e.getY(c),p=e.getZ(c);f<t&&(t=f),h<i&&(i=h),p<r&&(r=p),f>s&&(s=f),h>o&&(o=h),p>a&&(a=p)}return this.min.set(t,i,r),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Vo.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0)if(t&&i.attributes!=null&&i.attributes.position!==void 0){const s=i.attributes.position;for(let o=0,a=s.count;o<a;o++)Vo.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(Vo)}else i.boundingBox===null&&i.computeBoundingBox(),R0.copy(i.boundingBox),R0.applyMatrix4(e.matrixWorld),this.union(R0);const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Vo),Vo.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(eu),fh.subVectors(this.max,eu),nl.subVectors(e.a,eu),il.subVectors(e.b,eu),rl.subVectors(e.c,eu),Vs.subVectors(il,nl),Ws.subVectors(rl,il),Wo.subVectors(nl,rl);let t=[0,-Vs.z,Vs.y,0,-Ws.z,Ws.y,0,-Wo.z,Wo.y,Vs.z,0,-Vs.x,Ws.z,0,-Ws.x,Wo.z,0,-Wo.x,-Vs.y,Vs.x,0,-Ws.y,Ws.x,0,-Wo.y,Wo.x,0];return!L0(t,nl,il,rl,fh)||(t=[1,0,0,0,1,0,0,0,1],!L0(t,nl,il,rl,fh))?!1:(hh.crossVectors(Vs,Ws),t=[hh.x,hh.y,hh.z],L0(t,nl,il,rl,fh))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Vo.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(Vo).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(us[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),us[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),us[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),us[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),us[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),us[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),us[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),us[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(us),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const us=[new F,new F,new F,new F,new F,new F,new F,new F],Vo=new F,R0=new Po,nl=new F,il=new F,rl=new F,Vs=new F,Ws=new F,Wo=new F,eu=new F,fh=new F,hh=new F,Jo=new F;function L0(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){Jo.fromArray(n,s);const a=r.x*Math.abs(Jo.x)+r.y*Math.abs(Jo.y)+r.z*Math.abs(Jo.z),c=e.dot(Jo),d=t.dot(Jo),f=i.dot(Jo);if(Math.max(-Math.max(c,d,f),Math.min(c,d,f))>a)return!1}return!0}const QI=new Po,tu=new F,I0=new F;class Ro{constructor(e=new F,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):QI.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;tu.subVectors(e,this.center);const t=tu.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(tu,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(I0.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(tu.copy(e.center).add(I0)),this.expandByPoint(tu.copy(e.center).sub(I0))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const ds=new F,D0=new F,ph=new F,Js=new F,N0=new F,mh=new F,F0=new F;class yc{constructor(e=new F,t=new F(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ds)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=ds.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(ds.copy(this.direction).multiplyScalar(t).add(this.origin),ds.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){D0.copy(e).add(t).multiplyScalar(.5),ph.copy(t).sub(e).normalize(),Js.copy(this.origin).sub(D0);const s=e.distanceTo(t)*.5,o=-this.direction.dot(ph),a=Js.dot(this.direction),c=-Js.dot(ph),d=Js.lengthSq(),f=Math.abs(1-o*o);let h,p,g,y;if(f>0)if(h=o*c-a,p=o*a-c,y=s*f,h>=0)if(p>=-y)if(p<=y){const v=1/f;h*=v,p*=v,g=h*(h+o*p+2*a)+p*(o*h+p+2*c)+d}else p=s,h=Math.max(0,-(o*p+a)),g=-h*h+p*(p+2*c)+d;else p=-s,h=Math.max(0,-(o*p+a)),g=-h*h+p*(p+2*c)+d;else p<=-y?(h=Math.max(0,-(-o*s+a)),p=h>0?-s:Math.min(Math.max(-s,-c),s),g=-h*h+p*(p+2*c)+d):p<=y?(h=0,p=Math.min(Math.max(-s,-c),s),g=p*(p+2*c)+d):(h=Math.max(0,-(o*s+a)),p=h>0?s:Math.min(Math.max(-s,-c),s),g=-h*h+p*(p+2*c)+d);else p=o>0?-s:s,h=Math.max(0,-(o*p+a)),g=-h*h+p*(p+2*c)+d;return i&&i.copy(this.direction).multiplyScalar(h).add(this.origin),r&&r.copy(ph).multiplyScalar(p).add(D0),g}intersectSphere(e,t){ds.subVectors(e.center,this.origin);const i=ds.dot(this.direction),r=ds.dot(ds)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,c=i+o;return a<0&&c<0?null:a<0?this.at(c,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,c;const d=1/this.direction.x,f=1/this.direction.y,h=1/this.direction.z,p=this.origin;return d>=0?(i=(e.min.x-p.x)*d,r=(e.max.x-p.x)*d):(i=(e.max.x-p.x)*d,r=(e.min.x-p.x)*d),f>=0?(s=(e.min.y-p.y)*f,o=(e.max.y-p.y)*f):(s=(e.max.y-p.y)*f,o=(e.min.y-p.y)*f),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),h>=0?(a=(e.min.z-p.z)*h,c=(e.max.z-p.z)*h):(a=(e.max.z-p.z)*h,c=(e.min.z-p.z)*h),i>c||a>r)||((a>i||i!==i)&&(i=a),(c<r||r!==r)&&(r=c),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,ds)!==null}intersectTriangle(e,t,i,r,s){N0.subVectors(t,e),mh.subVectors(i,e),F0.crossVectors(N0,mh);let o=this.direction.dot(F0),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Js.subVectors(this.origin,e);const c=a*this.direction.dot(mh.crossVectors(Js,mh));if(c<0)return null;const d=a*this.direction.dot(N0.cross(Js));if(d<0||c+d>o)return null;const f=-a*Js.dot(F0);return f<0?null:this.at(f/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class st{constructor(){st.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,i,r,s,o,a,c,d,f,h,p,g,y,v,_){const w=this.elements;return w[0]=e,w[4]=t,w[8]=i,w[12]=r,w[1]=s,w[5]=o,w[9]=a,w[13]=c,w[2]=d,w[6]=f,w[10]=h,w[14]=p,w[3]=g,w[7]=y,w[11]=v,w[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new st().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/sl.setFromMatrixColumn(e,0).length(),s=1/sl.setFromMatrixColumn(e,1).length(),o=1/sl.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),c=Math.cos(r),d=Math.sin(r),f=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const p=o*f,g=o*h,y=a*f,v=a*h;t[0]=c*f,t[4]=-c*h,t[8]=d,t[1]=g+y*d,t[5]=p-v*d,t[9]=-a*c,t[2]=v-p*d,t[6]=y+g*d,t[10]=o*c}else if(e.order==="YXZ"){const p=c*f,g=c*h,y=d*f,v=d*h;t[0]=p+v*a,t[4]=y*a-g,t[8]=o*d,t[1]=o*h,t[5]=o*f,t[9]=-a,t[2]=g*a-y,t[6]=v+p*a,t[10]=o*c}else if(e.order==="ZXY"){const p=c*f,g=c*h,y=d*f,v=d*h;t[0]=p-v*a,t[4]=-o*h,t[8]=y+g*a,t[1]=g+y*a,t[5]=o*f,t[9]=v-p*a,t[2]=-o*d,t[6]=a,t[10]=o*c}else if(e.order==="ZYX"){const p=o*f,g=o*h,y=a*f,v=a*h;t[0]=c*f,t[4]=y*d-g,t[8]=p*d+v,t[1]=c*h,t[5]=v*d+p,t[9]=g*d-y,t[2]=-d,t[6]=a*c,t[10]=o*c}else if(e.order==="YZX"){const p=o*c,g=o*d,y=a*c,v=a*d;t[0]=c*f,t[4]=v-p*h,t[8]=y*h+g,t[1]=h,t[5]=o*f,t[9]=-a*f,t[2]=-d*f,t[6]=g*h+y,t[10]=p-v*h}else if(e.order==="XZY"){const p=o*c,g=o*d,y=a*c,v=a*d;t[0]=c*f,t[4]=-h,t[8]=d*f,t[1]=p*h+v,t[5]=o*f,t[9]=g*h-y,t[2]=y*h-g,t[6]=a*f,t[10]=v*h+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(ZI,e,$I)}lookAt(e,t,i){const r=this.elements;return Ri.subVectors(e,t),Ri.lengthSq()===0&&(Ri.z=1),Ri.normalize(),Xs.crossVectors(i,Ri),Xs.lengthSq()===0&&(Math.abs(i.z)===1?Ri.x+=1e-4:Ri.z+=1e-4,Ri.normalize(),Xs.crossVectors(i,Ri)),Xs.normalize(),gh.crossVectors(Ri,Xs),r[0]=Xs.x,r[4]=gh.x,r[8]=Ri.x,r[1]=Xs.y,r[5]=gh.y,r[9]=Ri.y,r[2]=Xs.z,r[6]=gh.z,r[10]=Ri.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],c=i[8],d=i[12],f=i[1],h=i[5],p=i[9],g=i[13],y=i[2],v=i[6],_=i[10],w=i[14],A=i[3],S=i[7],E=i[11],C=i[15],B=r[0],L=r[4],b=r[8],R=r[12],D=r[1],U=r[5],Z=r[9],W=r[13],J=r[2],$=r[6],ce=r[10],ue=r[14],I=r[3],G=r[7],j=r[11],ne=r[15];return s[0]=o*B+a*D+c*J+d*I,s[4]=o*L+a*U+c*$+d*G,s[8]=o*b+a*Z+c*ce+d*j,s[12]=o*R+a*W+c*ue+d*ne,s[1]=f*B+h*D+p*J+g*I,s[5]=f*L+h*U+p*$+g*G,s[9]=f*b+h*Z+p*ce+g*j,s[13]=f*R+h*W+p*ue+g*ne,s[2]=y*B+v*D+_*J+w*I,s[6]=y*L+v*U+_*$+w*G,s[10]=y*b+v*Z+_*ce+w*j,s[14]=y*R+v*W+_*ue+w*ne,s[3]=A*B+S*D+E*J+C*I,s[7]=A*L+S*U+E*$+C*G,s[11]=A*b+S*Z+E*ce+C*j,s[15]=A*R+S*W+E*ue+C*ne,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],c=e[9],d=e[13],f=e[2],h=e[6],p=e[10],g=e[14],y=e[3],v=e[7],_=e[11],w=e[15];return y*(+s*c*h-r*d*h-s*a*p+i*d*p+r*a*g-i*c*g)+v*(+t*c*g-t*d*p+s*o*p-r*o*g+r*d*f-s*c*f)+_*(+t*d*h-t*a*g-s*o*h+i*o*g+s*a*f-i*d*f)+w*(-r*a*f-t*c*h+t*a*p+r*o*h-i*o*p+i*c*f)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],c=e[6],d=e[7],f=e[8],h=e[9],p=e[10],g=e[11],y=e[12],v=e[13],_=e[14],w=e[15],A=h*_*d-v*p*d+v*c*g-a*_*g-h*c*w+a*p*w,S=y*p*d-f*_*d-y*c*g+o*_*g+f*c*w-o*p*w,E=f*v*d-y*h*d+y*a*g-o*v*g-f*a*w+o*h*w,C=y*h*c-f*v*c-y*a*p+o*v*p+f*a*_-o*h*_,B=t*A+i*S+r*E+s*C;if(B===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const L=1/B;return e[0]=A*L,e[1]=(v*p*s-h*_*s-v*r*g+i*_*g+h*r*w-i*p*w)*L,e[2]=(a*_*s-v*c*s+v*r*d-i*_*d-a*r*w+i*c*w)*L,e[3]=(h*c*s-a*p*s-h*r*d+i*p*d+a*r*g-i*c*g)*L,e[4]=S*L,e[5]=(f*_*s-y*p*s+y*r*g-t*_*g-f*r*w+t*p*w)*L,e[6]=(y*c*s-o*_*s-y*r*d+t*_*d+o*r*w-t*c*w)*L,e[7]=(o*p*s-f*c*s+f*r*d-t*p*d-o*r*g+t*c*g)*L,e[8]=E*L,e[9]=(y*h*s-f*v*s-y*i*g+t*v*g+f*i*w-t*h*w)*L,e[10]=(o*v*s-y*a*s+y*i*d-t*v*d-o*i*w+t*a*w)*L,e[11]=(f*a*s-o*h*s-f*i*d+t*h*d+o*i*g-t*a*g)*L,e[12]=C*L,e[13]=(f*v*r-y*h*r+y*i*p-t*v*p-f*i*_+t*h*_)*L,e[14]=(y*a*r-o*v*r-y*i*c+t*v*c+o*i*_-t*a*_)*L,e[15]=(o*h*r-f*a*r+f*i*c-t*h*c-o*i*p+t*a*p)*L,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,c=e.z,d=s*o,f=s*a;return this.set(d*o+i,d*a-r*c,d*c+r*a,0,d*a+r*c,f*a+i,f*c-r*o,0,d*c-r*a,f*c+r*o,s*c*c+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,c=t._w,d=s+s,f=o+o,h=a+a,p=s*d,g=s*f,y=s*h,v=o*f,_=o*h,w=a*h,A=c*d,S=c*f,E=c*h,C=i.x,B=i.y,L=i.z;return r[0]=(1-(v+w))*C,r[1]=(g+E)*C,r[2]=(y-S)*C,r[3]=0,r[4]=(g-E)*B,r[5]=(1-(p+w))*B,r[6]=(_+A)*B,r[7]=0,r[8]=(y+S)*L,r[9]=(_-A)*L,r[10]=(1-(p+v))*L,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=sl.set(r[0],r[1],r[2]).length();const o=sl.set(r[4],r[5],r[6]).length(),a=sl.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],vr.copy(this);const d=1/s,f=1/o,h=1/a;return vr.elements[0]*=d,vr.elements[1]*=d,vr.elements[2]*=d,vr.elements[4]*=f,vr.elements[5]*=f,vr.elements[6]*=f,vr.elements[8]*=h,vr.elements[9]*=h,vr.elements[10]*=h,t.setFromRotationMatrix(vr),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o){const a=this.elements,c=2*s/(t-e),d=2*s/(i-r),f=(t+e)/(t-e),h=(i+r)/(i-r),p=-(o+s)/(o-s),g=-2*o*s/(o-s);return a[0]=c,a[4]=0,a[8]=f,a[12]=0,a[1]=0,a[5]=d,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=p,a[14]=g,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,i,r,s,o){const a=this.elements,c=1/(t-e),d=1/(i-r),f=1/(o-s),h=(t+e)*c,p=(i+r)*d,g=(o+s)*f;return a[0]=2*c,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2*d,a[9]=0,a[13]=-p,a[2]=0,a[6]=0,a[10]=-2*f,a[14]=-g,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const sl=new F,vr=new st,ZI=new F(0,0,0),$I=new F(1,1,1),Xs=new F,gh=new F,Ri=new F,pS=new st,mS=new Un;class _d{constructor(e=0,t=0,i=0,r=_d.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],c=r[1],d=r[5],f=r[9],h=r[2],p=r[6],g=r[10];switch(t){case"XYZ":this._y=Math.asin(vn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-f,g),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,d),this._z=0);break;case"YXZ":this._x=Math.asin(-vn(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(a,g),this._z=Math.atan2(c,d)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(vn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-h,g),this._z=Math.atan2(-o,d)):(this._y=0,this._z=Math.atan2(c,s));break;case"ZYX":this._y=Math.asin(-vn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(p,g),this._z=Math.atan2(c,s)):(this._x=0,this._z=Math.atan2(-o,d));break;case"YZX":this._z=Math.asin(vn(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-f,d),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,g));break;case"XZY":this._z=Math.asin(-vn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,d),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-f,g),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return pS.makeRotationFromQuaternion(e),this.setFromRotationMatrix(pS,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return mS.setFromEuler(this),this.setFromQuaternion(mS,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}_d.DEFAULT_ORDER="XYZ";class Aa{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let eD=0;const gS=new F,ol=new Un,fs=new st,vh=new F,nu=new F,tD=new F,nD=new Un,vS=new F(1,0,0),yS=new F(0,1,0),xS=new F(0,0,1),iD={type:"added"},_S={type:"removed"};class bt extends Qr{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:eD++}),this.uuid=Oi(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=bt.DEFAULT_UP.clone();const e=new F,t=new _d,i=new Un,r=new F(1,1,1);function s(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new st},normalMatrix:{value:new di}}),this.matrix=new st,this.matrixWorld=new st,this.matrixAutoUpdate=bt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=bt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Aa,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return ol.setFromAxisAngle(e,t),this.quaternion.multiply(ol),this}rotateOnWorldAxis(e,t){return ol.setFromAxisAngle(e,t),this.quaternion.premultiply(ol),this}rotateX(e){return this.rotateOnAxis(vS,e)}rotateY(e){return this.rotateOnAxis(yS,e)}rotateZ(e){return this.rotateOnAxis(xS,e)}translateOnAxis(e,t){return gS.copy(e).applyQuaternion(this.quaternion),this.position.add(gS.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(vS,e)}translateY(e){return this.translateOnAxis(yS,e)}translateZ(e){return this.translateOnAxis(xS,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(fs.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?vh.copy(e):vh.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),nu.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?fs.lookAt(nu,vh,this.up):fs.lookAt(vh,nu,this.up),this.quaternion.setFromRotationMatrix(fs),r&&(fs.extractRotation(r.matrixWorld),ol.setFromRotationMatrix(fs),this.quaternion.premultiply(ol.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(iD)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(_S)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(_S)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),fs.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),fs.multiply(e.parent.matrixWorld)),e.applyMatrix4(fs),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let i=[];this[e]===t&&i.push(this);for(let r=0,s=this.children.length;r<s;r++){const o=this.children[r].getObjectsByProperty(e,t);o.length>0&&(i=i.concat(o))}return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(nu,e,tD),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(nu,nD,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++){const s=t[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++){const a=r[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(a,c){return a[c.uuid]===void 0&&(a[c.uuid]=c.toJSON(e)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const c=a.shapes;if(Array.isArray(c))for(let d=0,f=c.length;d<f;d++){const h=c[d];s(e.shapes,h)}else s(e.shapes,c)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let c=0,d=this.material.length;c<d;c++)a.push(s(e.materials,this.material[c]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const c=this.animations[a];r.animations.push(s(e.animations,c))}}if(t){const a=o(e.geometries),c=o(e.materials),d=o(e.textures),f=o(e.images),h=o(e.shapes),p=o(e.skeletons),g=o(e.animations),y=o(e.nodes);a.length>0&&(i.geometries=a),c.length>0&&(i.materials=c),d.length>0&&(i.textures=d),f.length>0&&(i.images=f),h.length>0&&(i.shapes=h),p.length>0&&(i.skeletons=p),g.length>0&&(i.animations=g),y.length>0&&(i.nodes=y)}return i.object=r,i;function o(a){const c=[];for(const d in a){const f=a[d];delete f.metadata,c.push(f)}return c}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}bt.DEFAULT_UP=new F(0,1,0);bt.DEFAULT_MATRIX_AUTO_UPDATE=!0;bt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const yr=new F,hs=new F,O0=new F,ps=new F,al=new F,ll=new F,wS=new F,k0=new F,z0=new F,U0=new F;class sr{constructor(e=new F,t=new F,i=new F){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),yr.subVectors(e,t),r.cross(yr);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){yr.subVectors(r,t),hs.subVectors(i,t),O0.subVectors(e,t);const o=yr.dot(yr),a=yr.dot(hs),c=yr.dot(O0),d=hs.dot(hs),f=hs.dot(O0),h=o*d-a*a;if(h===0)return s.set(-2,-1,-1);const p=1/h,g=(d*c-a*f)*p,y=(o*f-a*c)*p;return s.set(1-g-y,y,g)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,ps),ps.x>=0&&ps.y>=0&&ps.x+ps.y<=1}static getUV(e,t,i,r,s,o,a,c){return this.getBarycoord(e,t,i,r,ps),c.set(0,0),c.addScaledVector(s,ps.x),c.addScaledVector(o,ps.y),c.addScaledVector(a,ps.z),c}static isFrontFacing(e,t,i,r){return yr.subVectors(i,t),hs.subVectors(e,t),yr.cross(hs).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return yr.subVectors(this.c,this.b),hs.subVectors(this.a,this.b),yr.cross(hs).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return sr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return sr.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return sr.getUV(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return sr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return sr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;al.subVectors(r,i),ll.subVectors(s,i),k0.subVectors(e,i);const c=al.dot(k0),d=ll.dot(k0);if(c<=0&&d<=0)return t.copy(i);z0.subVectors(e,r);const f=al.dot(z0),h=ll.dot(z0);if(f>=0&&h<=f)return t.copy(r);const p=c*h-f*d;if(p<=0&&c>=0&&f<=0)return o=c/(c-f),t.copy(i).addScaledVector(al,o);U0.subVectors(e,s);const g=al.dot(U0),y=ll.dot(U0);if(y>=0&&g<=y)return t.copy(s);const v=g*d-c*y;if(v<=0&&d>=0&&y<=0)return a=d/(d-y),t.copy(i).addScaledVector(ll,a);const _=f*y-g*h;if(_<=0&&h-f>=0&&g-y>=0)return wS.subVectors(s,r),a=(h-f)/(h-f+(g-y)),t.copy(r).addScaledVector(wS,a);const w=1/(_+v+p);return o=v*w,a=p*w,t.copy(i).addScaledVector(al,o).addScaledVector(ll,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let rD=0;class Sn extends Qr{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:rD++}),this.uuid=Oi(),this.name="",this.type="Material",this.blending=ya,this.side=qr,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=p_,this.blendDst=m_,this.blendEquation=sa,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=em,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=JT,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Sp,this.stencilZFail=Sp,this.stencilZPass=Sp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const r=this[t];if(r===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==ya&&(i.blending=this.blending),this.side!==qr&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(i.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const c=s[a];delete c.metadata,o.push(c)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Ni extends Sn{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new De(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=xd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const _n=new F,yh=new pe;class It{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=id,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)yh.fromBufferAttribute(this,t),yh.applyMatrix3(e),this.setXY(t,yh.x,yh.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)_n.fromBufferAttribute(this,t),_n.applyMatrix3(e),this.setXYZ(t,_n.x,_n.y,_n.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)_n.fromBufferAttribute(this,t),_n.applyMatrix4(e),this.setXYZ(t,_n.x,_n.y,_n.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)_n.fromBufferAttribute(this,t),_n.applyNormalMatrix(e),this.setXYZ(t,_n.x,_n.y,_n.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)_n.fromBufferAttribute(this,t),_n.transformDirection(e),this.setXYZ(t,_n.x,_n.y,_n.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Ss(t,this.array)),t}setX(e,t){return this.normalized&&(t=Ut(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Ss(t,this.array)),t}setY(e,t){return this.normalized&&(t=Ut(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Ss(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Ut(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Ss(t,this.array)),t}setW(e,t){return this.normalized&&(t=Ut(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Ut(t,this.array),i=Ut(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Ut(t,this.array),i=Ut(i,this.array),r=Ut(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=Ut(t,this.array),i=Ut(i,this.array),r=Ut(r,this.array),s=Ut(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==id&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class sD extends It{constructor(e,t,i){super(new Int8Array(e),t,i)}}class oD extends It{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class aD extends It{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class lD extends It{constructor(e,t,i){super(new Int16Array(e),t,i)}}class S_ extends It{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class cD extends It{constructor(e,t,i){super(new Int32Array(e),t,i)}}class M_ extends It{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class uD extends It{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}}class Ve extends It{constructor(e,t,i){super(new Float32Array(e),t,i)}}class dD extends It{constructor(e,t,i){super(new Float64Array(e),t,i)}}let fD=0;const $i=new st,G0=new bt,cl=new F,Li=new Po,iu=new Po,Fn=new F;class ct extends Qr{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:fD++}),this.uuid=Oi(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(KT(e)?M_:S_)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new di().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return $i.makeRotationFromQuaternion(e),this.applyMatrix4($i),this}rotateX(e){return $i.makeRotationX(e),this.applyMatrix4($i),this}rotateY(e){return $i.makeRotationY(e),this.applyMatrix4($i),this}rotateZ(e){return $i.makeRotationZ(e),this.applyMatrix4($i),this}translate(e,t,i){return $i.makeTranslation(e,t,i),this.applyMatrix4($i),this}scale(e,t,i){return $i.makeScale(e,t,i),this.applyMatrix4($i),this}lookAt(e){return G0.lookAt(e),G0.updateMatrix(),this.applyMatrix4(G0.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(cl).negate(),this.translate(cl.x,cl.y,cl.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Ve(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Po);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new F(-1/0,-1/0,-1/0),new F(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];Li.setFromBufferAttribute(s),this.morphTargetsRelative?(Fn.addVectors(this.boundingBox.min,Li.min),this.boundingBox.expandByPoint(Fn),Fn.addVectors(this.boundingBox.max,Li.max),this.boundingBox.expandByPoint(Fn)):(this.boundingBox.expandByPoint(Li.min),this.boundingBox.expandByPoint(Li.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ro);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new F,1/0);return}if(e){const i=this.boundingSphere.center;if(Li.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];iu.setFromBufferAttribute(a),this.morphTargetsRelative?(Fn.addVectors(Li.min,iu.min),Li.expandByPoint(Fn),Fn.addVectors(Li.max,iu.max),Li.expandByPoint(Fn)):(Li.expandByPoint(iu.min),Li.expandByPoint(iu.max))}Li.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)Fn.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Fn));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],c=this.morphTargetsRelative;for(let d=0,f=a.count;d<f;d++)Fn.fromBufferAttribute(a,d),c&&(cl.fromBufferAttribute(e,d),Fn.add(cl)),r=Math.max(r,i.distanceToSquared(Fn))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=t.position.array,s=t.normal.array,o=t.uv.array,a=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new It(new Float32Array(4*a),4));const c=this.getAttribute("tangent").array,d=[],f=[];for(let D=0;D<a;D++)d[D]=new F,f[D]=new F;const h=new F,p=new F,g=new F,y=new pe,v=new pe,_=new pe,w=new F,A=new F;function S(D,U,Z){h.fromArray(r,D*3),p.fromArray(r,U*3),g.fromArray(r,Z*3),y.fromArray(o,D*2),v.fromArray(o,U*2),_.fromArray(o,Z*2),p.sub(h),g.sub(h),v.sub(y),_.sub(y);const W=1/(v.x*_.y-_.x*v.y);isFinite(W)&&(w.copy(p).multiplyScalar(_.y).addScaledVector(g,-v.y).multiplyScalar(W),A.copy(g).multiplyScalar(v.x).addScaledVector(p,-_.x).multiplyScalar(W),d[D].add(w),d[U].add(w),d[Z].add(w),f[D].add(A),f[U].add(A),f[Z].add(A))}let E=this.groups;E.length===0&&(E=[{start:0,count:i.length}]);for(let D=0,U=E.length;D<U;++D){const Z=E[D],W=Z.start,J=Z.count;for(let $=W,ce=W+J;$<ce;$+=3)S(i[$+0],i[$+1],i[$+2])}const C=new F,B=new F,L=new F,b=new F;function R(D){L.fromArray(s,D*3),b.copy(L);const U=d[D];C.copy(U),C.sub(L.multiplyScalar(L.dot(U))).normalize(),B.crossVectors(b,U);const W=B.dot(f[D])<0?-1:1;c[D*4]=C.x,c[D*4+1]=C.y,c[D*4+2]=C.z,c[D*4+3]=W}for(let D=0,U=E.length;D<U;++D){const Z=E[D],W=Z.start,J=Z.count;for(let $=W,ce=W+J;$<ce;$+=3)R(i[$+0]),R(i[$+1]),R(i[$+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new It(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let p=0,g=i.count;p<g;p++)i.setXYZ(p,0,0,0);const r=new F,s=new F,o=new F,a=new F,c=new F,d=new F,f=new F,h=new F;if(e)for(let p=0,g=e.count;p<g;p+=3){const y=e.getX(p+0),v=e.getX(p+1),_=e.getX(p+2);r.fromBufferAttribute(t,y),s.fromBufferAttribute(t,v),o.fromBufferAttribute(t,_),f.subVectors(o,s),h.subVectors(r,s),f.cross(h),a.fromBufferAttribute(i,y),c.fromBufferAttribute(i,v),d.fromBufferAttribute(i,_),a.add(f),c.add(f),d.add(f),i.setXYZ(y,a.x,a.y,a.z),i.setXYZ(v,c.x,c.y,c.z),i.setXYZ(_,d.x,d.y,d.z)}else for(let p=0,g=t.count;p<g;p+=3)r.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),f.subVectors(o,s),h.subVectors(r,s),f.cross(h),i.setXYZ(p+0,f.x,f.y,f.z),i.setXYZ(p+1,f.x,f.y,f.z),i.setXYZ(p+2,f.x,f.y,f.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Fn.fromBufferAttribute(e,t),Fn.normalize(),e.setXYZ(t,Fn.x,Fn.y,Fn.z)}toNonIndexed(){function e(a,c){const d=a.array,f=a.itemSize,h=a.normalized,p=new d.constructor(c.length*f);let g=0,y=0;for(let v=0,_=c.length;v<_;v++){a.isInterleavedBufferAttribute?g=c[v]*a.data.stride+a.offset:g=c[v]*f;for(let w=0;w<f;w++)p[y++]=d[g++]}return new It(p,f,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new ct,i=this.index.array,r=this.attributes;for(const a in r){const c=r[a],d=e(c,i);t.setAttribute(a,d)}const s=this.morphAttributes;for(const a in s){const c=[],d=s[a];for(let f=0,h=d.length;f<h;f++){const p=d[f],g=e(p,i);c.push(g)}t.morphAttributes[a]=c}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,c=o.length;a<c;a++){const d=o[a];t.addGroup(d.start,d.count,d.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const c=this.parameters;for(const d in c)c[d]!==void 0&&(e[d]=c[d]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const c in i){const d=i[c];e.data.attributes[c]=d.toJSON(e.data)}const r={};let s=!1;for(const c in this.morphAttributes){const d=this.morphAttributes[c],f=[];for(let h=0,p=d.length;h<p;h++){const g=d[h];f.push(g.toJSON(e.data))}f.length>0&&(r[c]=f,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const d in r){const f=r[d];this.setAttribute(d,f.clone(t))}const s=e.morphAttributes;for(const d in s){const f=[],h=s[d];for(let p=0,g=h.length;p<g;p++)f.push(h[p].clone(t));this.morphAttributes[d]=f}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let d=0,f=o.length;d<f;d++){const h=o[d];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const AS=new st,ul=new yc,H0=new Ro,ru=new F,su=new F,ou=new F,j0=new F,xh=new F,_h=new pe,wh=new pe,Ah=new pe,V0=new F,Sh=new F;class kn extends bt{constructor(e=new ct,t=new Ni){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){xh.set(0,0,0);for(let c=0,d=s.length;c<d;c++){const f=a[c],h=s[c];f!==0&&(j0.fromBufferAttribute(h,e),o?xh.addScaledVector(j0,f):xh.addScaledVector(j0.sub(t),f))}t.add(xh)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;if(r===void 0||(i.boundingSphere===null&&i.computeBoundingSphere(),H0.copy(i.boundingSphere),H0.applyMatrix4(s),e.ray.intersectsSphere(H0)===!1)||(AS.copy(s).invert(),ul.copy(e.ray).applyMatrix4(AS),i.boundingBox!==null&&ul.intersectsBox(i.boundingBox)===!1))return;let o;const a=i.index,c=i.attributes.position,d=i.attributes.uv,f=i.attributes.uv2,h=i.groups,p=i.drawRange;if(a!==null)if(Array.isArray(r))for(let g=0,y=h.length;g<y;g++){const v=h[g],_=r[v.materialIndex],w=Math.max(v.start,p.start),A=Math.min(a.count,Math.min(v.start+v.count,p.start+p.count));for(let S=w,E=A;S<E;S+=3){const C=a.getX(S),B=a.getX(S+1),L=a.getX(S+2);o=Mh(this,_,e,ul,d,f,C,B,L),o&&(o.faceIndex=Math.floor(S/3),o.face.materialIndex=v.materialIndex,t.push(o))}}else{const g=Math.max(0,p.start),y=Math.min(a.count,p.start+p.count);for(let v=g,_=y;v<_;v+=3){const w=a.getX(v),A=a.getX(v+1),S=a.getX(v+2);o=Mh(this,r,e,ul,d,f,w,A,S),o&&(o.faceIndex=Math.floor(v/3),t.push(o))}}else if(c!==void 0)if(Array.isArray(r))for(let g=0,y=h.length;g<y;g++){const v=h[g],_=r[v.materialIndex],w=Math.max(v.start,p.start),A=Math.min(c.count,Math.min(v.start+v.count,p.start+p.count));for(let S=w,E=A;S<E;S+=3){const C=S,B=S+1,L=S+2;o=Mh(this,_,e,ul,d,f,C,B,L),o&&(o.faceIndex=Math.floor(S/3),o.face.materialIndex=v.materialIndex,t.push(o))}}else{const g=Math.max(0,p.start),y=Math.min(c.count,p.start+p.count);for(let v=g,_=y;v<_;v+=3){const w=v,A=v+1,S=v+2;o=Mh(this,r,e,ul,d,f,w,A,S),o&&(o.faceIndex=Math.floor(v/3),t.push(o))}}}}function hD(n,e,t,i,r,s,o,a){let c;if(e.side===Ci?c=i.intersectTriangle(o,s,r,!0,a):c=i.intersectTriangle(r,s,o,e.side===qr,a),c===null)return null;Sh.copy(a),Sh.applyMatrix4(n.matrixWorld);const d=t.ray.origin.distanceTo(Sh);return d<t.near||d>t.far?null:{distance:d,point:Sh.clone(),object:n}}function Mh(n,e,t,i,r,s,o,a,c){n.getVertexPosition(o,ru),n.getVertexPosition(a,su),n.getVertexPosition(c,ou);const d=hD(n,e,t,i,ru,su,ou,V0);if(d){r&&(_h.fromBufferAttribute(r,o),wh.fromBufferAttribute(r,a),Ah.fromBufferAttribute(r,c),d.uv=sr.getUV(V0,ru,su,ou,_h,wh,Ah,new pe)),s&&(_h.fromBufferAttribute(s,o),wh.fromBufferAttribute(s,a),Ah.fromBufferAttribute(s,c),d.uv2=sr.getUV(V0,ru,su,ou,_h,wh,Ah,new pe));const f={a:o,b:a,c,normal:new F,materialIndex:0};sr.getNormal(ru,su,ou,f.normal),d.face=f}return d}class Lo extends ct{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const c=[],d=[],f=[],h=[];let p=0,g=0;y("z","y","x",-1,-1,i,t,e,o,s,0),y("z","y","x",1,-1,i,t,-e,o,s,1),y("x","z","y",1,1,e,i,t,r,o,2),y("x","z","y",1,-1,e,i,-t,r,o,3),y("x","y","z",1,-1,e,t,i,r,s,4),y("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(c),this.setAttribute("position",new Ve(d,3)),this.setAttribute("normal",new Ve(f,3)),this.setAttribute("uv",new Ve(h,2));function y(v,_,w,A,S,E,C,B,L,b,R){const D=E/L,U=C/b,Z=E/2,W=C/2,J=B/2,$=L+1,ce=b+1;let ue=0,I=0;const G=new F;for(let j=0;j<ce;j++){const ne=j*U-W;for(let H=0;H<$;H++){const te=H*D-Z;G[v]=te*A,G[_]=ne*S,G[w]=J,d.push(G.x,G.y,G.z),G[v]=0,G[_]=0,G[w]=B>0?1:-1,f.push(G.x,G.y,G.z),h.push(H/L),h.push(1-j/b),ue+=1}}for(let j=0;j<b;j++)for(let ne=0;ne<L;ne++){const H=p+ne+$*j,te=p+ne+$*(j+1),ge=p+(ne+1)+$*(j+1),ye=p+(ne+1)+$*j;c.push(H,te,ye),c.push(te,ge,ye),I+=6}a.addGroup(g,I,R),g+=I,p+=ue}}static fromJSON(e){return new Lo(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function oc(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function li(n){const e={};for(let t=0;t<n.length;t++){const i=oc(n[t]);for(const r in i)e[r]=i[r]}return e}function pD(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function QT(n){return n.getRenderTarget()===null&&n.outputEncoding===Gt?wr:sc}const ZT={clone:oc,merge:li};var mD=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,gD=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Yr extends Sn{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=mD,this.fragmentShader=gD,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=oc(e.uniforms),this.uniformsGroups=pD(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class wd extends bt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new st,this.projectionMatrix=new st,this.projectionMatrixInverse=new st}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Wt extends wd{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=rd*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(_a*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return rd*2*Math.atan(Math.tan(_a*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(_a*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const c=o.fullWidth,d=o.fullHeight;s+=o.offsetX*r/c,t-=o.offsetY*i/d,r*=o.width/c,i*=o.height/d}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const dl=-90,fl=1;class E_ extends bt{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i;const r=new Wt(dl,fl,e,t);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(1,0,0),this.add(r);const s=new Wt(dl,fl,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const o=new Wt(dl,fl,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new Wt(dl,fl,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const c=new Wt(dl,fl,e,t);c.layers=this.layers,c.up.set(0,1,0),c.lookAt(0,0,1),this.add(c);const d=new Wt(dl,fl,e,t);d.layers=this.layers,d.up.set(0,1,0),d.lookAt(0,0,-1),this.add(d)}update(e,t){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget,[r,s,o,a,c,d]=this.children,f=e.getRenderTarget(),h=e.toneMapping,p=e.xr.enabled;e.toneMapping=br,e.xr.enabled=!1;const g=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,r),e.setRenderTarget(i,1),e.render(t,s),e.setRenderTarget(i,2),e.render(t,o),e.setRenderTarget(i,3),e.render(t,a),e.setRenderTarget(i,4),e.render(t,c),i.texture.generateMipmaps=g,e.setRenderTarget(i,5),e.render(t,d),e.setRenderTarget(f),e.toneMapping=h,e.xr.enabled=p,i.texture.needsPMREMUpdate=!0}}class Ad extends Qt{constructor(e,t,i,r,s,o,a,c,d,f){e=e!==void 0?e:[],t=t!==void 0?t:_o,super(e,t,i,r,s,o,a,c,d,f),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class C_ extends Br{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new Ad(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:nn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Lo(5,5,5),s=new Yr({name:"CubemapFromEquirect",uniforms:oc(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Ci,blending:Cs});s.uniforms.tEquirect.value=t;const o=new kn(r,s),a=t.minFilter;return t.minFilter===Kr&&(t.minFilter=nn),new E_(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}const W0=new F,vD=new F,yD=new di;class ys{constructor(e=new F(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=W0.subVectors(i,t).cross(vD.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const i=e.delta(W0),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(i).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||yD.getNormalMatrix(e),r=this.coplanarPoint(W0).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const hl=new Ro,Eh=new F;class Bm{constructor(e=new ys,t=new ys,i=new ys,r=new ys,s=new ys,o=new ys){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e){const t=this.planes,i=e.elements,r=i[0],s=i[1],o=i[2],a=i[3],c=i[4],d=i[5],f=i[6],h=i[7],p=i[8],g=i[9],y=i[10],v=i[11],_=i[12],w=i[13],A=i[14],S=i[15];return t[0].setComponents(a-r,h-c,v-p,S-_).normalize(),t[1].setComponents(a+r,h+c,v+p,S+_).normalize(),t[2].setComponents(a+s,h+d,v+g,S+w).normalize(),t[3].setComponents(a-s,h-d,v-g,S-w).normalize(),t[4].setComponents(a-o,h-f,v-y,S-A).normalize(),t[5].setComponents(a+o,h+f,v+y,S+A).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),hl.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(hl)}intersectsSprite(e){return hl.center.set(0,0,0),hl.radius=.7071067811865476,hl.applyMatrix4(e.matrixWorld),this.intersectsSphere(hl)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(Eh.x=r.normal.x>0?e.max.x:e.min.x,Eh.y=r.normal.y>0?e.max.y:e.min.y,Eh.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Eh)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function $T(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function xD(n,e){const t=e.isWebGL2,i=new WeakMap;function r(d,f){const h=d.array,p=d.usage,g=n.createBuffer();n.bindBuffer(f,g),n.bufferData(f,h,p),d.onUploadCallback();let y;if(h instanceof Float32Array)y=5126;else if(h instanceof Uint16Array)if(d.isFloat16BufferAttribute)if(t)y=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else y=5123;else if(h instanceof Int16Array)y=5122;else if(h instanceof Uint32Array)y=5125;else if(h instanceof Int32Array)y=5124;else if(h instanceof Int8Array)y=5120;else if(h instanceof Uint8Array)y=5121;else if(h instanceof Uint8ClampedArray)y=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:g,type:y,bytesPerElement:h.BYTES_PER_ELEMENT,version:d.version}}function s(d,f,h){const p=f.array,g=f.updateRange;n.bindBuffer(h,d),g.count===-1?n.bufferSubData(h,0,p):(t?n.bufferSubData(h,g.offset*p.BYTES_PER_ELEMENT,p,g.offset,g.count):n.bufferSubData(h,g.offset*p.BYTES_PER_ELEMENT,p.subarray(g.offset,g.offset+g.count)),g.count=-1),f.onUploadCallback()}function o(d){return d.isInterleavedBufferAttribute&&(d=d.data),i.get(d)}function a(d){d.isInterleavedBufferAttribute&&(d=d.data);const f=i.get(d);f&&(n.deleteBuffer(f.buffer),i.delete(d))}function c(d,f){if(d.isGLBufferAttribute){const p=i.get(d);(!p||p.version<d.version)&&i.set(d,{buffer:d.buffer,type:d.type,bytesPerElement:d.elementSize,version:d.version});return}d.isInterleavedBufferAttribute&&(d=d.data);const h=i.get(d);h===void 0?i.set(d,r(d,f)):h.version<d.version&&(s(h.buffer,d,f),h.version=d.version)}return{get:o,remove:a,update:c}}class xc extends ct{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),c=Math.floor(r),d=a+1,f=c+1,h=e/a,p=t/c,g=[],y=[],v=[],_=[];for(let w=0;w<f;w++){const A=w*p-o;for(let S=0;S<d;S++){const E=S*h-s;y.push(E,-A,0),v.push(0,0,1),_.push(S/a),_.push(1-w/c)}}for(let w=0;w<c;w++)for(let A=0;A<a;A++){const S=A+d*w,E=A+d*(w+1),C=A+1+d*(w+1),B=A+1+d*w;g.push(S,E,B),g.push(E,C,B)}this.setIndex(g),this.setAttribute("position",new Ve(y,3)),this.setAttribute("normal",new Ve(v,3)),this.setAttribute("uv",new Ve(_,2))}static fromJSON(e){return new xc(e.width,e.height,e.widthSegments,e.heightSegments)}}var _D=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,wD=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,AD=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,SD=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,MD=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,ED=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,CD="vec3 transformed = vec3( position );",bD=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,TD=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,BD=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,PD=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,RD=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,LD=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,ID=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,DD=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,ND=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,FD=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,OD=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,kD=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,zD=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,UD=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,GD=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,HD=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,jD=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,VD=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,WD=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,JD="gl_FragColor = linearToOutputTexel( gl_FragColor );",XD=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,qD=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,KD=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,YD=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,QD=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,ZD=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,$D=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,eN=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,tN=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,nN=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,iN=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,rN=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,sN=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,oN=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,aN=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,lN=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,cN=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,uN=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,dN=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,fN=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,hN=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,pN=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,mN=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,gN=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,vN=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,yN=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,xN=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,_N=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,wN=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,AN=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,SN=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,MN=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,EN=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,CN=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,bN=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,TN=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,BN=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,PN=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,RN=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,LN=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,IN=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,DN=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,NN=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,FN=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,ON=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,kN=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,zN=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,UN=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,GN=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,HN=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,jN=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,VN=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,WN=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,JN=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,XN=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,qN=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,KN=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,YN=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,QN=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,ZN=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,$N=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,eF=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,tF=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,nF=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,iF=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,rF=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,sF=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,oF=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,aF=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,lF=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,cF=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,uF=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,dF=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,fF=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,hF=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,pF=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,mF=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,gF=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,vF=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const yF=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,xF=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,_F=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,wF=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,AF=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,SF=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,MF=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,EF=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,CF=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,bF=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,TF=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,BF=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,PF=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,RF=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,LF=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,IF=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,DF=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,NF=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,FF=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,OF=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,kF=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,zF=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,UF=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,GF=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,HF=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,jF=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,VF=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,WF=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,JF=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,XF=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,qF=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,KF=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,YF=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,QF=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,pt={alphamap_fragment:_D,alphamap_pars_fragment:wD,alphatest_fragment:AD,alphatest_pars_fragment:SD,aomap_fragment:MD,aomap_pars_fragment:ED,begin_vertex:CD,beginnormal_vertex:bD,bsdfs:TD,iridescence_fragment:BD,bumpmap_pars_fragment:PD,clipping_planes_fragment:RD,clipping_planes_pars_fragment:LD,clipping_planes_pars_vertex:ID,clipping_planes_vertex:DD,color_fragment:ND,color_pars_fragment:FD,color_pars_vertex:OD,color_vertex:kD,common:zD,cube_uv_reflection_fragment:UD,defaultnormal_vertex:GD,displacementmap_pars_vertex:HD,displacementmap_vertex:jD,emissivemap_fragment:VD,emissivemap_pars_fragment:WD,encodings_fragment:JD,encodings_pars_fragment:XD,envmap_fragment:qD,envmap_common_pars_fragment:KD,envmap_pars_fragment:YD,envmap_pars_vertex:QD,envmap_physical_pars_fragment:cN,envmap_vertex:ZD,fog_vertex:$D,fog_pars_vertex:eN,fog_fragment:tN,fog_pars_fragment:nN,gradientmap_pars_fragment:iN,lightmap_fragment:rN,lightmap_pars_fragment:sN,lights_lambert_fragment:oN,lights_lambert_pars_fragment:aN,lights_pars_begin:lN,lights_toon_fragment:uN,lights_toon_pars_fragment:dN,lights_phong_fragment:fN,lights_phong_pars_fragment:hN,lights_physical_fragment:pN,lights_physical_pars_fragment:mN,lights_fragment_begin:gN,lights_fragment_maps:vN,lights_fragment_end:yN,logdepthbuf_fragment:xN,logdepthbuf_pars_fragment:_N,logdepthbuf_pars_vertex:wN,logdepthbuf_vertex:AN,map_fragment:SN,map_pars_fragment:MN,map_particle_fragment:EN,map_particle_pars_fragment:CN,metalnessmap_fragment:bN,metalnessmap_pars_fragment:TN,morphcolor_vertex:BN,morphnormal_vertex:PN,morphtarget_pars_vertex:RN,morphtarget_vertex:LN,normal_fragment_begin:IN,normal_fragment_maps:DN,normal_pars_fragment:NN,normal_pars_vertex:FN,normal_vertex:ON,normalmap_pars_fragment:kN,clearcoat_normal_fragment_begin:zN,clearcoat_normal_fragment_maps:UN,clearcoat_pars_fragment:GN,iridescence_pars_fragment:HN,output_fragment:jN,packing:VN,premultiplied_alpha_fragment:WN,project_vertex:JN,dithering_fragment:XN,dithering_pars_fragment:qN,roughnessmap_fragment:KN,roughnessmap_pars_fragment:YN,shadowmap_pars_fragment:QN,shadowmap_pars_vertex:ZN,shadowmap_vertex:$N,shadowmask_pars_fragment:eF,skinbase_vertex:tF,skinning_pars_vertex:nF,skinning_vertex:iF,skinnormal_vertex:rF,specularmap_fragment:sF,specularmap_pars_fragment:oF,tonemapping_fragment:aF,tonemapping_pars_fragment:lF,transmission_fragment:cF,transmission_pars_fragment:uF,uv_pars_fragment:dF,uv_pars_vertex:fF,uv_vertex:hF,uv2_pars_fragment:pF,uv2_pars_vertex:mF,uv2_vertex:gF,worldpos_vertex:vF,background_vert:yF,background_frag:xF,backgroundCube_vert:_F,backgroundCube_frag:wF,cube_vert:AF,cube_frag:SF,depth_vert:MF,depth_frag:EF,distanceRGBA_vert:CF,distanceRGBA_frag:bF,equirect_vert:TF,equirect_frag:BF,linedashed_vert:PF,linedashed_frag:RF,meshbasic_vert:LF,meshbasic_frag:IF,meshlambert_vert:DF,meshlambert_frag:NF,meshmatcap_vert:FF,meshmatcap_frag:OF,meshnormal_vert:kF,meshnormal_frag:zF,meshphong_vert:UF,meshphong_frag:GF,meshphysical_vert:HF,meshphysical_frag:jF,meshtoon_vert:VF,meshtoon_frag:WF,points_vert:JF,points_frag:XF,shadow_vert:qF,shadow_frag:KF,sprite_vert:YF,sprite_frag:QF},Be={common:{diffuse:{value:new De(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new di},uv2Transform:{value:new di},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new pe(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new De(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new De(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new di}},sprite:{diffuse:{value:new De(16777215)},opacity:{value:1},center:{value:new pe(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new di}}},Sr={basic:{uniforms:li([Be.common,Be.specularmap,Be.envmap,Be.aomap,Be.lightmap,Be.fog]),vertexShader:pt.meshbasic_vert,fragmentShader:pt.meshbasic_frag},lambert:{uniforms:li([Be.common,Be.specularmap,Be.envmap,Be.aomap,Be.lightmap,Be.emissivemap,Be.bumpmap,Be.normalmap,Be.displacementmap,Be.fog,Be.lights,{emissive:{value:new De(0)}}]),vertexShader:pt.meshlambert_vert,fragmentShader:pt.meshlambert_frag},phong:{uniforms:li([Be.common,Be.specularmap,Be.envmap,Be.aomap,Be.lightmap,Be.emissivemap,Be.bumpmap,Be.normalmap,Be.displacementmap,Be.fog,Be.lights,{emissive:{value:new De(0)},specular:{value:new De(1118481)},shininess:{value:30}}]),vertexShader:pt.meshphong_vert,fragmentShader:pt.meshphong_frag},standard:{uniforms:li([Be.common,Be.envmap,Be.aomap,Be.lightmap,Be.emissivemap,Be.bumpmap,Be.normalmap,Be.displacementmap,Be.roughnessmap,Be.metalnessmap,Be.fog,Be.lights,{emissive:{value:new De(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:pt.meshphysical_vert,fragmentShader:pt.meshphysical_frag},toon:{uniforms:li([Be.common,Be.aomap,Be.lightmap,Be.emissivemap,Be.bumpmap,Be.normalmap,Be.displacementmap,Be.gradientmap,Be.fog,Be.lights,{emissive:{value:new De(0)}}]),vertexShader:pt.meshtoon_vert,fragmentShader:pt.meshtoon_frag},matcap:{uniforms:li([Be.common,Be.bumpmap,Be.normalmap,Be.displacementmap,Be.fog,{matcap:{value:null}}]),vertexShader:pt.meshmatcap_vert,fragmentShader:pt.meshmatcap_frag},points:{uniforms:li([Be.points,Be.fog]),vertexShader:pt.points_vert,fragmentShader:pt.points_frag},dashed:{uniforms:li([Be.common,Be.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:pt.linedashed_vert,fragmentShader:pt.linedashed_frag},depth:{uniforms:li([Be.common,Be.displacementmap]),vertexShader:pt.depth_vert,fragmentShader:pt.depth_frag},normal:{uniforms:li([Be.common,Be.bumpmap,Be.normalmap,Be.displacementmap,{opacity:{value:1}}]),vertexShader:pt.meshnormal_vert,fragmentShader:pt.meshnormal_frag},sprite:{uniforms:li([Be.sprite,Be.fog]),vertexShader:pt.sprite_vert,fragmentShader:pt.sprite_frag},background:{uniforms:{uvTransform:{value:new di},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:pt.background_vert,fragmentShader:pt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:pt.backgroundCube_vert,fragmentShader:pt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:pt.cube_vert,fragmentShader:pt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:pt.equirect_vert,fragmentShader:pt.equirect_frag},distanceRGBA:{uniforms:li([Be.common,Be.displacementmap,{referencePosition:{value:new F},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:pt.distanceRGBA_vert,fragmentShader:pt.distanceRGBA_frag},shadow:{uniforms:li([Be.lights,Be.fog,{color:{value:new De(0)},opacity:{value:1}}]),vertexShader:pt.shadow_vert,fragmentShader:pt.shadow_frag}};Sr.physical={uniforms:li([Sr.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new pe(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new De(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new pe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new De(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new De(1,1,1)},specularColorMap:{value:null}}]),vertexShader:pt.meshphysical_vert,fragmentShader:pt.meshphysical_frag};const Ch={r:0,b:0,g:0};function ZF(n,e,t,i,r,s,o){const a=new De(0);let c=s===!0?0:1,d,f,h=null,p=0,g=null;function y(_,w){let A=!1,S=w.isScene===!0?w.background:null;S&&S.isTexture&&(S=(w.backgroundBlurriness>0?t:e).get(S));const E=n.xr,C=E.getSession&&E.getSession();C&&C.environmentBlendMode==="additive"&&(S=null),S===null?v(a,c):S&&S.isColor&&(v(S,1),A=!0),(n.autoClear||A)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),S&&(S.isCubeTexture||S.mapping===vc)?(f===void 0&&(f=new kn(new Lo(1,1,1),new Yr({name:"BackgroundCubeMaterial",uniforms:oc(Sr.backgroundCube.uniforms),vertexShader:Sr.backgroundCube.vertexShader,fragmentShader:Sr.backgroundCube.fragmentShader,side:Ci,depthTest:!1,depthWrite:!1,fog:!1})),f.geometry.deleteAttribute("normal"),f.geometry.deleteAttribute("uv"),f.onBeforeRender=function(B,L,b){this.matrixWorld.copyPosition(b.matrixWorld)},Object.defineProperty(f.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(f)),f.material.uniforms.envMap.value=S,f.material.uniforms.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,f.material.uniforms.backgroundBlurriness.value=w.backgroundBlurriness,f.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,f.material.toneMapped=S.encoding!==Gt,(h!==S||p!==S.version||g!==n.toneMapping)&&(f.material.needsUpdate=!0,h=S,p=S.version,g=n.toneMapping),f.layers.enableAll(),_.unshift(f,f.geometry,f.material,0,0,null)):S&&S.isTexture&&(d===void 0&&(d=new kn(new xc(2,2),new Yr({name:"BackgroundMaterial",uniforms:oc(Sr.background.uniforms),vertexShader:Sr.background.vertexShader,fragmentShader:Sr.background.fragmentShader,side:qr,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),Object.defineProperty(d.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(d)),d.material.uniforms.t2D.value=S,d.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,d.material.toneMapped=S.encoding!==Gt,S.matrixAutoUpdate===!0&&S.updateMatrix(),d.material.uniforms.uvTransform.value.copy(S.matrix),(h!==S||p!==S.version||g!==n.toneMapping)&&(d.material.needsUpdate=!0,h=S,p=S.version,g=n.toneMapping),d.layers.enableAll(),_.unshift(d,d.geometry,d.material,0,0,null))}function v(_,w){_.getRGB(Ch,QT(n)),i.buffers.color.setClear(Ch.r,Ch.g,Ch.b,w,o)}return{getClearColor:function(){return a},setClearColor:function(_,w=1){a.set(_),c=w,v(a,c)},getClearAlpha:function(){return c},setClearAlpha:function(_){c=_,v(a,c)},render:y}}function $F(n,e,t,i){const r=n.getParameter(34921),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,a={},c=_(null);let d=c,f=!1;function h(J,$,ce,ue,I){let G=!1;if(o){const j=v(ue,ce,$);d!==j&&(d=j,g(d.object)),G=w(J,ue,ce,I),G&&A(J,ue,ce,I)}else{const j=$.wireframe===!0;(d.geometry!==ue.id||d.program!==ce.id||d.wireframe!==j)&&(d.geometry=ue.id,d.program=ce.id,d.wireframe=j,G=!0)}I!==null&&t.update(I,34963),(G||f)&&(f=!1,b(J,$,ce,ue),I!==null&&n.bindBuffer(34963,t.get(I).buffer))}function p(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function g(J){return i.isWebGL2?n.bindVertexArray(J):s.bindVertexArrayOES(J)}function y(J){return i.isWebGL2?n.deleteVertexArray(J):s.deleteVertexArrayOES(J)}function v(J,$,ce){const ue=ce.wireframe===!0;let I=a[J.id];I===void 0&&(I={},a[J.id]=I);let G=I[$.id];G===void 0&&(G={},I[$.id]=G);let j=G[ue];return j===void 0&&(j=_(p()),G[ue]=j),j}function _(J){const $=[],ce=[],ue=[];for(let I=0;I<r;I++)$[I]=0,ce[I]=0,ue[I]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:$,enabledAttributes:ce,attributeDivisors:ue,object:J,attributes:{},index:null}}function w(J,$,ce,ue){const I=d.attributes,G=$.attributes;let j=0;const ne=ce.getAttributes();for(const H in ne)if(ne[H].location>=0){const ge=I[H];let ye=G[H];if(ye===void 0&&(H==="instanceMatrix"&&J.instanceMatrix&&(ye=J.instanceMatrix),H==="instanceColor"&&J.instanceColor&&(ye=J.instanceColor)),ge===void 0||ge.attribute!==ye||ye&&ge.data!==ye.data)return!0;j++}return d.attributesNum!==j||d.index!==ue}function A(J,$,ce,ue){const I={},G=$.attributes;let j=0;const ne=ce.getAttributes();for(const H in ne)if(ne[H].location>=0){let ge=G[H];ge===void 0&&(H==="instanceMatrix"&&J.instanceMatrix&&(ge=J.instanceMatrix),H==="instanceColor"&&J.instanceColor&&(ge=J.instanceColor));const ye={};ye.attribute=ge,ge&&ge.data&&(ye.data=ge.data),I[H]=ye,j++}d.attributes=I,d.attributesNum=j,d.index=ue}function S(){const J=d.newAttributes;for(let $=0,ce=J.length;$<ce;$++)J[$]=0}function E(J){C(J,0)}function C(J,$){const ce=d.newAttributes,ue=d.enabledAttributes,I=d.attributeDivisors;ce[J]=1,ue[J]===0&&(n.enableVertexAttribArray(J),ue[J]=1),I[J]!==$&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](J,$),I[J]=$)}function B(){const J=d.newAttributes,$=d.enabledAttributes;for(let ce=0,ue=$.length;ce<ue;ce++)$[ce]!==J[ce]&&(n.disableVertexAttribArray(ce),$[ce]=0)}function L(J,$,ce,ue,I,G){i.isWebGL2===!0&&(ce===5124||ce===5125)?n.vertexAttribIPointer(J,$,ce,I,G):n.vertexAttribPointer(J,$,ce,ue,I,G)}function b(J,$,ce,ue){if(i.isWebGL2===!1&&(J.isInstancedMesh||ue.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;S();const I=ue.attributes,G=ce.getAttributes(),j=$.defaultAttributeValues;for(const ne in G){const H=G[ne];if(H.location>=0){let te=I[ne];if(te===void 0&&(ne==="instanceMatrix"&&J.instanceMatrix&&(te=J.instanceMatrix),ne==="instanceColor"&&J.instanceColor&&(te=J.instanceColor)),te!==void 0){const ge=te.normalized,ye=te.itemSize,Q=t.get(te);if(Q===void 0)continue;const Pe=Q.buffer,Oe=Q.type,He=Q.bytesPerElement;if(te.isInterleavedBufferAttribute){const we=te.data,Re=we.stride,fe=te.offset;if(we.isInstancedInterleavedBuffer){for(let ae=0;ae<H.locationSize;ae++)C(H.location+ae,we.meshPerAttribute);J.isInstancedMesh!==!0&&ue._maxInstanceCount===void 0&&(ue._maxInstanceCount=we.meshPerAttribute*we.count)}else for(let ae=0;ae<H.locationSize;ae++)E(H.location+ae);n.bindBuffer(34962,Pe);for(let ae=0;ae<H.locationSize;ae++)L(H.location+ae,ye/H.locationSize,Oe,ge,Re*He,(fe+ye/H.locationSize*ae)*He)}else{if(te.isInstancedBufferAttribute){for(let we=0;we<H.locationSize;we++)C(H.location+we,te.meshPerAttribute);J.isInstancedMesh!==!0&&ue._maxInstanceCount===void 0&&(ue._maxInstanceCount=te.meshPerAttribute*te.count)}else for(let we=0;we<H.locationSize;we++)E(H.location+we);n.bindBuffer(34962,Pe);for(let we=0;we<H.locationSize;we++)L(H.location+we,ye/H.locationSize,Oe,ge,ye*He,ye/H.locationSize*we*He)}}else if(j!==void 0){const ge=j[ne];if(ge!==void 0)switch(ge.length){case 2:n.vertexAttrib2fv(H.location,ge);break;case 3:n.vertexAttrib3fv(H.location,ge);break;case 4:n.vertexAttrib4fv(H.location,ge);break;default:n.vertexAttrib1fv(H.location,ge)}}}}B()}function R(){Z();for(const J in a){const $=a[J];for(const ce in $){const ue=$[ce];for(const I in ue)y(ue[I].object),delete ue[I];delete $[ce]}delete a[J]}}function D(J){if(a[J.id]===void 0)return;const $=a[J.id];for(const ce in $){const ue=$[ce];for(const I in ue)y(ue[I].object),delete ue[I];delete $[ce]}delete a[J.id]}function U(J){for(const $ in a){const ce=a[$];if(ce[J.id]===void 0)continue;const ue=ce[J.id];for(const I in ue)y(ue[I].object),delete ue[I];delete ce[J.id]}}function Z(){W(),f=!0,d!==c&&(d=c,g(d.object))}function W(){c.geometry=null,c.program=null,c.wireframe=!1}return{setup:h,reset:Z,resetDefaultState:W,dispose:R,releaseStatesOfGeometry:D,releaseStatesOfProgram:U,initAttributes:S,enableAttribute:E,disableUnusedAttributes:B}}function eO(n,e,t,i){const r=i.isWebGL2;let s;function o(d){s=d}function a(d,f){n.drawArrays(s,d,f),t.update(f,s,1)}function c(d,f,h){if(h===0)return;let p,g;if(r)p=n,g="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),g="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[g](s,d,f,h),t.update(f,s,h)}this.setMode=o,this.render=a,this.renderInstances=c}function tO(n,e,t){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const L=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(L.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(L){if(L==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";L="mediump"}return L==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext;let a=t.precision!==void 0?t.precision:"highp";const c=s(a);c!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",c,"instead."),a=c);const d=o||e.has("WEBGL_draw_buffers"),f=t.logarithmicDepthBuffer===!0,h=n.getParameter(34930),p=n.getParameter(35660),g=n.getParameter(3379),y=n.getParameter(34076),v=n.getParameter(34921),_=n.getParameter(36347),w=n.getParameter(36348),A=n.getParameter(36349),S=p>0,E=o||e.has("OES_texture_float"),C=S&&E,B=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:d,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:f,maxTextures:h,maxVertexTextures:p,maxTextureSize:g,maxCubemapSize:y,maxAttributes:v,maxVertexUniforms:_,maxVaryings:w,maxFragmentUniforms:A,vertexTextures:S,floatFragmentTextures:E,floatVertexTextures:C,maxSamples:B}}function nO(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new ys,a=new di,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(h,p){const g=h.length!==0||p||i!==0||r;return r=p,i=h.length,g},this.beginShadows=function(){s=!0,f(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(h,p){t=f(h,p,0)},this.setState=function(h,p,g){const y=h.clippingPlanes,v=h.clipIntersection,_=h.clipShadows,w=n.get(h);if(!r||y===null||y.length===0||s&&!_)s?f(null):d();else{const A=s?0:i,S=A*4;let E=w.clippingState||null;c.value=E,E=f(y,p,S,g);for(let C=0;C!==S;++C)E[C]=t[C];w.clippingState=E,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=A}};function d(){c.value!==t&&(c.value=t,c.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function f(h,p,g,y){const v=h!==null?h.length:0;let _=null;if(v!==0){if(_=c.value,y!==!0||_===null){const w=g+v*4,A=p.matrixWorldInverse;a.getNormalMatrix(A),(_===null||_.length<w)&&(_=new Float32Array(w));for(let S=0,E=g;S!==v;++S,E+=4)o.copy(h[S]).applyMatrix4(A,a),o.normal.toArray(_,E),_[E+3]=o.constant}c.value=_,c.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,_}}function iO(n){let e=new WeakMap;function t(o,a){return a===$u?o.mapping=_o:a===ed&&(o.mapping=wo),o}function i(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===$u||a===ed)if(e.has(o)){const c=e.get(o).texture;return t(c,o.mapping)}else{const c=o.image;if(c&&c.height>0){const d=new C_(c.height/2);return d.fromEquirectangularTexture(n,o),e.set(o,d),o.addEventListener("dispose",r),t(d.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const c=e.get(a);c!==void 0&&(e.delete(a),c.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class ar extends wd{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,c=r-t;if(this.view!==null&&this.view.enabled){const d=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=d*this.view.offsetX,o=s+d*this.view.width,a-=f*this.view.offsetY,c=a-f*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,c,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Fl=4,SS=[.125,.215,.35,.446,.526,.582],oa=20,J0=new ar,MS=new De;let X0=null;const ra=(1+Math.sqrt(5))/2,pl=1/ra,ES=[new F(1,1,1),new F(-1,1,1),new F(1,1,-1),new F(-1,1,-1),new F(0,ra,pl),new F(0,ra,-pl),new F(pl,0,ra),new F(-pl,0,ra),new F(ra,pl,0),new F(-ra,pl,0)];class Zy{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){X0=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=TS(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=bS(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(X0),e.scissorTest=!1,bh(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===_o||e.mapping===wo?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),X0=this._renderer.getRenderTarget();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:nn,minFilter:nn,generateMipmaps:!1,type:ic,format:wi,encoding:So,depthBuffer:!1},r=CS(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=CS(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=rO(s)),this._blurMaterial=sO(s,e,t)}return r}_compileMaterial(e){const t=new kn(this._lodPlanes[0],e);this._renderer.compile(t,J0)}_sceneToCubeUV(e,t,i,r){const a=new Wt(90,1,t,i),c=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],f=this._renderer,h=f.autoClear,p=f.toneMapping;f.getClearColor(MS),f.toneMapping=br,f.autoClear=!1;const g=new Ni({name:"PMREM.Background",side:Ci,depthWrite:!1,depthTest:!1}),y=new kn(new Lo,g);let v=!1;const _=e.background;_?_.isColor&&(g.color.copy(_),e.background=null,v=!0):(g.color.copy(MS),v=!0);for(let w=0;w<6;w++){const A=w%3;A===0?(a.up.set(0,c[w],0),a.lookAt(d[w],0,0)):A===1?(a.up.set(0,0,c[w]),a.lookAt(0,d[w],0)):(a.up.set(0,c[w],0),a.lookAt(0,0,d[w]));const S=this._cubeSize;bh(r,A*S,w>2?S:0,S,S),f.setRenderTarget(r),v&&f.render(y,a),f.render(e,a)}y.geometry.dispose(),y.material.dispose(),f.toneMapping=p,f.autoClear=h,e.background=_}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===_o||e.mapping===wo;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=TS()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=bS());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new kn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const c=this._cubeSize;bh(t,0,0,3*c,2*c),i.setRenderTarget(t),i.render(o,J0)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),o=ES[(r-1)%ES.length];this._blur(e,r-1,r,s,o)}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const c=this._renderer,d=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const f=3,h=new kn(this._lodPlanes[r],d),p=d.uniforms,g=this._sizeLods[i]-1,y=isFinite(s)?Math.PI/(2*g):2*Math.PI/(2*oa-1),v=s/y,_=isFinite(s)?1+Math.floor(f*v):oa;_>oa&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${_} samples when the maximum is set to ${oa}`);const w=[];let A=0;for(let L=0;L<oa;++L){const b=L/v,R=Math.exp(-b*b/2);w.push(R),L===0?A+=R:L<_&&(A+=2*R)}for(let L=0;L<w.length;L++)w[L]=w[L]/A;p.envMap.value=e.texture,p.samples.value=_,p.weights.value=w,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:S}=this;p.dTheta.value=y,p.mipInt.value=S-i;const E=this._sizeLods[r],C=3*E*(r>S-Fl?r-S+Fl:0),B=4*(this._cubeSize-E);bh(t,C,B,3*E,2*E),c.setRenderTarget(t),c.render(h,J0)}}function rO(n){const e=[],t=[],i=[];let r=n;const s=n-Fl+1+SS.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let c=1/a;o>n-Fl?c=SS[o-n+Fl-1]:o===0&&(c=0),i.push(c);const d=1/(a-2),f=-d,h=1+d,p=[f,f,h,f,h,h,f,f,h,h,f,h],g=6,y=6,v=3,_=2,w=1,A=new Float32Array(v*y*g),S=new Float32Array(_*y*g),E=new Float32Array(w*y*g);for(let B=0;B<g;B++){const L=B%3*2/3-1,b=B>2?0:-1,R=[L,b,0,L+2/3,b,0,L+2/3,b+1,0,L,b,0,L+2/3,b+1,0,L,b+1,0];A.set(R,v*y*B),S.set(p,_*y*B);const D=[B,B,B,B,B,B];E.set(D,w*y*B)}const C=new ct;C.setAttribute("position",new It(A,v)),C.setAttribute("uv",new It(S,_)),C.setAttribute("faceIndex",new It(E,w)),e.push(C),r>Fl&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function CS(n,e,t){const i=new Br(n,e,t);return i.texture.mapping=vc,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function bh(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function sO(n,e,t){const i=new Float32Array(oa),r=new F(0,1,0);return new Yr({name:"SphericalGaussianBlur",defines:{n:oa,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:b_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Cs,depthTest:!1,depthWrite:!1})}function bS(){return new Yr({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:b_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Cs,depthTest:!1,depthWrite:!1})}function TS(){return new Yr({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:b_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Cs,depthTest:!1,depthWrite:!1})}function b_(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function oO(n){let e=new WeakMap,t=null;function i(a){if(a&&a.isTexture){const c=a.mapping,d=c===$u||c===ed,f=c===_o||c===wo;if(d||f)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let h=e.get(a);return t===null&&(t=new Zy(n)),h=d?t.fromEquirectangular(a,h):t.fromCubemap(a,h),e.set(a,h),h.texture}else{if(e.has(a))return e.get(a).texture;{const h=a.image;if(d&&h&&h.height>0||f&&h&&r(h)){t===null&&(t=new Zy(n));const p=d?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function r(a){let c=0;const d=6;for(let f=0;f<d;f++)a[f]!==void 0&&c++;return c===d}function s(a){const c=a.target;c.removeEventListener("dispose",s);const d=e.get(c);d!==void 0&&(e.delete(c),d.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function aO(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function lO(n,e,t,i){const r={},s=new WeakMap;function o(h){const p=h.target;p.index!==null&&e.remove(p.index);for(const y in p.attributes)e.remove(p.attributes[y]);p.removeEventListener("dispose",o),delete r[p.id];const g=s.get(p);g&&(e.remove(g),s.delete(p)),i.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(h,p){return r[p.id]===!0||(p.addEventListener("dispose",o),r[p.id]=!0,t.memory.geometries++),p}function c(h){const p=h.attributes;for(const y in p)e.update(p[y],34962);const g=h.morphAttributes;for(const y in g){const v=g[y];for(let _=0,w=v.length;_<w;_++)e.update(v[_],34962)}}function d(h){const p=[],g=h.index,y=h.attributes.position;let v=0;if(g!==null){const A=g.array;v=g.version;for(let S=0,E=A.length;S<E;S+=3){const C=A[S+0],B=A[S+1],L=A[S+2];p.push(C,B,B,L,L,C)}}else{const A=y.array;v=y.version;for(let S=0,E=A.length/3-1;S<E;S+=3){const C=S+0,B=S+1,L=S+2;p.push(C,B,B,L,L,C)}}const _=new(KT(p)?M_:S_)(p,1);_.version=v;const w=s.get(h);w&&e.remove(w),s.set(h,_)}function f(h){const p=s.get(h);if(p){const g=h.index;g!==null&&p.version<g.version&&d(h)}else d(h);return s.get(h)}return{get:a,update:c,getWireframeAttribute:f}}function cO(n,e,t,i){const r=i.isWebGL2;let s;function o(p){s=p}let a,c;function d(p){a=p.type,c=p.bytesPerElement}function f(p,g){n.drawElements(s,g,a,p*c),t.update(g,s,1)}function h(p,g,y){if(y===0)return;let v,_;if(r)v=n,_="drawElementsInstanced";else if(v=e.get("ANGLE_instanced_arrays"),_="drawElementsInstancedANGLE",v===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[_](s,g,a,p*c,y),t.update(g,s,y)}this.setMode=o,this.setIndex=d,this.render=f,this.renderInstances=h}function uO(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function dO(n,e){return n[0]-e[0]}function fO(n,e){return Math.abs(e[1])-Math.abs(n[1])}function hO(n,e,t){const i={},r=new Float32Array(8),s=new WeakMap,o=new Ft,a=[];for(let d=0;d<8;d++)a[d]=[d,0];function c(d,f,h,p){const g=d.morphTargetInfluences;if(e.isWebGL2===!0){const v=f.morphAttributes.position||f.morphAttributes.normal||f.morphAttributes.color,_=v!==void 0?v.length:0;let w=s.get(f);if(w===void 0||w.count!==_){let ce=function(){J.dispose(),s.delete(f),f.removeEventListener("dispose",ce)};var y=ce;w!==void 0&&w.texture.dispose();const E=f.morphAttributes.position!==void 0,C=f.morphAttributes.normal!==void 0,B=f.morphAttributes.color!==void 0,L=f.morphAttributes.position||[],b=f.morphAttributes.normal||[],R=f.morphAttributes.color||[];let D=0;E===!0&&(D=1),C===!0&&(D=2),B===!0&&(D=3);let U=f.attributes.position.count*D,Z=1;U>e.maxTextureSize&&(Z=Math.ceil(U/e.maxTextureSize),U=e.maxTextureSize);const W=new Float32Array(U*Z*4*_),J=new Tm(W,U,Z,_);J.type=As,J.needsUpdate=!0;const $=D*4;for(let ue=0;ue<_;ue++){const I=L[ue],G=b[ue],j=R[ue],ne=U*Z*4*ue;for(let H=0;H<I.count;H++){const te=H*$;E===!0&&(o.fromBufferAttribute(I,H),W[ne+te+0]=o.x,W[ne+te+1]=o.y,W[ne+te+2]=o.z,W[ne+te+3]=0),C===!0&&(o.fromBufferAttribute(G,H),W[ne+te+4]=o.x,W[ne+te+5]=o.y,W[ne+te+6]=o.z,W[ne+te+7]=0),B===!0&&(o.fromBufferAttribute(j,H),W[ne+te+8]=o.x,W[ne+te+9]=o.y,W[ne+te+10]=o.z,W[ne+te+11]=j.itemSize===4?o.w:1)}}w={count:_,texture:J,size:new pe(U,Z)},s.set(f,w),f.addEventListener("dispose",ce)}let A=0;for(let E=0;E<g.length;E++)A+=g[E];const S=f.morphTargetsRelative?1:1-A;p.getUniforms().setValue(n,"morphTargetBaseInfluence",S),p.getUniforms().setValue(n,"morphTargetInfluences",g),p.getUniforms().setValue(n,"morphTargetsTexture",w.texture,t),p.getUniforms().setValue(n,"morphTargetsTextureSize",w.size)}else{const v=g===void 0?0:g.length;let _=i[f.id];if(_===void 0||_.length!==v){_=[];for(let C=0;C<v;C++)_[C]=[C,0];i[f.id]=_}for(let C=0;C<v;C++){const B=_[C];B[0]=C,B[1]=g[C]}_.sort(fO);for(let C=0;C<8;C++)C<v&&_[C][1]?(a[C][0]=_[C][0],a[C][1]=_[C][1]):(a[C][0]=Number.MAX_SAFE_INTEGER,a[C][1]=0);a.sort(dO);const w=f.morphAttributes.position,A=f.morphAttributes.normal;let S=0;for(let C=0;C<8;C++){const B=a[C],L=B[0],b=B[1];L!==Number.MAX_SAFE_INTEGER&&b?(w&&f.getAttribute("morphTarget"+C)!==w[L]&&f.setAttribute("morphTarget"+C,w[L]),A&&f.getAttribute("morphNormal"+C)!==A[L]&&f.setAttribute("morphNormal"+C,A[L]),r[C]=b,S+=b):(w&&f.hasAttribute("morphTarget"+C)===!0&&f.deleteAttribute("morphTarget"+C),A&&f.hasAttribute("morphNormal"+C)===!0&&f.deleteAttribute("morphNormal"+C),r[C]=0)}const E=f.morphTargetsRelative?1:1-S;p.getUniforms().setValue(n,"morphTargetBaseInfluence",E),p.getUniforms().setValue(n,"morphTargetInfluences",r)}}return{update:c}}function pO(n,e,t,i){let r=new WeakMap;function s(c){const d=i.render.frame,f=c.geometry,h=e.get(c,f);return r.get(h)!==d&&(e.update(h),r.set(h,d)),c.isInstancedMesh&&(c.hasEventListener("dispose",a)===!1&&c.addEventListener("dispose",a),t.update(c.instanceMatrix,34962),c.instanceColor!==null&&t.update(c.instanceColor,34962)),h}function o(){r=new WeakMap}function a(c){const d=c.target;d.removeEventListener("dispose",a),t.remove(d.instanceMatrix),d.instanceColor!==null&&t.remove(d.instanceColor)}return{update:s,dispose:o}}const e2=new Qt,t2=new Tm,n2=new A_,i2=new Ad,BS=[],PS=[],RS=new Float32Array(16),LS=new Float32Array(9),IS=new Float32Array(4);function _c(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=BS[r];if(s===void 0&&(s=new Float32Array(r),BS[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Bn(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Pn(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function Pm(n,e){let t=PS[e];t===void 0&&(t=new Int32Array(e),PS[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function mO(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function gO(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Bn(t,e))return;n.uniform2fv(this.addr,e),Pn(t,e)}}function vO(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Bn(t,e))return;n.uniform3fv(this.addr,e),Pn(t,e)}}function yO(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Bn(t,e))return;n.uniform4fv(this.addr,e),Pn(t,e)}}function xO(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Bn(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Pn(t,e)}else{if(Bn(t,i))return;IS.set(i),n.uniformMatrix2fv(this.addr,!1,IS),Pn(t,i)}}function _O(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Bn(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Pn(t,e)}else{if(Bn(t,i))return;LS.set(i),n.uniformMatrix3fv(this.addr,!1,LS),Pn(t,i)}}function wO(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Bn(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Pn(t,e)}else{if(Bn(t,i))return;RS.set(i),n.uniformMatrix4fv(this.addr,!1,RS),Pn(t,i)}}function AO(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function SO(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Bn(t,e))return;n.uniform2iv(this.addr,e),Pn(t,e)}}function MO(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Bn(t,e))return;n.uniform3iv(this.addr,e),Pn(t,e)}}function EO(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Bn(t,e))return;n.uniform4iv(this.addr,e),Pn(t,e)}}function CO(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function bO(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Bn(t,e))return;n.uniform2uiv(this.addr,e),Pn(t,e)}}function TO(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Bn(t,e))return;n.uniform3uiv(this.addr,e),Pn(t,e)}}function BO(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Bn(t,e))return;n.uniform4uiv(this.addr,e),Pn(t,e)}}function PO(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2D(e||e2,r)}function RO(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||n2,r)}function LO(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||i2,r)}function IO(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||t2,r)}function DO(n){switch(n){case 5126:return mO;case 35664:return gO;case 35665:return vO;case 35666:return yO;case 35674:return xO;case 35675:return _O;case 35676:return wO;case 5124:case 35670:return AO;case 35667:case 35671:return SO;case 35668:case 35672:return MO;case 35669:case 35673:return EO;case 5125:return CO;case 36294:return bO;case 36295:return TO;case 36296:return BO;case 35678:case 36198:case 36298:case 36306:case 35682:return PO;case 35679:case 36299:case 36307:return RO;case 35680:case 36300:case 36308:case 36293:return LO;case 36289:case 36303:case 36311:case 36292:return IO}}function NO(n,e){n.uniform1fv(this.addr,e)}function FO(n,e){const t=_c(e,this.size,2);n.uniform2fv(this.addr,t)}function OO(n,e){const t=_c(e,this.size,3);n.uniform3fv(this.addr,t)}function kO(n,e){const t=_c(e,this.size,4);n.uniform4fv(this.addr,t)}function zO(n,e){const t=_c(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function UO(n,e){const t=_c(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function GO(n,e){const t=_c(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function HO(n,e){n.uniform1iv(this.addr,e)}function jO(n,e){n.uniform2iv(this.addr,e)}function VO(n,e){n.uniform3iv(this.addr,e)}function WO(n,e){n.uniform4iv(this.addr,e)}function JO(n,e){n.uniform1uiv(this.addr,e)}function XO(n,e){n.uniform2uiv(this.addr,e)}function qO(n,e){n.uniform3uiv(this.addr,e)}function KO(n,e){n.uniform4uiv(this.addr,e)}function YO(n,e,t){const i=this.cache,r=e.length,s=Pm(t,r);Bn(i,s)||(n.uniform1iv(this.addr,s),Pn(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||e2,s[o])}function QO(n,e,t){const i=this.cache,r=e.length,s=Pm(t,r);Bn(i,s)||(n.uniform1iv(this.addr,s),Pn(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||n2,s[o])}function ZO(n,e,t){const i=this.cache,r=e.length,s=Pm(t,r);Bn(i,s)||(n.uniform1iv(this.addr,s),Pn(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||i2,s[o])}function $O(n,e,t){const i=this.cache,r=e.length,s=Pm(t,r);Bn(i,s)||(n.uniform1iv(this.addr,s),Pn(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||t2,s[o])}function ek(n){switch(n){case 5126:return NO;case 35664:return FO;case 35665:return OO;case 35666:return kO;case 35674:return zO;case 35675:return UO;case 35676:return GO;case 5124:case 35670:return HO;case 35667:case 35671:return jO;case 35668:case 35672:return VO;case 35669:case 35673:return WO;case 5125:return JO;case 36294:return XO;case 36295:return qO;case 36296:return KO;case 35678:case 36198:case 36298:case 36306:case 35682:return YO;case 35679:case 36299:case 36307:return QO;case 35680:case 36300:case 36308:case 36293:return ZO;case 36289:case 36303:case 36311:case 36292:return $O}}class tk{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=DO(t.type)}}class nk{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=ek(t.type)}}class ik{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const q0=/(\w+)(\])?(\[|\.)?/g;function DS(n,e){n.seq.push(e),n.map[e.id]=e}function rk(n,e,t){const i=n.name,r=i.length;for(q0.lastIndex=0;;){const s=q0.exec(i),o=q0.lastIndex;let a=s[1];const c=s[2]==="]",d=s[3];if(c&&(a=a|0),d===void 0||d==="["&&o+2===r){DS(t,d===void 0?new tk(a,n,e):new nk(a,n,e));break}else{let h=t.map[a];h===void 0&&(h=new ik(a),DS(t,h)),t=h}}}class Ep{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,35718);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),o=e.getUniformLocation(t,s.name);rk(s,o,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],c=i[a.id];c.needsUpdate!==!1&&a.setValue(e,c.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function NS(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}let sk=0;function ok(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join(`
`)}function ak(n){switch(n){case So:return["Linear","( value )"];case Gt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function FS(n,e,t){const i=n.getShaderParameter(e,35713),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+ok(n.getShaderSource(e),o)}else return r}function lk(n,e){const t=ak(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function ck(n,e){let t;switch(e){case _T:t="Linear";break;case wT:t="Reinhard";break;case AT:t="OptimizedCineon";break;case g_:t="ACESFilmic";break;case ST:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function uk(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(wu).join(`
`)}function dk(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function fk(n,e){const t={},i=n.getProgramParameter(e,35721);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function wu(n){return n!==""}function OS(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function kS(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const hk=/^[ \t]*#include +<([\w\d./]+)>/gm;function $y(n){return n.replace(hk,pk)}function pk(n,e){const t=pt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return $y(t)}const mk=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function zS(n){return n.replace(mk,gk)}function gk(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function US(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function vk(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===Mm?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Ru?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===ua&&(e="SHADOWMAP_TYPE_VSM"),e}function yk(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case _o:case wo:e="ENVMAP_TYPE_CUBE";break;case vc:e="ENVMAP_TYPE_CUBE_UV";break}return e}function xk(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case wo:e="ENVMAP_MODE_REFRACTION";break}return e}function _k(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case xd:e="ENVMAP_BLENDING_MULTIPLY";break;case yT:e="ENVMAP_BLENDING_MIX";break;case xT:e="ENVMAP_BLENDING_ADD";break}return e}function wk(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function Ak(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const c=vk(t),d=yk(t),f=xk(t),h=_k(t),p=wk(t),g=t.isWebGL2?"":uk(t),y=dk(s),v=r.createProgram();let _,w,A=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(_=[y].filter(wu).join(`
`),_.length>0&&(_+=`
`),w=[g,y].filter(wu).join(`
`),w.length>0&&(w+=`
`)):(_=[US(t),"#define SHADER_NAME "+t.shaderName,y,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+f:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(wu).join(`
`),w=[g,US(t),"#define SHADER_NAME "+t.shaderName,y,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.envMap?"#define "+f:"",t.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==br?"#define TONE_MAPPING":"",t.toneMapping!==br?pt.tonemapping_pars_fragment:"",t.toneMapping!==br?ck("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",pt.encodings_pars_fragment,lk("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(wu).join(`
`)),o=$y(o),o=OS(o,t),o=kS(o,t),a=$y(a),a=OS(a,t),a=kS(a,t),o=zS(o),a=zS(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(A=`#version 300 es
`,_=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,w=["#define varying in",t.glslVersion===Yy?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===Yy?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+w);const S=A+_+o,E=A+w+a,C=NS(r,35633,S),B=NS(r,35632,E);if(r.attachShader(v,C),r.attachShader(v,B),t.index0AttributeName!==void 0?r.bindAttribLocation(v,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(v,0,"position"),r.linkProgram(v),n.debug.checkShaderErrors){const R=r.getProgramInfoLog(v).trim(),D=r.getShaderInfoLog(C).trim(),U=r.getShaderInfoLog(B).trim();let Z=!0,W=!0;if(r.getProgramParameter(v,35714)===!1){Z=!1;const J=FS(r,C,"vertex"),$=FS(r,B,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(v,35715)+`

Program Info Log: `+R+`
`+J+`
`+$)}else R!==""?console.warn("THREE.WebGLProgram: Program Info Log:",R):(D===""||U==="")&&(W=!1);W&&(this.diagnostics={runnable:Z,programLog:R,vertexShader:{log:D,prefix:_},fragmentShader:{log:U,prefix:w}})}r.deleteShader(C),r.deleteShader(B);let L;this.getUniforms=function(){return L===void 0&&(L=new Ep(r,v)),L};let b;return this.getAttributes=function(){return b===void 0&&(b=fk(r,v)),b},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(v),this.program=void 0},this.name=t.shaderName,this.id=sk++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=C,this.fragmentShader=B,this}let Sk=0;class Mk{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new Ek(e),t.set(e,i)),i}}class Ek{constructor(e){this.id=Sk++,this.code=e,this.usedTimes=0}}function Ck(n,e,t,i,r,s,o){const a=new Aa,c=new Mk,d=[],f=r.isWebGL2,h=r.logarithmicDepthBuffer,p=r.vertexTextures;let g=r.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(b,R,D,U,Z){const W=U.fog,J=Z.geometry,$=b.isMeshStandardMaterial?U.environment:null,ce=(b.isMeshStandardMaterial?t:e).get(b.envMap||$),ue=ce&&ce.mapping===vc?ce.image.height:null,I=y[b.type];b.precision!==null&&(g=r.getMaxPrecision(b.precision),g!==b.precision&&console.warn("THREE.WebGLProgram.getParameters:",b.precision,"not supported, using",g,"instead."));const G=J.morphAttributes.position||J.morphAttributes.normal||J.morphAttributes.color,j=G!==void 0?G.length:0;let ne=0;J.morphAttributes.position!==void 0&&(ne=1),J.morphAttributes.normal!==void 0&&(ne=2),J.morphAttributes.color!==void 0&&(ne=3);let H,te,ge,ye;if(I){const Re=Sr[I];H=Re.vertexShader,te=Re.fragmentShader}else H=b.vertexShader,te=b.fragmentShader,c.update(b),ge=c.getVertexShaderID(b),ye=c.getFragmentShaderID(b);const Q=n.getRenderTarget(),Pe=b.alphaTest>0,Oe=b.clearcoat>0,He=b.iridescence>0;return{isWebGL2:f,shaderID:I,shaderName:b.type,vertexShader:H,fragmentShader:te,defines:b.defines,customVertexShaderID:ge,customFragmentShaderID:ye,isRawShaderMaterial:b.isRawShaderMaterial===!0,glslVersion:b.glslVersion,precision:g,instancing:Z.isInstancedMesh===!0,instancingColor:Z.isInstancedMesh===!0&&Z.instanceColor!==null,supportsVertexTextures:p,outputEncoding:Q===null?n.outputEncoding:Q.isXRRenderTarget===!0?Q.texture.encoding:So,map:!!b.map,matcap:!!b.matcap,envMap:!!ce,envMapMode:ce&&ce.mapping,envMapCubeUVHeight:ue,lightMap:!!b.lightMap,aoMap:!!b.aoMap,emissiveMap:!!b.emissiveMap,bumpMap:!!b.bumpMap,normalMap:!!b.normalMap,objectSpaceNormalMap:b.normalMapType===WT,tangentSpaceNormalMap:b.normalMapType===Bo,decodeVideoTexture:!!b.map&&b.map.isVideoTexture===!0&&b.map.encoding===Gt,clearcoat:Oe,clearcoatMap:Oe&&!!b.clearcoatMap,clearcoatRoughnessMap:Oe&&!!b.clearcoatRoughnessMap,clearcoatNormalMap:Oe&&!!b.clearcoatNormalMap,iridescence:He,iridescenceMap:He&&!!b.iridescenceMap,iridescenceThicknessMap:He&&!!b.iridescenceThicknessMap,displacementMap:!!b.displacementMap,roughnessMap:!!b.roughnessMap,metalnessMap:!!b.metalnessMap,specularMap:!!b.specularMap,specularIntensityMap:!!b.specularIntensityMap,specularColorMap:!!b.specularColorMap,opaque:b.transparent===!1&&b.blending===ya,alphaMap:!!b.alphaMap,alphaTest:Pe,gradientMap:!!b.gradientMap,sheen:b.sheen>0,sheenColorMap:!!b.sheenColorMap,sheenRoughnessMap:!!b.sheenRoughnessMap,transmission:b.transmission>0,transmissionMap:!!b.transmissionMap,thicknessMap:!!b.thicknessMap,combine:b.combine,vertexTangents:!!b.normalMap&&!!J.attributes.tangent,vertexColors:b.vertexColors,vertexAlphas:b.vertexColors===!0&&!!J.attributes.color&&J.attributes.color.itemSize===4,vertexUvs:!!b.map||!!b.bumpMap||!!b.normalMap||!!b.specularMap||!!b.alphaMap||!!b.emissiveMap||!!b.roughnessMap||!!b.metalnessMap||!!b.clearcoatMap||!!b.clearcoatRoughnessMap||!!b.clearcoatNormalMap||!!b.iridescenceMap||!!b.iridescenceThicknessMap||!!b.displacementMap||!!b.transmissionMap||!!b.thicknessMap||!!b.specularIntensityMap||!!b.specularColorMap||!!b.sheenColorMap||!!b.sheenRoughnessMap,uvsVertexOnly:!(b.map||b.bumpMap||b.normalMap||b.specularMap||b.alphaMap||b.emissiveMap||b.roughnessMap||b.metalnessMap||b.clearcoatNormalMap||b.iridescenceMap||b.iridescenceThicknessMap||b.transmission>0||b.transmissionMap||b.thicknessMap||b.specularIntensityMap||b.specularColorMap||b.sheen>0||b.sheenColorMap||b.sheenRoughnessMap)&&!!b.displacementMap,fog:!!W,useFog:b.fog===!0,fogExp2:W&&W.isFogExp2,flatShading:!!b.flatShading,sizeAttenuation:b.sizeAttenuation,logarithmicDepthBuffer:h,skinning:Z.isSkinnedMesh===!0,morphTargets:J.morphAttributes.position!==void 0,morphNormals:J.morphAttributes.normal!==void 0,morphColors:J.morphAttributes.color!==void 0,morphTargetsCount:j,morphTextureStride:ne,numDirLights:R.directional.length,numPointLights:R.point.length,numSpotLights:R.spot.length,numSpotLightMaps:R.spotLightMap.length,numRectAreaLights:R.rectArea.length,numHemiLights:R.hemi.length,numDirLightShadows:R.directionalShadowMap.length,numPointLightShadows:R.pointShadowMap.length,numSpotLightShadows:R.spotShadowMap.length,numSpotLightShadowsWithMaps:R.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:b.dithering,shadowMapEnabled:n.shadowMap.enabled&&D.length>0,shadowMapType:n.shadowMap.type,toneMapping:b.toneMapped?n.toneMapping:br,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:b.premultipliedAlpha,doubleSided:b.side===Mr,flipSided:b.side===Ci,useDepthPacking:!!b.depthPacking,depthPacking:b.depthPacking||0,index0AttributeName:b.index0AttributeName,extensionDerivatives:b.extensions&&b.extensions.derivatives,extensionFragDepth:b.extensions&&b.extensions.fragDepth,extensionDrawBuffers:b.extensions&&b.extensions.drawBuffers,extensionShaderTextureLOD:b.extensions&&b.extensions.shaderTextureLOD,rendererExtensionFragDepth:f||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:f||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:f||i.has("EXT_shader_texture_lod"),customProgramCacheKey:b.customProgramCacheKey()}}function _(b){const R=[];if(b.shaderID?R.push(b.shaderID):(R.push(b.customVertexShaderID),R.push(b.customFragmentShaderID)),b.defines!==void 0)for(const D in b.defines)R.push(D),R.push(b.defines[D]);return b.isRawShaderMaterial===!1&&(w(R,b),A(R,b),R.push(n.outputEncoding)),R.push(b.customProgramCacheKey),R.join()}function w(b,R){b.push(R.precision),b.push(R.outputEncoding),b.push(R.envMapMode),b.push(R.envMapCubeUVHeight),b.push(R.combine),b.push(R.vertexUvs),b.push(R.fogExp2),b.push(R.sizeAttenuation),b.push(R.morphTargetsCount),b.push(R.morphAttributeCount),b.push(R.numDirLights),b.push(R.numPointLights),b.push(R.numSpotLights),b.push(R.numSpotLightMaps),b.push(R.numHemiLights),b.push(R.numRectAreaLights),b.push(R.numDirLightShadows),b.push(R.numPointLightShadows),b.push(R.numSpotLightShadows),b.push(R.numSpotLightShadowsWithMaps),b.push(R.shadowMapType),b.push(R.toneMapping),b.push(R.numClippingPlanes),b.push(R.numClipIntersection),b.push(R.depthPacking)}function A(b,R){a.disableAll(),R.isWebGL2&&a.enable(0),R.supportsVertexTextures&&a.enable(1),R.instancing&&a.enable(2),R.instancingColor&&a.enable(3),R.map&&a.enable(4),R.matcap&&a.enable(5),R.envMap&&a.enable(6),R.lightMap&&a.enable(7),R.aoMap&&a.enable(8),R.emissiveMap&&a.enable(9),R.bumpMap&&a.enable(10),R.normalMap&&a.enable(11),R.objectSpaceNormalMap&&a.enable(12),R.tangentSpaceNormalMap&&a.enable(13),R.clearcoat&&a.enable(14),R.clearcoatMap&&a.enable(15),R.clearcoatRoughnessMap&&a.enable(16),R.clearcoatNormalMap&&a.enable(17),R.iridescence&&a.enable(18),R.iridescenceMap&&a.enable(19),R.iridescenceThicknessMap&&a.enable(20),R.displacementMap&&a.enable(21),R.specularMap&&a.enable(22),R.roughnessMap&&a.enable(23),R.metalnessMap&&a.enable(24),R.gradientMap&&a.enable(25),R.alphaMap&&a.enable(26),R.alphaTest&&a.enable(27),R.vertexColors&&a.enable(28),R.vertexAlphas&&a.enable(29),R.vertexUvs&&a.enable(30),R.vertexTangents&&a.enable(31),R.uvsVertexOnly&&a.enable(32),b.push(a.mask),a.disableAll(),R.fog&&a.enable(0),R.useFog&&a.enable(1),R.flatShading&&a.enable(2),R.logarithmicDepthBuffer&&a.enable(3),R.skinning&&a.enable(4),R.morphTargets&&a.enable(5),R.morphNormals&&a.enable(6),R.morphColors&&a.enable(7),R.premultipliedAlpha&&a.enable(8),R.shadowMapEnabled&&a.enable(9),R.physicallyCorrectLights&&a.enable(10),R.doubleSided&&a.enable(11),R.flipSided&&a.enable(12),R.useDepthPacking&&a.enable(13),R.dithering&&a.enable(14),R.specularIntensityMap&&a.enable(15),R.specularColorMap&&a.enable(16),R.transmission&&a.enable(17),R.transmissionMap&&a.enable(18),R.thicknessMap&&a.enable(19),R.sheen&&a.enable(20),R.sheenColorMap&&a.enable(21),R.sheenRoughnessMap&&a.enable(22),R.decodeVideoTexture&&a.enable(23),R.opaque&&a.enable(24),b.push(a.mask)}function S(b){const R=y[b.type];let D;if(R){const U=Sr[R];D=ZT.clone(U.uniforms)}else D=b.uniforms;return D}function E(b,R){let D;for(let U=0,Z=d.length;U<Z;U++){const W=d[U];if(W.cacheKey===R){D=W,++D.usedTimes;break}}return D===void 0&&(D=new Ak(n,R,b,s),d.push(D)),D}function C(b){if(--b.usedTimes===0){const R=d.indexOf(b);d[R]=d[d.length-1],d.pop(),b.destroy()}}function B(b){c.remove(b)}function L(){c.dispose()}return{getParameters:v,getProgramCacheKey:_,getUniforms:S,acquireProgram:E,releaseProgram:C,releaseShaderCache:B,programs:d,dispose:L}}function bk(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function i(s,o,a){n.get(s)[o]=a}function r(){n=new WeakMap}return{get:e,remove:t,update:i,dispose:r}}function Tk(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function GS(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function HS(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function o(h,p,g,y,v,_){let w=n[e];return w===void 0?(w={id:h.id,object:h,geometry:p,material:g,groupOrder:y,renderOrder:h.renderOrder,z:v,group:_},n[e]=w):(w.id=h.id,w.object=h,w.geometry=p,w.material=g,w.groupOrder=y,w.renderOrder=h.renderOrder,w.z=v,w.group=_),e++,w}function a(h,p,g,y,v,_){const w=o(h,p,g,y,v,_);g.transmission>0?i.push(w):g.transparent===!0?r.push(w):t.push(w)}function c(h,p,g,y,v,_){const w=o(h,p,g,y,v,_);g.transmission>0?i.unshift(w):g.transparent===!0?r.unshift(w):t.unshift(w)}function d(h,p){t.length>1&&t.sort(h||Tk),i.length>1&&i.sort(p||GS),r.length>1&&r.sort(p||GS)}function f(){for(let h=e,p=n.length;h<p;h++){const g=n[h];if(g.id===null)break;g.id=null,g.object=null,g.geometry=null,g.material=null,g.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:a,unshift:c,finish:f,sort:d}}function Bk(){let n=new WeakMap;function e(i,r){const s=n.get(i);let o;return s===void 0?(o=new HS,n.set(i,[o])):r>=s.length?(o=new HS,s.push(o)):o=s[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function Pk(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new F,color:new De};break;case"SpotLight":t={position:new F,direction:new F,color:new De,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new F,color:new De,distance:0,decay:0};break;case"HemisphereLight":t={direction:new F,skyColor:new De,groundColor:new De};break;case"RectAreaLight":t={color:new De,position:new F,halfWidth:new F,halfHeight:new F};break}return n[e.id]=t,t}}}function Rk(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pe};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pe};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pe,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let Lk=0;function Ik(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function Dk(n,e){const t=new Pk,i=Rk(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let f=0;f<9;f++)r.probe.push(new F);const s=new F,o=new st,a=new st;function c(f,h){let p=0,g=0,y=0;for(let U=0;U<9;U++)r.probe[U].set(0,0,0);let v=0,_=0,w=0,A=0,S=0,E=0,C=0,B=0,L=0,b=0;f.sort(Ik);const R=h!==!0?Math.PI:1;for(let U=0,Z=f.length;U<Z;U++){const W=f[U],J=W.color,$=W.intensity,ce=W.distance,ue=W.shadow&&W.shadow.map?W.shadow.map.texture:null;if(W.isAmbientLight)p+=J.r*$*R,g+=J.g*$*R,y+=J.b*$*R;else if(W.isLightProbe)for(let I=0;I<9;I++)r.probe[I].addScaledVector(W.sh.coefficients[I],$);else if(W.isDirectionalLight){const I=t.get(W);if(I.color.copy(W.color).multiplyScalar(W.intensity*R),W.castShadow){const G=W.shadow,j=i.get(W);j.shadowBias=G.bias,j.shadowNormalBias=G.normalBias,j.shadowRadius=G.radius,j.shadowMapSize=G.mapSize,r.directionalShadow[v]=j,r.directionalShadowMap[v]=ue,r.directionalShadowMatrix[v]=W.shadow.matrix,E++}r.directional[v]=I,v++}else if(W.isSpotLight){const I=t.get(W);I.position.setFromMatrixPosition(W.matrixWorld),I.color.copy(J).multiplyScalar($*R),I.distance=ce,I.coneCos=Math.cos(W.angle),I.penumbraCos=Math.cos(W.angle*(1-W.penumbra)),I.decay=W.decay,r.spot[w]=I;const G=W.shadow;if(W.map&&(r.spotLightMap[L]=W.map,L++,G.updateMatrices(W),W.castShadow&&b++),r.spotLightMatrix[w]=G.matrix,W.castShadow){const j=i.get(W);j.shadowBias=G.bias,j.shadowNormalBias=G.normalBias,j.shadowRadius=G.radius,j.shadowMapSize=G.mapSize,r.spotShadow[w]=j,r.spotShadowMap[w]=ue,B++}w++}else if(W.isRectAreaLight){const I=t.get(W);I.color.copy(J).multiplyScalar($),I.halfWidth.set(W.width*.5,0,0),I.halfHeight.set(0,W.height*.5,0),r.rectArea[A]=I,A++}else if(W.isPointLight){const I=t.get(W);if(I.color.copy(W.color).multiplyScalar(W.intensity*R),I.distance=W.distance,I.decay=W.decay,W.castShadow){const G=W.shadow,j=i.get(W);j.shadowBias=G.bias,j.shadowNormalBias=G.normalBias,j.shadowRadius=G.radius,j.shadowMapSize=G.mapSize,j.shadowCameraNear=G.camera.near,j.shadowCameraFar=G.camera.far,r.pointShadow[_]=j,r.pointShadowMap[_]=ue,r.pointShadowMatrix[_]=W.shadow.matrix,C++}r.point[_]=I,_++}else if(W.isHemisphereLight){const I=t.get(W);I.skyColor.copy(W.color).multiplyScalar($*R),I.groundColor.copy(W.groundColor).multiplyScalar($*R),r.hemi[S]=I,S++}}A>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Be.LTC_FLOAT_1,r.rectAreaLTC2=Be.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Be.LTC_HALF_1,r.rectAreaLTC2=Be.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=p,r.ambient[1]=g,r.ambient[2]=y;const D=r.hash;(D.directionalLength!==v||D.pointLength!==_||D.spotLength!==w||D.rectAreaLength!==A||D.hemiLength!==S||D.numDirectionalShadows!==E||D.numPointShadows!==C||D.numSpotShadows!==B||D.numSpotMaps!==L)&&(r.directional.length=v,r.spot.length=w,r.rectArea.length=A,r.point.length=_,r.hemi.length=S,r.directionalShadow.length=E,r.directionalShadowMap.length=E,r.pointShadow.length=C,r.pointShadowMap.length=C,r.spotShadow.length=B,r.spotShadowMap.length=B,r.directionalShadowMatrix.length=E,r.pointShadowMatrix.length=C,r.spotLightMatrix.length=B+L-b,r.spotLightMap.length=L,r.numSpotLightShadowsWithMaps=b,D.directionalLength=v,D.pointLength=_,D.spotLength=w,D.rectAreaLength=A,D.hemiLength=S,D.numDirectionalShadows=E,D.numPointShadows=C,D.numSpotShadows=B,D.numSpotMaps=L,r.version=Lk++)}function d(f,h){let p=0,g=0,y=0,v=0,_=0;const w=h.matrixWorldInverse;for(let A=0,S=f.length;A<S;A++){const E=f[A];if(E.isDirectionalLight){const C=r.directional[p];C.direction.setFromMatrixPosition(E.matrixWorld),s.setFromMatrixPosition(E.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(w),p++}else if(E.isSpotLight){const C=r.spot[y];C.position.setFromMatrixPosition(E.matrixWorld),C.position.applyMatrix4(w),C.direction.setFromMatrixPosition(E.matrixWorld),s.setFromMatrixPosition(E.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(w),y++}else if(E.isRectAreaLight){const C=r.rectArea[v];C.position.setFromMatrixPosition(E.matrixWorld),C.position.applyMatrix4(w),a.identity(),o.copy(E.matrixWorld),o.premultiply(w),a.extractRotation(o),C.halfWidth.set(E.width*.5,0,0),C.halfHeight.set(0,E.height*.5,0),C.halfWidth.applyMatrix4(a),C.halfHeight.applyMatrix4(a),v++}else if(E.isPointLight){const C=r.point[g];C.position.setFromMatrixPosition(E.matrixWorld),C.position.applyMatrix4(w),g++}else if(E.isHemisphereLight){const C=r.hemi[_];C.direction.setFromMatrixPosition(E.matrixWorld),C.direction.transformDirection(w),_++}}}return{setup:c,setupView:d,state:r}}function jS(n,e){const t=new Dk(n,e),i=[],r=[];function s(){i.length=0,r.length=0}function o(h){i.push(h)}function a(h){r.push(h)}function c(h){t.setup(i,h)}function d(h){t.setupView(i,h)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:c,setupLightsView:d,pushLight:o,pushShadow:a}}function Nk(n,e){let t=new WeakMap;function i(s,o=0){const a=t.get(s);let c;return a===void 0?(c=new jS(n,e),t.set(s,[c])):o>=a.length?(c=new jS(n,e),a.push(c)):c=a[o],c}function r(){t=new WeakMap}return{get:i,dispose:r}}class T_ extends Sn{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=jT,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class B_ extends Sn{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new F,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const Fk=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Ok=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function kk(n,e,t){let i=new Bm;const r=new pe,s=new pe,o=new Ft,a=new T_({depthPacking:VT}),c=new B_,d={},f=t.maxTextureSize,h={[qr]:Ci,[Ci]:qr,[Mr]:Mr},p=new Yr({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new pe},radius:{value:4}},vertexShader:Fk,fragmentShader:Ok}),g=p.clone();g.defines.HORIZONTAL_PASS=1;const y=new ct;y.setAttribute("position",new It(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new kn(y,p),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Mm,this.render=function(E,C,B){if(_.enabled===!1||_.autoUpdate===!1&&_.needsUpdate===!1||E.length===0)return;const L=n.getRenderTarget(),b=n.getActiveCubeFace(),R=n.getActiveMipmapLevel(),D=n.state;D.setBlending(Cs),D.buffers.color.setClear(1,1,1,1),D.buffers.depth.setTest(!0),D.setScissorTest(!1);for(let U=0,Z=E.length;U<Z;U++){const W=E[U],J=W.shadow;if(J===void 0){console.warn("THREE.WebGLShadowMap:",W,"has no shadow.");continue}if(J.autoUpdate===!1&&J.needsUpdate===!1)continue;r.copy(J.mapSize);const $=J.getFrameExtents();if(r.multiply($),s.copy(J.mapSize),(r.x>f||r.y>f)&&(r.x>f&&(s.x=Math.floor(f/$.x),r.x=s.x*$.x,J.mapSize.x=s.x),r.y>f&&(s.y=Math.floor(f/$.y),r.y=s.y*$.y,J.mapSize.y=s.y)),J.map===null){const ue=this.type!==ua?{minFilter:hn,magFilter:hn}:{};J.map=new Br(r.x,r.y,ue),J.map.texture.name=W.name+".shadowMap",J.camera.updateProjectionMatrix()}n.setRenderTarget(J.map),n.clear();const ce=J.getViewportCount();for(let ue=0;ue<ce;ue++){const I=J.getViewport(ue);o.set(s.x*I.x,s.y*I.y,s.x*I.z,s.y*I.w),D.viewport(o),J.updateMatrices(W,ue),i=J.getFrustum(),S(C,B,J.camera,W,this.type)}J.isPointLightShadow!==!0&&this.type===ua&&w(J,B),J.needsUpdate=!1}_.needsUpdate=!1,n.setRenderTarget(L,b,R)};function w(E,C){const B=e.update(v);p.defines.VSM_SAMPLES!==E.blurSamples&&(p.defines.VSM_SAMPLES=E.blurSamples,g.defines.VSM_SAMPLES=E.blurSamples,p.needsUpdate=!0,g.needsUpdate=!0),E.mapPass===null&&(E.mapPass=new Br(r.x,r.y)),p.uniforms.shadow_pass.value=E.map.texture,p.uniforms.resolution.value=E.mapSize,p.uniforms.radius.value=E.radius,n.setRenderTarget(E.mapPass),n.clear(),n.renderBufferDirect(C,null,B,p,v,null),g.uniforms.shadow_pass.value=E.mapPass.texture,g.uniforms.resolution.value=E.mapSize,g.uniforms.radius.value=E.radius,n.setRenderTarget(E.map),n.clear(),n.renderBufferDirect(C,null,B,g,v,null)}function A(E,C,B,L,b,R){let D=null;const U=B.isPointLight===!0?E.customDistanceMaterial:E.customDepthMaterial;if(U!==void 0)D=U;else if(D=B.isPointLight===!0?c:a,n.localClippingEnabled&&C.clipShadows===!0&&Array.isArray(C.clippingPlanes)&&C.clippingPlanes.length!==0||C.displacementMap&&C.displacementScale!==0||C.alphaMap&&C.alphaTest>0||C.map&&C.alphaTest>0){const Z=D.uuid,W=C.uuid;let J=d[Z];J===void 0&&(J={},d[Z]=J);let $=J[W];$===void 0&&($=D.clone(),J[W]=$),D=$}return D.visible=C.visible,D.wireframe=C.wireframe,R===ua?D.side=C.shadowSide!==null?C.shadowSide:C.side:D.side=C.shadowSide!==null?C.shadowSide:h[C.side],D.alphaMap=C.alphaMap,D.alphaTest=C.alphaTest,D.map=C.map,D.clipShadows=C.clipShadows,D.clippingPlanes=C.clippingPlanes,D.clipIntersection=C.clipIntersection,D.displacementMap=C.displacementMap,D.displacementScale=C.displacementScale,D.displacementBias=C.displacementBias,D.wireframeLinewidth=C.wireframeLinewidth,D.linewidth=C.linewidth,B.isPointLight===!0&&D.isMeshDistanceMaterial===!0&&(D.referencePosition.setFromMatrixPosition(B.matrixWorld),D.nearDistance=L,D.farDistance=b),D}function S(E,C,B,L,b){if(E.visible===!1)return;if(E.layers.test(C.layers)&&(E.isMesh||E.isLine||E.isPoints)&&(E.castShadow||E.receiveShadow&&b===ua)&&(!E.frustumCulled||i.intersectsObject(E))){E.modelViewMatrix.multiplyMatrices(B.matrixWorldInverse,E.matrixWorld);const U=e.update(E),Z=E.material;if(Array.isArray(Z)){const W=U.groups;for(let J=0,$=W.length;J<$;J++){const ce=W[J],ue=Z[ce.materialIndex];if(ue&&ue.visible){const I=A(E,ue,L,B.near,B.far,b);n.renderBufferDirect(B,null,U,I,E,ce)}}}else if(Z.visible){const W=A(E,Z,L,B.near,B.far,b);n.renderBufferDirect(B,null,U,W,E,null)}}const D=E.children;for(let U=0,Z=D.length;U<Z;U++)S(D[U],C,B,L,b)}}function zk(n,e,t){const i=t.isWebGL2;function r(){let V=!1;const se=new Ft;let _e=null;const Le=new Ft(0,0,0,0);return{setMask:function(Xe){_e!==Xe&&!V&&(n.colorMask(Xe,Xe,Xe,Xe),_e=Xe)},setLocked:function(Xe){V=Xe},setClear:function(Xe,xt,Dt,kt,ii){ii===!0&&(Xe*=kt,xt*=kt,Dt*=kt),se.set(Xe,xt,Dt,kt),Le.equals(se)===!1&&(n.clearColor(Xe,xt,Dt,kt),Le.copy(se))},reset:function(){V=!1,_e=null,Le.set(-1,0,0,0)}}}function s(){let V=!1,se=null,_e=null,Le=null;return{setTest:function(Xe){Xe?Pe(2929):Oe(2929)},setMask:function(Xe){se!==Xe&&!V&&(n.depthMask(Xe),se=Xe)},setFunc:function(Xe){if(_e!==Xe){switch(Xe){case dT:n.depthFunc(512);break;case fT:n.depthFunc(519);break;case hT:n.depthFunc(513);break;case em:n.depthFunc(515);break;case pT:n.depthFunc(514);break;case mT:n.depthFunc(518);break;case gT:n.depthFunc(516);break;case vT:n.depthFunc(517);break;default:n.depthFunc(515)}_e=Xe}},setLocked:function(Xe){V=Xe},setClear:function(Xe){Le!==Xe&&(n.clearDepth(Xe),Le=Xe)},reset:function(){V=!1,se=null,_e=null,Le=null}}}function o(){let V=!1,se=null,_e=null,Le=null,Xe=null,xt=null,Dt=null,kt=null,ii=null;return{setTest:function(Tt){V||(Tt?Pe(2960):Oe(2960))},setMask:function(Tt){se!==Tt&&!V&&(n.stencilMask(Tt),se=Tt)},setFunc:function(Tt,Rn,Mn){(_e!==Tt||Le!==Rn||Xe!==Mn)&&(n.stencilFunc(Tt,Rn,Mn),_e=Tt,Le=Rn,Xe=Mn)},setOp:function(Tt,Rn,Mn){(xt!==Tt||Dt!==Rn||kt!==Mn)&&(n.stencilOp(Tt,Rn,Mn),xt=Tt,Dt=Rn,kt=Mn)},setLocked:function(Tt){V=Tt},setClear:function(Tt){ii!==Tt&&(n.clearStencil(Tt),ii=Tt)},reset:function(){V=!1,se=null,_e=null,Le=null,Xe=null,xt=null,Dt=null,kt=null,ii=null}}}const a=new r,c=new s,d=new o,f=new WeakMap,h=new WeakMap;let p={},g={},y=new WeakMap,v=[],_=null,w=!1,A=null,S=null,E=null,C=null,B=null,L=null,b=null,R=!1,D=null,U=null,Z=null,W=null,J=null;const $=n.getParameter(35661);let ce=!1,ue=0;const I=n.getParameter(7938);I.indexOf("WebGL")!==-1?(ue=parseFloat(/^WebGL (\d)/.exec(I)[1]),ce=ue>=1):I.indexOf("OpenGL ES")!==-1&&(ue=parseFloat(/^OpenGL ES (\d)/.exec(I)[1]),ce=ue>=2);let G=null,j={};const ne=n.getParameter(3088),H=n.getParameter(2978),te=new Ft().fromArray(ne),ge=new Ft().fromArray(H);function ye(V,se,_e){const Le=new Uint8Array(4),Xe=n.createTexture();n.bindTexture(V,Xe),n.texParameteri(V,10241,9728),n.texParameteri(V,10240,9728);for(let xt=0;xt<_e;xt++)n.texImage2D(se+xt,0,6408,1,1,0,6408,5121,Le);return Xe}const Q={};Q[3553]=ye(3553,3553,1),Q[34067]=ye(34067,34069,6),a.setClear(0,0,0,1),c.setClear(1),d.setClear(0),Pe(2929),c.setFunc(em),Te(!1),Ze(wy),Pe(2884),Me(Cs);function Pe(V){p[V]!==!0&&(n.enable(V),p[V]=!0)}function Oe(V){p[V]!==!1&&(n.disable(V),p[V]=!1)}function He(V,se){return g[V]!==se?(n.bindFramebuffer(V,se),g[V]=se,i&&(V===36009&&(g[36160]=se),V===36160&&(g[36009]=se)),!0):!1}function we(V,se){let _e=v,Le=!1;if(V)if(_e=y.get(se),_e===void 0&&(_e=[],y.set(se,_e)),V.isWebGLMultipleRenderTargets){const Xe=V.texture;if(_e.length!==Xe.length||_e[0]!==36064){for(let xt=0,Dt=Xe.length;xt<Dt;xt++)_e[xt]=36064+xt;_e.length=Xe.length,Le=!0}}else _e[0]!==36064&&(_e[0]=36064,Le=!0);else _e[0]!==1029&&(_e[0]=1029,Le=!0);Le&&(t.isWebGL2?n.drawBuffers(_e):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(_e))}function Re(V){return _!==V?(n.useProgram(V),_=V,!0):!1}const fe={[sa]:32774,[eT]:32778,[tT]:32779};if(i)fe[Ey]=32775,fe[Cy]=32776;else{const V=e.get("EXT_blend_minmax");V!==null&&(fe[Ey]=V.MIN_EXT,fe[Cy]=V.MAX_EXT)}const ae={[nT]:0,[iT]:1,[rT]:768,[p_]:770,[uT]:776,[lT]:774,[oT]:772,[sT]:769,[m_]:771,[cT]:775,[aT]:773};function Me(V,se,_e,Le,Xe,xt,Dt,kt){if(V===Cs){w===!0&&(Oe(3042),w=!1);return}if(w===!1&&(Pe(3042),w=!0),V!==$b){if(V!==A||kt!==R){if((S!==sa||B!==sa)&&(n.blendEquation(32774),S=sa,B=sa),kt)switch(V){case ya:n.blendFuncSeparate(1,771,1,771);break;case Ay:n.blendFunc(1,1);break;case Sy:n.blendFuncSeparate(0,769,0,1);break;case My:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",V);break}else switch(V){case ya:n.blendFuncSeparate(770,771,1,771);break;case Ay:n.blendFunc(770,1);break;case Sy:n.blendFuncSeparate(0,769,0,1);break;case My:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",V);break}E=null,C=null,L=null,b=null,A=V,R=kt}return}Xe=Xe||se,xt=xt||_e,Dt=Dt||Le,(se!==S||Xe!==B)&&(n.blendEquationSeparate(fe[se],fe[Xe]),S=se,B=Xe),(_e!==E||Le!==C||xt!==L||Dt!==b)&&(n.blendFuncSeparate(ae[_e],ae[Le],ae[xt],ae[Dt]),E=_e,C=Le,L=xt,b=Dt),A=V,R=!1}function ze(V,se){V.side===Mr?Oe(2884):Pe(2884);let _e=V.side===Ci;se&&(_e=!_e),Te(_e),V.blending===ya&&V.transparent===!1?Me(Cs):Me(V.blending,V.blendEquation,V.blendSrc,V.blendDst,V.blendEquationAlpha,V.blendSrcAlpha,V.blendDstAlpha,V.premultipliedAlpha),c.setFunc(V.depthFunc),c.setTest(V.depthTest),c.setMask(V.depthWrite),a.setMask(V.colorWrite);const Le=V.stencilWrite;d.setTest(Le),Le&&(d.setMask(V.stencilWriteMask),d.setFunc(V.stencilFunc,V.stencilRef,V.stencilFuncMask),d.setOp(V.stencilFail,V.stencilZFail,V.stencilZPass)),We(V.polygonOffset,V.polygonOffsetFactor,V.polygonOffsetUnits),V.alphaToCoverage===!0?Pe(32926):Oe(32926)}function Te(V){D!==V&&(V?n.frontFace(2304):n.frontFace(2305),D=V)}function Ze(V){V!==Yb?(Pe(2884),V!==U&&(V===wy?n.cullFace(1029):V===Qb?n.cullFace(1028):n.cullFace(1032))):Oe(2884),U=V}function Ke(V){V!==Z&&(ce&&n.lineWidth(V),Z=V)}function We(V,se,_e){V?(Pe(32823),(W!==se||J!==_e)&&(n.polygonOffset(se,_e),W=se,J=_e)):Oe(32823)}function vt(V){V?Pe(3089):Oe(3089)}function yt(V){V===void 0&&(V=33984+$-1),G!==V&&(n.activeTexture(V),G=V)}function z(V,se,_e){_e===void 0&&(G===null?_e=33984+$-1:_e=G);let Le=j[_e];Le===void 0&&(Le={type:void 0,texture:void 0},j[_e]=Le),(Le.type!==V||Le.texture!==se)&&(G!==_e&&(n.activeTexture(_e),G=_e),n.bindTexture(V,se||Q[V]),Le.type=V,Le.texture=se)}function N(){const V=j[G];V!==void 0&&V.type!==void 0&&(n.bindTexture(V.type,null),V.type=void 0,V.texture=void 0)}function oe(){try{n.compressedTexImage2D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function Ae(){try{n.compressedTexImage3D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function Ee(){try{n.texSubImage2D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function be(){try{n.texSubImage3D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function nt(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function Ne(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function ve(){try{n.texStorage2D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function Ye(){try{n.texStorage3D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function it(){try{n.texImage2D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function je(){try{n.texImage3D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function $e(V){te.equals(V)===!1&&(n.scissor(V.x,V.y,V.z,V.w),te.copy(V))}function Je(V){ge.equals(V)===!1&&(n.viewport(V.x,V.y,V.z,V.w),ge.copy(V))}function X(V,se){let _e=h.get(se);_e===void 0&&(_e=new WeakMap,h.set(se,_e));let Le=_e.get(V);Le===void 0&&(Le=n.getUniformBlockIndex(se,V.name),_e.set(V,Le))}function xe(V,se){const Le=h.get(se).get(V);f.get(se)!==Le&&(n.uniformBlockBinding(se,Le,V.__bindingPointIndex),f.set(se,Le))}function ke(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),i===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},G=null,j={},g={},y=new WeakMap,v=[],_=null,w=!1,A=null,S=null,E=null,C=null,B=null,L=null,b=null,R=!1,D=null,U=null,Z=null,W=null,J=null,te.set(0,0,n.canvas.width,n.canvas.height),ge.set(0,0,n.canvas.width,n.canvas.height),a.reset(),c.reset(),d.reset()}return{buffers:{color:a,depth:c,stencil:d},enable:Pe,disable:Oe,bindFramebuffer:He,drawBuffers:we,useProgram:Re,setBlending:Me,setMaterial:ze,setFlipSided:Te,setCullFace:Ze,setLineWidth:Ke,setPolygonOffset:We,setScissorTest:vt,activeTexture:yt,bindTexture:z,unbindTexture:N,compressedTexImage2D:oe,compressedTexImage3D:Ae,texImage2D:it,texImage3D:je,updateUBOMapping:X,uniformBlockBinding:xe,texStorage2D:ve,texStorage3D:Ye,texSubImage2D:Ee,texSubImage3D:be,compressedTexSubImage2D:nt,compressedTexSubImage3D:Ne,scissor:$e,viewport:Je,reset:ke}}function Uk(n,e,t,i,r,s,o){const a=r.isWebGL2,c=r.maxTextures,d=r.maxCubemapSize,f=r.maxTextureSize,h=r.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,g=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),y=new WeakMap;let v;const _=new WeakMap;let w=!1;try{w=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function A(z,N){return w?new OffscreenCanvas(z,N):sd("canvas")}function S(z,N,oe,Ae){let Ee=1;if((z.width>Ae||z.height>Ae)&&(Ee=Ae/Math.max(z.width,z.height)),Ee<1||N===!0)if(typeof HTMLImageElement<"u"&&z instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&z instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&z instanceof ImageBitmap){const be=N?im:Math.floor,nt=be(Ee*z.width),Ne=be(Ee*z.height);v===void 0&&(v=A(nt,Ne));const ve=oe?A(nt,Ne):v;return ve.width=nt,ve.height=Ne,ve.getContext("2d").drawImage(z,0,0,nt,Ne),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+z.width+"x"+z.height+") to ("+nt+"x"+Ne+")."),ve}else return"data"in z&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+z.width+"x"+z.height+")."),z;return z}function E(z){return Qy(z.width)&&Qy(z.height)}function C(z){return a?!1:z.wrapS!==jn||z.wrapT!==jn||z.minFilter!==hn&&z.minFilter!==nn}function B(z,N){return z.generateMipmaps&&N&&z.minFilter!==hn&&z.minFilter!==nn}function L(z){n.generateMipmap(z)}function b(z,N,oe,Ae,Ee=!1){if(a===!1)return N;if(z!==null){if(n[z]!==void 0)return n[z];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+z+"'")}let be=N;return N===6403&&(oe===5126&&(be=33326),oe===5131&&(be=33325),oe===5121&&(be=33321)),N===33319&&(oe===5126&&(be=33328),oe===5131&&(be=33327),oe===5121&&(be=33323)),N===6408&&(oe===5126&&(be=34836),oe===5131&&(be=34842),oe===5121&&(be=Ae===Gt&&Ee===!1?35907:32856),oe===32819&&(be=32854),oe===32820&&(be=32855)),(be===33325||be===33326||be===33327||be===33328||be===34842||be===34836)&&e.get("EXT_color_buffer_float"),be}function R(z,N,oe){return B(z,oe)===!0||z.isFramebufferTexture&&z.minFilter!==hn&&z.minFilter!==nn?Math.log2(Math.max(N.width,N.height))+1:z.mipmaps!==void 0&&z.mipmaps.length>0?z.mipmaps.length:z.isCompressedTexture&&Array.isArray(z.image)?N.mipmaps.length:1}function D(z){return z===hn||z===td||z===Jl?9728:9729}function U(z){const N=z.target;N.removeEventListener("dispose",U),W(N),N.isVideoTexture&&y.delete(N)}function Z(z){const N=z.target;N.removeEventListener("dispose",Z),$(N)}function W(z){const N=i.get(z);if(N.__webglInit===void 0)return;const oe=z.source,Ae=_.get(oe);if(Ae){const Ee=Ae[N.__cacheKey];Ee.usedTimes--,Ee.usedTimes===0&&J(z),Object.keys(Ae).length===0&&_.delete(oe)}i.remove(z)}function J(z){const N=i.get(z);n.deleteTexture(N.__webglTexture);const oe=z.source,Ae=_.get(oe);delete Ae[N.__cacheKey],o.memory.textures--}function $(z){const N=z.texture,oe=i.get(z),Ae=i.get(N);if(Ae.__webglTexture!==void 0&&(n.deleteTexture(Ae.__webglTexture),o.memory.textures--),z.depthTexture&&z.depthTexture.dispose(),z.isWebGLCubeRenderTarget)for(let Ee=0;Ee<6;Ee++)n.deleteFramebuffer(oe.__webglFramebuffer[Ee]),oe.__webglDepthbuffer&&n.deleteRenderbuffer(oe.__webglDepthbuffer[Ee]);else{if(n.deleteFramebuffer(oe.__webglFramebuffer),oe.__webglDepthbuffer&&n.deleteRenderbuffer(oe.__webglDepthbuffer),oe.__webglMultisampledFramebuffer&&n.deleteFramebuffer(oe.__webglMultisampledFramebuffer),oe.__webglColorRenderbuffer)for(let Ee=0;Ee<oe.__webglColorRenderbuffer.length;Ee++)oe.__webglColorRenderbuffer[Ee]&&n.deleteRenderbuffer(oe.__webglColorRenderbuffer[Ee]);oe.__webglDepthRenderbuffer&&n.deleteRenderbuffer(oe.__webglDepthRenderbuffer)}if(z.isWebGLMultipleRenderTargets)for(let Ee=0,be=N.length;Ee<be;Ee++){const nt=i.get(N[Ee]);nt.__webglTexture&&(n.deleteTexture(nt.__webglTexture),o.memory.textures--),i.remove(N[Ee])}i.remove(N),i.remove(z)}let ce=0;function ue(){ce=0}function I(){const z=ce;return z>=c&&console.warn("THREE.WebGLTextures: Trying to use "+z+" texture units while this GPU supports only "+c),ce+=1,z}function G(z){const N=[];return N.push(z.wrapS),N.push(z.wrapT),N.push(z.wrapR||0),N.push(z.magFilter),N.push(z.minFilter),N.push(z.anisotropy),N.push(z.internalFormat),N.push(z.format),N.push(z.type),N.push(z.generateMipmaps),N.push(z.premultiplyAlpha),N.push(z.flipY),N.push(z.unpackAlignment),N.push(z.encoding),N.join()}function j(z,N){const oe=i.get(z);if(z.isVideoTexture&&vt(z),z.isRenderTargetTexture===!1&&z.version>0&&oe.__version!==z.version){const Ae=z.image;if(Ae===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ae.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Oe(oe,z,N);return}}t.bindTexture(3553,oe.__webglTexture,33984+N)}function ne(z,N){const oe=i.get(z);if(z.version>0&&oe.__version!==z.version){Oe(oe,z,N);return}t.bindTexture(35866,oe.__webglTexture,33984+N)}function H(z,N){const oe=i.get(z);if(z.version>0&&oe.__version!==z.version){Oe(oe,z,N);return}t.bindTexture(32879,oe.__webglTexture,33984+N)}function te(z,N){const oe=i.get(z);if(z.version>0&&oe.__version!==z.version){He(oe,z,N);return}t.bindTexture(34067,oe.__webglTexture,33984+N)}const ge={[Ao]:10497,[jn]:33071,[nc]:33648},ye={[hn]:9728,[td]:9984,[Jl]:9986,[nn]:9729,[Cm]:9985,[Kr]:9987};function Q(z,N,oe){if(oe?(n.texParameteri(z,10242,ge[N.wrapS]),n.texParameteri(z,10243,ge[N.wrapT]),(z===32879||z===35866)&&n.texParameteri(z,32882,ge[N.wrapR]),n.texParameteri(z,10240,ye[N.magFilter]),n.texParameteri(z,10241,ye[N.minFilter])):(n.texParameteri(z,10242,33071),n.texParameteri(z,10243,33071),(z===32879||z===35866)&&n.texParameteri(z,32882,33071),(N.wrapS!==jn||N.wrapT!==jn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(z,10240,D(N.magFilter)),n.texParameteri(z,10241,D(N.minFilter)),N.minFilter!==hn&&N.minFilter!==nn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const Ae=e.get("EXT_texture_filter_anisotropic");if(N.magFilter===hn||N.minFilter!==Jl&&N.minFilter!==Kr||N.type===As&&e.has("OES_texture_float_linear")===!1||a===!1&&N.type===ic&&e.has("OES_texture_half_float_linear")===!1)return;(N.anisotropy>1||i.get(N).__currentAnisotropy)&&(n.texParameterf(z,Ae.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(N.anisotropy,r.getMaxAnisotropy())),i.get(N).__currentAnisotropy=N.anisotropy)}}function Pe(z,N){let oe=!1;z.__webglInit===void 0&&(z.__webglInit=!0,N.addEventListener("dispose",U));const Ae=N.source;let Ee=_.get(Ae);Ee===void 0&&(Ee={},_.set(Ae,Ee));const be=G(N);if(be!==z.__cacheKey){Ee[be]===void 0&&(Ee[be]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,oe=!0),Ee[be].usedTimes++;const nt=Ee[z.__cacheKey];nt!==void 0&&(Ee[z.__cacheKey].usedTimes--,nt.usedTimes===0&&J(N)),z.__cacheKey=be,z.__webglTexture=Ee[be].texture}return oe}function Oe(z,N,oe){let Ae=3553;(N.isDataArrayTexture||N.isCompressedArrayTexture)&&(Ae=35866),N.isData3DTexture&&(Ae=32879);const Ee=Pe(z,N),be=N.source;t.bindTexture(Ae,z.__webglTexture,33984+oe);const nt=i.get(be);if(be.version!==nt.__version||Ee===!0){t.activeTexture(33984+oe),n.pixelStorei(37440,N.flipY),n.pixelStorei(37441,N.premultiplyAlpha),n.pixelStorei(3317,N.unpackAlignment),n.pixelStorei(37443,0);const Ne=C(N)&&E(N.image)===!1;let ve=S(N.image,Ne,!1,f);ve=yt(N,ve);const Ye=E(ve)||a,it=s.convert(N.format,N.encoding);let je=s.convert(N.type),$e=b(N.internalFormat,it,je,N.encoding,N.isVideoTexture);Q(Ae,N,Ye);let Je;const X=N.mipmaps,xe=a&&N.isVideoTexture!==!0,ke=nt.__version===void 0||Ee===!0,V=R(N,ve,Ye);if(N.isDepthTexture)$e=6402,a?N.type===As?$e=36012:N.type===oo?$e=33190:N.type===xa?$e=35056:$e=33189:N.type===As&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),N.format===vo&&$e===6402&&N.type!==v_&&N.type!==oo&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),N.type=oo,je=s.convert(N.type)),N.format===Ba&&$e===6402&&($e=34041,N.type!==xa&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),N.type=xa,je=s.convert(N.type))),ke&&(xe?t.texStorage2D(3553,1,$e,ve.width,ve.height):t.texImage2D(3553,0,$e,ve.width,ve.height,0,it,je,null));else if(N.isDataTexture)if(X.length>0&&Ye){xe&&ke&&t.texStorage2D(3553,V,$e,X[0].width,X[0].height);for(let se=0,_e=X.length;se<_e;se++)Je=X[se],xe?t.texSubImage2D(3553,se,0,0,Je.width,Je.height,it,je,Je.data):t.texImage2D(3553,se,$e,Je.width,Je.height,0,it,je,Je.data);N.generateMipmaps=!1}else xe?(ke&&t.texStorage2D(3553,V,$e,ve.width,ve.height),t.texSubImage2D(3553,0,0,0,ve.width,ve.height,it,je,ve.data)):t.texImage2D(3553,0,$e,ve.width,ve.height,0,it,je,ve.data);else if(N.isCompressedTexture)if(N.isCompressedArrayTexture){xe&&ke&&t.texStorage3D(35866,V,$e,X[0].width,X[0].height,ve.depth);for(let se=0,_e=X.length;se<_e;se++)Je=X[se],N.format!==wi?it!==null?xe?t.compressedTexSubImage3D(35866,se,0,0,0,Je.width,Je.height,ve.depth,it,Je.data,0,0):t.compressedTexImage3D(35866,se,$e,Je.width,Je.height,ve.depth,0,Je.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):xe?t.texSubImage3D(35866,se,0,0,0,Je.width,Je.height,ve.depth,it,je,Je.data):t.texImage3D(35866,se,$e,Je.width,Je.height,ve.depth,0,it,je,Je.data)}else{xe&&ke&&t.texStorage2D(3553,V,$e,X[0].width,X[0].height);for(let se=0,_e=X.length;se<_e;se++)Je=X[se],N.format!==wi?it!==null?xe?t.compressedTexSubImage2D(3553,se,0,0,Je.width,Je.height,it,Je.data):t.compressedTexImage2D(3553,se,$e,Je.width,Je.height,0,Je.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):xe?t.texSubImage2D(3553,se,0,0,Je.width,Je.height,it,je,Je.data):t.texImage2D(3553,se,$e,Je.width,Je.height,0,it,je,Je.data)}else if(N.isDataArrayTexture)xe?(ke&&t.texStorage3D(35866,V,$e,ve.width,ve.height,ve.depth),t.texSubImage3D(35866,0,0,0,0,ve.width,ve.height,ve.depth,it,je,ve.data)):t.texImage3D(35866,0,$e,ve.width,ve.height,ve.depth,0,it,je,ve.data);else if(N.isData3DTexture)xe?(ke&&t.texStorage3D(32879,V,$e,ve.width,ve.height,ve.depth),t.texSubImage3D(32879,0,0,0,0,ve.width,ve.height,ve.depth,it,je,ve.data)):t.texImage3D(32879,0,$e,ve.width,ve.height,ve.depth,0,it,je,ve.data);else if(N.isFramebufferTexture){if(ke)if(xe)t.texStorage2D(3553,V,$e,ve.width,ve.height);else{let se=ve.width,_e=ve.height;for(let Le=0;Le<V;Le++)t.texImage2D(3553,Le,$e,se,_e,0,it,je,null),se>>=1,_e>>=1}}else if(X.length>0&&Ye){xe&&ke&&t.texStorage2D(3553,V,$e,X[0].width,X[0].height);for(let se=0,_e=X.length;se<_e;se++)Je=X[se],xe?t.texSubImage2D(3553,se,0,0,it,je,Je):t.texImage2D(3553,se,$e,it,je,Je);N.generateMipmaps=!1}else xe?(ke&&t.texStorage2D(3553,V,$e,ve.width,ve.height),t.texSubImage2D(3553,0,0,0,it,je,ve)):t.texImage2D(3553,0,$e,it,je,ve);B(N,Ye)&&L(Ae),nt.__version=be.version,N.onUpdate&&N.onUpdate(N)}z.__version=N.version}function He(z,N,oe){if(N.image.length!==6)return;const Ae=Pe(z,N),Ee=N.source;t.bindTexture(34067,z.__webglTexture,33984+oe);const be=i.get(Ee);if(Ee.version!==be.__version||Ae===!0){t.activeTexture(33984+oe),n.pixelStorei(37440,N.flipY),n.pixelStorei(37441,N.premultiplyAlpha),n.pixelStorei(3317,N.unpackAlignment),n.pixelStorei(37443,0);const nt=N.isCompressedTexture||N.image[0].isCompressedTexture,Ne=N.image[0]&&N.image[0].isDataTexture,ve=[];for(let se=0;se<6;se++)!nt&&!Ne?ve[se]=S(N.image[se],!1,!0,d):ve[se]=Ne?N.image[se].image:N.image[se],ve[se]=yt(N,ve[se]);const Ye=ve[0],it=E(Ye)||a,je=s.convert(N.format,N.encoding),$e=s.convert(N.type),Je=b(N.internalFormat,je,$e,N.encoding),X=a&&N.isVideoTexture!==!0,xe=be.__version===void 0||Ae===!0;let ke=R(N,Ye,it);Q(34067,N,it);let V;if(nt){X&&xe&&t.texStorage2D(34067,ke,Je,Ye.width,Ye.height);for(let se=0;se<6;se++){V=ve[se].mipmaps;for(let _e=0;_e<V.length;_e++){const Le=V[_e];N.format!==wi?je!==null?X?t.compressedTexSubImage2D(34069+se,_e,0,0,Le.width,Le.height,je,Le.data):t.compressedTexImage2D(34069+se,_e,Je,Le.width,Le.height,0,Le.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):X?t.texSubImage2D(34069+se,_e,0,0,Le.width,Le.height,je,$e,Le.data):t.texImage2D(34069+se,_e,Je,Le.width,Le.height,0,je,$e,Le.data)}}}else{V=N.mipmaps,X&&xe&&(V.length>0&&ke++,t.texStorage2D(34067,ke,Je,ve[0].width,ve[0].height));for(let se=0;se<6;se++)if(Ne){X?t.texSubImage2D(34069+se,0,0,0,ve[se].width,ve[se].height,je,$e,ve[se].data):t.texImage2D(34069+se,0,Je,ve[se].width,ve[se].height,0,je,$e,ve[se].data);for(let _e=0;_e<V.length;_e++){const Xe=V[_e].image[se].image;X?t.texSubImage2D(34069+se,_e+1,0,0,Xe.width,Xe.height,je,$e,Xe.data):t.texImage2D(34069+se,_e+1,Je,Xe.width,Xe.height,0,je,$e,Xe.data)}}else{X?t.texSubImage2D(34069+se,0,0,0,je,$e,ve[se]):t.texImage2D(34069+se,0,Je,je,$e,ve[se]);for(let _e=0;_e<V.length;_e++){const Le=V[_e];X?t.texSubImage2D(34069+se,_e+1,0,0,je,$e,Le.image[se]):t.texImage2D(34069+se,_e+1,Je,je,$e,Le.image[se])}}}B(N,it)&&L(34067),be.__version=Ee.version,N.onUpdate&&N.onUpdate(N)}z.__version=N.version}function we(z,N,oe,Ae,Ee){const be=s.convert(oe.format,oe.encoding),nt=s.convert(oe.type),Ne=b(oe.internalFormat,be,nt,oe.encoding);i.get(N).__hasExternalTextures||(Ee===32879||Ee===35866?t.texImage3D(Ee,0,Ne,N.width,N.height,N.depth,0,be,nt,null):t.texImage2D(Ee,0,Ne,N.width,N.height,0,be,nt,null)),t.bindFramebuffer(36160,z),We(N)?p.framebufferTexture2DMultisampleEXT(36160,Ae,Ee,i.get(oe).__webglTexture,0,Ke(N)):(Ee===3553||Ee>=34069&&Ee<=34074)&&n.framebufferTexture2D(36160,Ae,Ee,i.get(oe).__webglTexture,0),t.bindFramebuffer(36160,null)}function Re(z,N,oe){if(n.bindRenderbuffer(36161,z),N.depthBuffer&&!N.stencilBuffer){let Ae=33189;if(oe||We(N)){const Ee=N.depthTexture;Ee&&Ee.isDepthTexture&&(Ee.type===As?Ae=36012:Ee.type===oo&&(Ae=33190));const be=Ke(N);We(N)?p.renderbufferStorageMultisampleEXT(36161,be,Ae,N.width,N.height):n.renderbufferStorageMultisample(36161,be,Ae,N.width,N.height)}else n.renderbufferStorage(36161,Ae,N.width,N.height);n.framebufferRenderbuffer(36160,36096,36161,z)}else if(N.depthBuffer&&N.stencilBuffer){const Ae=Ke(N);oe&&We(N)===!1?n.renderbufferStorageMultisample(36161,Ae,35056,N.width,N.height):We(N)?p.renderbufferStorageMultisampleEXT(36161,Ae,35056,N.width,N.height):n.renderbufferStorage(36161,34041,N.width,N.height),n.framebufferRenderbuffer(36160,33306,36161,z)}else{const Ae=N.isWebGLMultipleRenderTargets===!0?N.texture:[N.texture];for(let Ee=0;Ee<Ae.length;Ee++){const be=Ae[Ee],nt=s.convert(be.format,be.encoding),Ne=s.convert(be.type),ve=b(be.internalFormat,nt,Ne,be.encoding),Ye=Ke(N);oe&&We(N)===!1?n.renderbufferStorageMultisample(36161,Ye,ve,N.width,N.height):We(N)?p.renderbufferStorageMultisampleEXT(36161,Ye,ve,N.width,N.height):n.renderbufferStorage(36161,ve,N.width,N.height)}}n.bindRenderbuffer(36161,null)}function fe(z,N){if(N&&N.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,z),!(N.depthTexture&&N.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(N.depthTexture).__webglTexture||N.depthTexture.image.width!==N.width||N.depthTexture.image.height!==N.height)&&(N.depthTexture.image.width=N.width,N.depthTexture.image.height=N.height,N.depthTexture.needsUpdate=!0),j(N.depthTexture,0);const Ae=i.get(N.depthTexture).__webglTexture,Ee=Ke(N);if(N.depthTexture.format===vo)We(N)?p.framebufferTexture2DMultisampleEXT(36160,36096,3553,Ae,0,Ee):n.framebufferTexture2D(36160,36096,3553,Ae,0);else if(N.depthTexture.format===Ba)We(N)?p.framebufferTexture2DMultisampleEXT(36160,33306,3553,Ae,0,Ee):n.framebufferTexture2D(36160,33306,3553,Ae,0);else throw new Error("Unknown depthTexture format")}function ae(z){const N=i.get(z),oe=z.isWebGLCubeRenderTarget===!0;if(z.depthTexture&&!N.__autoAllocateDepthBuffer){if(oe)throw new Error("target.depthTexture not supported in Cube render targets");fe(N.__webglFramebuffer,z)}else if(oe){N.__webglDepthbuffer=[];for(let Ae=0;Ae<6;Ae++)t.bindFramebuffer(36160,N.__webglFramebuffer[Ae]),N.__webglDepthbuffer[Ae]=n.createRenderbuffer(),Re(N.__webglDepthbuffer[Ae],z,!1)}else t.bindFramebuffer(36160,N.__webglFramebuffer),N.__webglDepthbuffer=n.createRenderbuffer(),Re(N.__webglDepthbuffer,z,!1);t.bindFramebuffer(36160,null)}function Me(z,N,oe){const Ae=i.get(z);N!==void 0&&we(Ae.__webglFramebuffer,z,z.texture,36064,3553),oe!==void 0&&ae(z)}function ze(z){const N=z.texture,oe=i.get(z),Ae=i.get(N);z.addEventListener("dispose",Z),z.isWebGLMultipleRenderTargets!==!0&&(Ae.__webglTexture===void 0&&(Ae.__webglTexture=n.createTexture()),Ae.__version=N.version,o.memory.textures++);const Ee=z.isWebGLCubeRenderTarget===!0,be=z.isWebGLMultipleRenderTargets===!0,nt=E(z)||a;if(Ee){oe.__webglFramebuffer=[];for(let Ne=0;Ne<6;Ne++)oe.__webglFramebuffer[Ne]=n.createFramebuffer()}else{if(oe.__webglFramebuffer=n.createFramebuffer(),be)if(r.drawBuffers){const Ne=z.texture;for(let ve=0,Ye=Ne.length;ve<Ye;ve++){const it=i.get(Ne[ve]);it.__webglTexture===void 0&&(it.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&z.samples>0&&We(z)===!1){const Ne=be?N:[N];oe.__webglMultisampledFramebuffer=n.createFramebuffer(),oe.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,oe.__webglMultisampledFramebuffer);for(let ve=0;ve<Ne.length;ve++){const Ye=Ne[ve];oe.__webglColorRenderbuffer[ve]=n.createRenderbuffer(),n.bindRenderbuffer(36161,oe.__webglColorRenderbuffer[ve]);const it=s.convert(Ye.format,Ye.encoding),je=s.convert(Ye.type),$e=b(Ye.internalFormat,it,je,Ye.encoding,z.isXRRenderTarget===!0),Je=Ke(z);n.renderbufferStorageMultisample(36161,Je,$e,z.width,z.height),n.framebufferRenderbuffer(36160,36064+ve,36161,oe.__webglColorRenderbuffer[ve])}n.bindRenderbuffer(36161,null),z.depthBuffer&&(oe.__webglDepthRenderbuffer=n.createRenderbuffer(),Re(oe.__webglDepthRenderbuffer,z,!0)),t.bindFramebuffer(36160,null)}}if(Ee){t.bindTexture(34067,Ae.__webglTexture),Q(34067,N,nt);for(let Ne=0;Ne<6;Ne++)we(oe.__webglFramebuffer[Ne],z,N,36064,34069+Ne);B(N,nt)&&L(34067),t.unbindTexture()}else if(be){const Ne=z.texture;for(let ve=0,Ye=Ne.length;ve<Ye;ve++){const it=Ne[ve],je=i.get(it);t.bindTexture(3553,je.__webglTexture),Q(3553,it,nt),we(oe.__webglFramebuffer,z,it,36064+ve,3553),B(it,nt)&&L(3553)}t.unbindTexture()}else{let Ne=3553;(z.isWebGL3DRenderTarget||z.isWebGLArrayRenderTarget)&&(a?Ne=z.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Ne,Ae.__webglTexture),Q(Ne,N,nt),we(oe.__webglFramebuffer,z,N,36064,Ne),B(N,nt)&&L(Ne),t.unbindTexture()}z.depthBuffer&&ae(z)}function Te(z){const N=E(z)||a,oe=z.isWebGLMultipleRenderTargets===!0?z.texture:[z.texture];for(let Ae=0,Ee=oe.length;Ae<Ee;Ae++){const be=oe[Ae];if(B(be,N)){const nt=z.isWebGLCubeRenderTarget?34067:3553,Ne=i.get(be).__webglTexture;t.bindTexture(nt,Ne),L(nt),t.unbindTexture()}}}function Ze(z){if(a&&z.samples>0&&We(z)===!1){const N=z.isWebGLMultipleRenderTargets?z.texture:[z.texture],oe=z.width,Ae=z.height;let Ee=16384;const be=[],nt=z.stencilBuffer?33306:36096,Ne=i.get(z),ve=z.isWebGLMultipleRenderTargets===!0;if(ve)for(let Ye=0;Ye<N.length;Ye++)t.bindFramebuffer(36160,Ne.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Ye,36161,null),t.bindFramebuffer(36160,Ne.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Ye,3553,null,0);t.bindFramebuffer(36008,Ne.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,Ne.__webglFramebuffer);for(let Ye=0;Ye<N.length;Ye++){be.push(36064+Ye),z.depthBuffer&&be.push(nt);const it=Ne.__ignoreDepthValues!==void 0?Ne.__ignoreDepthValues:!1;if(it===!1&&(z.depthBuffer&&(Ee|=256),z.stencilBuffer&&(Ee|=1024)),ve&&n.framebufferRenderbuffer(36008,36064,36161,Ne.__webglColorRenderbuffer[Ye]),it===!0&&(n.invalidateFramebuffer(36008,[nt]),n.invalidateFramebuffer(36009,[nt])),ve){const je=i.get(N[Ye]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,je,0)}n.blitFramebuffer(0,0,oe,Ae,0,0,oe,Ae,Ee,9728),g&&n.invalidateFramebuffer(36008,be)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),ve)for(let Ye=0;Ye<N.length;Ye++){t.bindFramebuffer(36160,Ne.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Ye,36161,Ne.__webglColorRenderbuffer[Ye]);const it=i.get(N[Ye]).__webglTexture;t.bindFramebuffer(36160,Ne.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Ye,3553,it,0)}t.bindFramebuffer(36009,Ne.__webglMultisampledFramebuffer)}}function Ke(z){return Math.min(h,z.samples)}function We(z){const N=i.get(z);return a&&z.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&N.__useRenderToTexture!==!1}function vt(z){const N=o.render.frame;y.get(z)!==N&&(y.set(z,N),z.update())}function yt(z,N){const oe=z.encoding,Ae=z.format,Ee=z.type;return z.isCompressedTexture===!0||z.isVideoTexture===!0||z.format===nm||oe!==So&&(oe===Gt?a===!1?e.has("EXT_sRGB")===!0&&Ae===wi?(z.format=nm,z.minFilter=nn,z.generateMipmaps=!1):N=w_.sRGBToLinear(N):(Ae!==wi||Ee!==Rs)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",oe)),N}this.allocateTextureUnit=I,this.resetTextureUnits=ue,this.setTexture2D=j,this.setTexture2DArray=ne,this.setTexture3D=H,this.setTextureCube=te,this.rebindTextures=Me,this.setupRenderTarget=ze,this.updateRenderTargetMipmap=Te,this.updateMultisampleRenderTarget=Ze,this.setupDepthRenderbuffer=ae,this.setupFrameBufferTexture=we,this.useMultisampledRTT=We}function r2(n,e,t){const i=t.isWebGL2;function r(s,o=null){let a;if(s===Rs)return 5121;if(s===bT)return 32819;if(s===TT)return 32820;if(s===MT)return 5120;if(s===ET)return 5122;if(s===v_)return 5123;if(s===CT)return 5124;if(s===oo)return 5125;if(s===As)return 5126;if(s===ic)return i?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===BT)return 6406;if(s===wi)return 6408;if(s===PT)return 6409;if(s===RT)return 6410;if(s===vo)return 6402;if(s===Ba)return 34041;if(s===nm)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===LT)return 6403;if(s===IT)return 36244;if(s===DT)return 33319;if(s===NT)return 33320;if(s===FT)return 36249;if(s===vp||s===yp||s===xp||s===_p)if(o===Gt)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===vp)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===yp)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===xp)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===_p)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===vp)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===yp)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===xp)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===_p)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===by||s===Ty||s===By||s===Py)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===by)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===Ty)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===By)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===Py)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===OT)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===Ry||s===Ly)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===Ry)return o===Gt?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===Ly)return o===Gt?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===Iy||s===Dy||s===Ny||s===Fy||s===Oy||s===ky||s===zy||s===Uy||s===Gy||s===Hy||s===jy||s===Vy||s===Wy||s===Jy)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===Iy)return o===Gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===Dy)return o===Gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===Ny)return o===Gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===Fy)return o===Gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===Oy)return o===Gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===ky)return o===Gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===zy)return o===Gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===Uy)return o===Gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===Gy)return o===Gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===Hy)return o===Gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===jy)return o===Gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===Vy)return o===Gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===Wy)return o===Gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===Jy)return o===Gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===wp)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===wp)return o===Gt?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===kT||s===Xy||s===qy||s===Ky)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===wp)return a.COMPRESSED_RED_RGTC1_EXT;if(s===Xy)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===qy)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===Ky)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===xa?i?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:r}}class s2 extends Wt{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Ms extends bt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Gk={type:"move"};class K0{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Ms,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Ms,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new F,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new F),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Ms,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new F,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new F),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,c=this._grip,d=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(d&&e.hand){o=!0;for(const v of e.hand.values()){const _=t.getJointPose(v,i),w=this._getHandJoint(d,v);_!==null&&(w.matrix.fromArray(_.transform.matrix),w.matrix.decompose(w.position,w.rotation,w.scale),w.jointRadius=_.radius),w.visible=_!==null}const f=d.joints["index-finger-tip"],h=d.joints["thumb-tip"],p=f.position.distanceTo(h.position),g=.02,y=.005;d.inputState.pinching&&p>g+y?(d.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!d.inputState.pinching&&p<=g-y&&(d.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else c!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(c.matrix.fromArray(s.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),s.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(s.linearVelocity)):c.hasLinearVelocity=!1,s.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(s.angularVelocity)):c.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Gk)))}return a!==null&&(a.visible=r!==null),c!==null&&(c.visible=s!==null),d!==null&&(d.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new Ms;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class o2 extends Qt{constructor(e,t,i,r,s,o,a,c,d,f){if(f=f!==void 0?f:vo,f!==vo&&f!==Ba)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&f===vo&&(i=oo),i===void 0&&f===Ba&&(i=xa),super(null,r,s,o,a,c,f,i,d),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:hn,this.minFilter=c!==void 0?c:hn,this.flipY=!1,this.generateMipmaps=!1}}class Hk extends Qr{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",c=1,d=null,f=null,h=null,p=null,g=null,y=null;const v=t.getContextAttributes();let _=null,w=null;const A=[],S=[],E=new Set,C=new Map,B=new Wt;B.layers.enable(1),B.viewport=new Ft;const L=new Wt;L.layers.enable(2),L.viewport=new Ft;const b=[B,L],R=new s2;R.layers.enable(1),R.layers.enable(2);let D=null,U=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(H){let te=A[H];return te===void 0&&(te=new K0,A[H]=te),te.getTargetRaySpace()},this.getControllerGrip=function(H){let te=A[H];return te===void 0&&(te=new K0,A[H]=te),te.getGripSpace()},this.getHand=function(H){let te=A[H];return te===void 0&&(te=new K0,A[H]=te),te.getHandSpace()};function Z(H){const te=S.indexOf(H.inputSource);if(te===-1)return;const ge=A[te];ge!==void 0&&ge.dispatchEvent({type:H.type,data:H.inputSource})}function W(){r.removeEventListener("select",Z),r.removeEventListener("selectstart",Z),r.removeEventListener("selectend",Z),r.removeEventListener("squeeze",Z),r.removeEventListener("squeezestart",Z),r.removeEventListener("squeezeend",Z),r.removeEventListener("end",W),r.removeEventListener("inputsourceschange",J);for(let H=0;H<A.length;H++){const te=S[H];te!==null&&(S[H]=null,A[H].disconnect(te))}D=null,U=null,e.setRenderTarget(_),g=null,p=null,h=null,r=null,w=null,ne.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(H){s=H,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(H){a=H,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return d||o},this.setReferenceSpace=function(H){d=H},this.getBaseLayer=function(){return p!==null?p:g},this.getBinding=function(){return h},this.getFrame=function(){return y},this.getSession=function(){return r},this.setSession=async function(H){if(r=H,r!==null){if(_=e.getRenderTarget(),r.addEventListener("select",Z),r.addEventListener("selectstart",Z),r.addEventListener("selectend",Z),r.addEventListener("squeeze",Z),r.addEventListener("squeezestart",Z),r.addEventListener("squeezeend",Z),r.addEventListener("end",W),r.addEventListener("inputsourceschange",J),v.xrCompatible!==!0&&await t.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const te={antialias:r.renderState.layers===void 0?v.antialias:!0,alpha:v.alpha,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:s};g=new XRWebGLLayer(r,t,te),r.updateRenderState({baseLayer:g}),w=new Br(g.framebufferWidth,g.framebufferHeight,{format:wi,type:Rs,encoding:e.outputEncoding,stencilBuffer:v.stencil})}else{let te=null,ge=null,ye=null;v.depth&&(ye=v.stencil?35056:33190,te=v.stencil?Ba:vo,ge=v.stencil?xa:oo);const Q={colorFormat:32856,depthFormat:ye,scaleFactor:s};h=new XRWebGLBinding(r,t),p=h.createProjectionLayer(Q),r.updateRenderState({layers:[p]}),w=new Br(p.textureWidth,p.textureHeight,{format:wi,type:Rs,depthTexture:new o2(p.textureWidth,p.textureHeight,ge,void 0,void 0,void 0,void 0,void 0,void 0,te),stencilBuffer:v.stencil,encoding:e.outputEncoding,samples:v.antialias?4:0});const Pe=e.properties.get(w);Pe.__ignoreDepthValues=p.ignoreDepthValues}w.isXRRenderTarget=!0,this.setFoveation(c),d=null,o=await r.requestReferenceSpace(a),ne.setContext(r),ne.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}};function J(H){for(let te=0;te<H.removed.length;te++){const ge=H.removed[te],ye=S.indexOf(ge);ye>=0&&(S[ye]=null,A[ye].disconnect(ge))}for(let te=0;te<H.added.length;te++){const ge=H.added[te];let ye=S.indexOf(ge);if(ye===-1){for(let Pe=0;Pe<A.length;Pe++)if(Pe>=S.length){S.push(ge),ye=Pe;break}else if(S[Pe]===null){S[Pe]=ge,ye=Pe;break}if(ye===-1)break}const Q=A[ye];Q&&Q.connect(ge)}}const $=new F,ce=new F;function ue(H,te,ge){$.setFromMatrixPosition(te.matrixWorld),ce.setFromMatrixPosition(ge.matrixWorld);const ye=$.distanceTo(ce),Q=te.projectionMatrix.elements,Pe=ge.projectionMatrix.elements,Oe=Q[14]/(Q[10]-1),He=Q[14]/(Q[10]+1),we=(Q[9]+1)/Q[5],Re=(Q[9]-1)/Q[5],fe=(Q[8]-1)/Q[0],ae=(Pe[8]+1)/Pe[0],Me=Oe*fe,ze=Oe*ae,Te=ye/(-fe+ae),Ze=Te*-fe;te.matrixWorld.decompose(H.position,H.quaternion,H.scale),H.translateX(Ze),H.translateZ(Te),H.matrixWorld.compose(H.position,H.quaternion,H.scale),H.matrixWorldInverse.copy(H.matrixWorld).invert();const Ke=Oe+Te,We=He+Te,vt=Me-Ze,yt=ze+(ye-Ze),z=we*He/We*Ke,N=Re*He/We*Ke;H.projectionMatrix.makePerspective(vt,yt,z,N,Ke,We)}function I(H,te){te===null?H.matrixWorld.copy(H.matrix):H.matrixWorld.multiplyMatrices(te.matrixWorld,H.matrix),H.matrixWorldInverse.copy(H.matrixWorld).invert()}this.updateCamera=function(H){if(r===null)return;R.near=L.near=B.near=H.near,R.far=L.far=B.far=H.far,(D!==R.near||U!==R.far)&&(r.updateRenderState({depthNear:R.near,depthFar:R.far}),D=R.near,U=R.far);const te=H.parent,ge=R.cameras;I(R,te);for(let Q=0;Q<ge.length;Q++)I(ge[Q],te);R.matrixWorld.decompose(R.position,R.quaternion,R.scale),H.matrix.copy(R.matrix),H.matrix.decompose(H.position,H.quaternion,H.scale);const ye=H.children;for(let Q=0,Pe=ye.length;Q<Pe;Q++)ye[Q].updateMatrixWorld(!0);ge.length===2?ue(R,B,L):R.projectionMatrix.copy(B.projectionMatrix)},this.getCamera=function(){return R},this.getFoveation=function(){if(!(p===null&&g===null))return c},this.setFoveation=function(H){c=H,p!==null&&(p.fixedFoveation=H),g!==null&&g.fixedFoveation!==void 0&&(g.fixedFoveation=H)},this.getPlanes=function(){return E};let G=null;function j(H,te){if(f=te.getViewerPose(d||o),y=te,f!==null){const ge=f.views;g!==null&&(e.setRenderTargetFramebuffer(w,g.framebuffer),e.setRenderTarget(w));let ye=!1;ge.length!==R.cameras.length&&(R.cameras.length=0,ye=!0);for(let Q=0;Q<ge.length;Q++){const Pe=ge[Q];let Oe=null;if(g!==null)Oe=g.getViewport(Pe);else{const we=h.getViewSubImage(p,Pe);Oe=we.viewport,Q===0&&(e.setRenderTargetTextures(w,we.colorTexture,p.ignoreDepthValues?void 0:we.depthStencilTexture),e.setRenderTarget(w))}let He=b[Q];He===void 0&&(He=new Wt,He.layers.enable(Q),He.viewport=new Ft,b[Q]=He),He.matrix.fromArray(Pe.transform.matrix),He.projectionMatrix.fromArray(Pe.projectionMatrix),He.viewport.set(Oe.x,Oe.y,Oe.width,Oe.height),Q===0&&R.matrix.copy(He.matrix),ye===!0&&R.cameras.push(He)}}for(let ge=0;ge<A.length;ge++){const ye=S[ge],Q=A[ge];ye!==null&&Q!==void 0&&Q.update(ye,te,d||o)}if(G&&G(H,te),te.detectedPlanes){i.dispatchEvent({type:"planesdetected",data:te.detectedPlanes});let ge=null;for(const ye of E)te.detectedPlanes.has(ye)||(ge===null&&(ge=[]),ge.push(ye));if(ge!==null)for(const ye of ge)E.delete(ye),C.delete(ye),i.dispatchEvent({type:"planeremoved",data:ye});for(const ye of te.detectedPlanes)if(!E.has(ye))E.add(ye),C.set(ye,te.lastChangedTime),i.dispatchEvent({type:"planeadded",data:ye});else{const Q=C.get(ye);ye.lastChangedTime>Q&&(C.set(ye,ye.lastChangedTime),i.dispatchEvent({type:"planechanged",data:ye}))}}y=null}const ne=new $T;ne.setAnimationLoop(j),this.setAnimationLoop=function(H){G=H},this.dispose=function(){}}}function jk(n,e){function t(v,_){_.color.getRGB(v.fogColor.value,QT(n)),_.isFog?(v.fogNear.value=_.near,v.fogFar.value=_.far):_.isFogExp2&&(v.fogDensity.value=_.density)}function i(v,_,w,A,S){_.isMeshBasicMaterial||_.isMeshLambertMaterial?r(v,_):_.isMeshToonMaterial?(r(v,_),f(v,_)):_.isMeshPhongMaterial?(r(v,_),d(v,_)):_.isMeshStandardMaterial?(r(v,_),h(v,_),_.isMeshPhysicalMaterial&&p(v,_,S)):_.isMeshMatcapMaterial?(r(v,_),g(v,_)):_.isMeshDepthMaterial?r(v,_):_.isMeshDistanceMaterial?(r(v,_),y(v,_)):_.isMeshNormalMaterial?r(v,_):_.isLineBasicMaterial?(s(v,_),_.isLineDashedMaterial&&o(v,_)):_.isPointsMaterial?a(v,_,w,A):_.isSpriteMaterial?c(v,_):_.isShadowMaterial?(v.color.value.copy(_.color),v.opacity.value=_.opacity):_.isShaderMaterial&&(_.uniformsNeedUpdate=!1)}function r(v,_){v.opacity.value=_.opacity,_.color&&v.diffuse.value.copy(_.color),_.emissive&&v.emissive.value.copy(_.emissive).multiplyScalar(_.emissiveIntensity),_.map&&(v.map.value=_.map),_.alphaMap&&(v.alphaMap.value=_.alphaMap),_.bumpMap&&(v.bumpMap.value=_.bumpMap,v.bumpScale.value=_.bumpScale,_.side===Ci&&(v.bumpScale.value*=-1)),_.displacementMap&&(v.displacementMap.value=_.displacementMap,v.displacementScale.value=_.displacementScale,v.displacementBias.value=_.displacementBias),_.emissiveMap&&(v.emissiveMap.value=_.emissiveMap),_.normalMap&&(v.normalMap.value=_.normalMap,v.normalScale.value.copy(_.normalScale),_.side===Ci&&v.normalScale.value.negate()),_.specularMap&&(v.specularMap.value=_.specularMap),_.alphaTest>0&&(v.alphaTest.value=_.alphaTest);const w=e.get(_).envMap;if(w&&(v.envMap.value=w,v.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=_.reflectivity,v.ior.value=_.ior,v.refractionRatio.value=_.refractionRatio),_.lightMap){v.lightMap.value=_.lightMap;const E=n.physicallyCorrectLights!==!0?Math.PI:1;v.lightMapIntensity.value=_.lightMapIntensity*E}_.aoMap&&(v.aoMap.value=_.aoMap,v.aoMapIntensity.value=_.aoMapIntensity);let A;_.map?A=_.map:_.specularMap?A=_.specularMap:_.displacementMap?A=_.displacementMap:_.normalMap?A=_.normalMap:_.bumpMap?A=_.bumpMap:_.roughnessMap?A=_.roughnessMap:_.metalnessMap?A=_.metalnessMap:_.alphaMap?A=_.alphaMap:_.emissiveMap?A=_.emissiveMap:_.clearcoatMap?A=_.clearcoatMap:_.clearcoatNormalMap?A=_.clearcoatNormalMap:_.clearcoatRoughnessMap?A=_.clearcoatRoughnessMap:_.iridescenceMap?A=_.iridescenceMap:_.iridescenceThicknessMap?A=_.iridescenceThicknessMap:_.specularIntensityMap?A=_.specularIntensityMap:_.specularColorMap?A=_.specularColorMap:_.transmissionMap?A=_.transmissionMap:_.thicknessMap?A=_.thicknessMap:_.sheenColorMap?A=_.sheenColorMap:_.sheenRoughnessMap&&(A=_.sheenRoughnessMap),A!==void 0&&(A.isWebGLRenderTarget&&(A=A.texture),A.matrixAutoUpdate===!0&&A.updateMatrix(),v.uvTransform.value.copy(A.matrix));let S;_.aoMap?S=_.aoMap:_.lightMap&&(S=_.lightMap),S!==void 0&&(S.isWebGLRenderTarget&&(S=S.texture),S.matrixAutoUpdate===!0&&S.updateMatrix(),v.uv2Transform.value.copy(S.matrix))}function s(v,_){v.diffuse.value.copy(_.color),v.opacity.value=_.opacity}function o(v,_){v.dashSize.value=_.dashSize,v.totalSize.value=_.dashSize+_.gapSize,v.scale.value=_.scale}function a(v,_,w,A){v.diffuse.value.copy(_.color),v.opacity.value=_.opacity,v.size.value=_.size*w,v.scale.value=A*.5,_.map&&(v.map.value=_.map),_.alphaMap&&(v.alphaMap.value=_.alphaMap),_.alphaTest>0&&(v.alphaTest.value=_.alphaTest);let S;_.map?S=_.map:_.alphaMap&&(S=_.alphaMap),S!==void 0&&(S.matrixAutoUpdate===!0&&S.updateMatrix(),v.uvTransform.value.copy(S.matrix))}function c(v,_){v.diffuse.value.copy(_.color),v.opacity.value=_.opacity,v.rotation.value=_.rotation,_.map&&(v.map.value=_.map),_.alphaMap&&(v.alphaMap.value=_.alphaMap),_.alphaTest>0&&(v.alphaTest.value=_.alphaTest);let w;_.map?w=_.map:_.alphaMap&&(w=_.alphaMap),w!==void 0&&(w.matrixAutoUpdate===!0&&w.updateMatrix(),v.uvTransform.value.copy(w.matrix))}function d(v,_){v.specular.value.copy(_.specular),v.shininess.value=Math.max(_.shininess,1e-4)}function f(v,_){_.gradientMap&&(v.gradientMap.value=_.gradientMap)}function h(v,_){v.roughness.value=_.roughness,v.metalness.value=_.metalness,_.roughnessMap&&(v.roughnessMap.value=_.roughnessMap),_.metalnessMap&&(v.metalnessMap.value=_.metalnessMap),e.get(_).envMap&&(v.envMapIntensity.value=_.envMapIntensity)}function p(v,_,w){v.ior.value=_.ior,_.sheen>0&&(v.sheenColor.value.copy(_.sheenColor).multiplyScalar(_.sheen),v.sheenRoughness.value=_.sheenRoughness,_.sheenColorMap&&(v.sheenColorMap.value=_.sheenColorMap),_.sheenRoughnessMap&&(v.sheenRoughnessMap.value=_.sheenRoughnessMap)),_.clearcoat>0&&(v.clearcoat.value=_.clearcoat,v.clearcoatRoughness.value=_.clearcoatRoughness,_.clearcoatMap&&(v.clearcoatMap.value=_.clearcoatMap),_.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=_.clearcoatRoughnessMap),_.clearcoatNormalMap&&(v.clearcoatNormalScale.value.copy(_.clearcoatNormalScale),v.clearcoatNormalMap.value=_.clearcoatNormalMap,_.side===Ci&&v.clearcoatNormalScale.value.negate())),_.iridescence>0&&(v.iridescence.value=_.iridescence,v.iridescenceIOR.value=_.iridescenceIOR,v.iridescenceThicknessMinimum.value=_.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=_.iridescenceThicknessRange[1],_.iridescenceMap&&(v.iridescenceMap.value=_.iridescenceMap),_.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=_.iridescenceThicknessMap)),_.transmission>0&&(v.transmission.value=_.transmission,v.transmissionSamplerMap.value=w.texture,v.transmissionSamplerSize.value.set(w.width,w.height),_.transmissionMap&&(v.transmissionMap.value=_.transmissionMap),v.thickness.value=_.thickness,_.thicknessMap&&(v.thicknessMap.value=_.thicknessMap),v.attenuationDistance.value=_.attenuationDistance,v.attenuationColor.value.copy(_.attenuationColor)),v.specularIntensity.value=_.specularIntensity,v.specularColor.value.copy(_.specularColor),_.specularIntensityMap&&(v.specularIntensityMap.value=_.specularIntensityMap),_.specularColorMap&&(v.specularColorMap.value=_.specularColorMap)}function g(v,_){_.matcap&&(v.matcap.value=_.matcap)}function y(v,_){v.referencePosition.value.copy(_.referencePosition),v.nearDistance.value=_.nearDistance,v.farDistance.value=_.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:i}}function Vk(n,e,t,i){let r={},s={},o=[];const a=t.isWebGL2?n.getParameter(35375):0;function c(A,S){const E=S.program;i.uniformBlockBinding(A,E)}function d(A,S){let E=r[A.id];E===void 0&&(y(A),E=f(A),r[A.id]=E,A.addEventListener("dispose",_));const C=S.program;i.updateUBOMapping(A,C);const B=e.render.frame;s[A.id]!==B&&(p(A),s[A.id]=B)}function f(A){const S=h();A.__bindingPointIndex=S;const E=n.createBuffer(),C=A.__size,B=A.usage;return n.bindBuffer(35345,E),n.bufferData(35345,C,B),n.bindBuffer(35345,null),n.bindBufferBase(35345,S,E),E}function h(){for(let A=0;A<a;A++)if(o.indexOf(A)===-1)return o.push(A),A;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(A){const S=r[A.id],E=A.uniforms,C=A.__cache;n.bindBuffer(35345,S);for(let B=0,L=E.length;B<L;B++){const b=E[B];if(g(b,B,C)===!0){const R=b.__offset,D=Array.isArray(b.value)?b.value:[b.value];let U=0;for(let Z=0;Z<D.length;Z++){const W=D[Z],J=v(W);typeof W=="number"?(b.__data[0]=W,n.bufferSubData(35345,R+U,b.__data)):W.isMatrix3?(b.__data[0]=W.elements[0],b.__data[1]=W.elements[1],b.__data[2]=W.elements[2],b.__data[3]=W.elements[0],b.__data[4]=W.elements[3],b.__data[5]=W.elements[4],b.__data[6]=W.elements[5],b.__data[7]=W.elements[0],b.__data[8]=W.elements[6],b.__data[9]=W.elements[7],b.__data[10]=W.elements[8],b.__data[11]=W.elements[0]):(W.toArray(b.__data,U),U+=J.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(35345,R,b.__data)}}n.bindBuffer(35345,null)}function g(A,S,E){const C=A.value;if(E[S]===void 0){if(typeof C=="number")E[S]=C;else{const B=Array.isArray(C)?C:[C],L=[];for(let b=0;b<B.length;b++)L.push(B[b].clone());E[S]=L}return!0}else if(typeof C=="number"){if(E[S]!==C)return E[S]=C,!0}else{const B=Array.isArray(E[S])?E[S]:[E[S]],L=Array.isArray(C)?C:[C];for(let b=0;b<B.length;b++){const R=B[b];if(R.equals(L[b])===!1)return R.copy(L[b]),!0}}return!1}function y(A){const S=A.uniforms;let E=0;const C=16;let B=0;for(let L=0,b=S.length;L<b;L++){const R=S[L],D={boundary:0,storage:0},U=Array.isArray(R.value)?R.value:[R.value];for(let Z=0,W=U.length;Z<W;Z++){const J=U[Z],$=v(J);D.boundary+=$.boundary,D.storage+=$.storage}if(R.__data=new Float32Array(D.storage/Float32Array.BYTES_PER_ELEMENT),R.__offset=E,L>0){B=E%C;const Z=C-B;B!==0&&Z-D.boundary<0&&(E+=C-B,R.__offset=E)}E+=D.storage}return B=E%C,B>0&&(E+=C-B),A.__size=E,A.__cache={},this}function v(A){const S={boundary:0,storage:0};return typeof A=="number"?(S.boundary=4,S.storage=4):A.isVector2?(S.boundary=8,S.storage=8):A.isVector3||A.isColor?(S.boundary=16,S.storage=12):A.isVector4?(S.boundary=16,S.storage=16):A.isMatrix3?(S.boundary=48,S.storage=48):A.isMatrix4?(S.boundary=64,S.storage=64):A.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",A),S}function _(A){const S=A.target;S.removeEventListener("dispose",_);const E=o.indexOf(S.__bindingPointIndex);o.splice(E,1),n.deleteBuffer(r[S.id]),delete r[S.id],delete s[S.id]}function w(){for(const A in r)n.deleteBuffer(r[A]);o=[],r={},s={}}return{bind:c,update:d,dispose:w}}function Wk(){const n=sd("canvas");return n.style.display="block",n}function P_(n={}){this.isWebGLRenderer=!0;const e=n.canvas!==void 0?n.canvas:Wk(),t=n.context!==void 0?n.context:null,i=n.depth!==void 0?n.depth:!0,r=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,a=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,c=n.powerPreference!==void 0?n.powerPreference:"default",d=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let f;t!==null?f=t.getContextAttributes().alpha:f=n.alpha!==void 0?n.alpha:!1;let h=null,p=null;const g=[],y=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=So,this.physicallyCorrectLights=!1,this.toneMapping=br,this.toneMappingExposure=1;const v=this;let _=!1,w=0,A=0,S=null,E=-1,C=null;const B=new Ft,L=new Ft;let b=null,R=e.width,D=e.height,U=1,Z=null,W=null;const J=new Ft(0,0,R,D),$=new Ft(0,0,R,D);let ce=!1;const ue=new Bm;let I=!1,G=!1,j=null;const ne=new st,H=new pe,te=new F,ge={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ye(){return S===null?U:1}let Q=t;function Pe(O,ie){for(let he=0;he<O.length;he++){const ee=O[he],me=e.getContext(ee,ie);if(me!==null)return me}return null}try{const O={alpha:!0,depth:i,stencil:r,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:c,failIfMajorPerformanceCaveat:d};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${yd}`),e.addEventListener("webglcontextlost",$e,!1),e.addEventListener("webglcontextrestored",Je,!1),e.addEventListener("webglcontextcreationerror",X,!1),Q===null){const ie=["webgl2","webgl","experimental-webgl"];if(v.isWebGL1Renderer===!0&&ie.shift(),Q=Pe(ie,O),Q===null)throw Pe(ie)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}Q.getShaderPrecisionFormat===void 0&&(Q.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(O){throw console.error("THREE.WebGLRenderer: "+O.message),O}let Oe,He,we,Re,fe,ae,Me,ze,Te,Ze,Ke,We,vt,yt,z,N,oe,Ae,Ee,be,nt,Ne,ve,Ye;function it(){Oe=new aO(Q),He=new tO(Q,Oe,n),Oe.init(He),Ne=new r2(Q,Oe,He),we=new zk(Q,Oe,He),Re=new uO,fe=new bk,ae=new Uk(Q,Oe,we,fe,He,Ne,Re),Me=new iO(v),ze=new oO(v),Te=new xD(Q,He),ve=new $F(Q,Oe,Te,He),Ze=new lO(Q,Te,Re,ve),Ke=new pO(Q,Ze,Te,Re),Ee=new hO(Q,He,ae),N=new nO(fe),We=new Ck(v,Me,ze,Oe,He,ve,N),vt=new jk(v,fe),yt=new Bk,z=new Nk(Oe,He),Ae=new ZF(v,Me,ze,we,Ke,f,o),oe=new kk(v,Ke,He),Ye=new Vk(Q,Re,He,we),be=new eO(Q,Oe,Re,He),nt=new cO(Q,Oe,Re,He),Re.programs=We.programs,v.capabilities=He,v.extensions=Oe,v.properties=fe,v.renderLists=yt,v.shadowMap=oe,v.state=we,v.info=Re}it();const je=new Hk(v,Q);this.xr=je,this.getContext=function(){return Q},this.getContextAttributes=function(){return Q.getContextAttributes()},this.forceContextLoss=function(){const O=Oe.get("WEBGL_lose_context");O&&O.loseContext()},this.forceContextRestore=function(){const O=Oe.get("WEBGL_lose_context");O&&O.restoreContext()},this.getPixelRatio=function(){return U},this.setPixelRatio=function(O){O!==void 0&&(U=O,this.setSize(R,D,!1))},this.getSize=function(O){return O.set(R,D)},this.setSize=function(O,ie,he){if(je.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}R=O,D=ie,e.width=Math.floor(O*U),e.height=Math.floor(ie*U),he!==!1&&(e.style.width=O+"px",e.style.height=ie+"px"),this.setViewport(0,0,O,ie)},this.getDrawingBufferSize=function(O){return O.set(R*U,D*U).floor()},this.setDrawingBufferSize=function(O,ie,he){R=O,D=ie,U=he,e.width=Math.floor(O*he),e.height=Math.floor(ie*he),this.setViewport(0,0,O,ie)},this.getCurrentViewport=function(O){return O.copy(B)},this.getViewport=function(O){return O.copy(J)},this.setViewport=function(O,ie,he,ee){O.isVector4?J.set(O.x,O.y,O.z,O.w):J.set(O,ie,he,ee),we.viewport(B.copy(J).multiplyScalar(U).floor())},this.getScissor=function(O){return O.copy($)},this.setScissor=function(O,ie,he,ee){O.isVector4?$.set(O.x,O.y,O.z,O.w):$.set(O,ie,he,ee),we.scissor(L.copy($).multiplyScalar(U).floor())},this.getScissorTest=function(){return ce},this.setScissorTest=function(O){we.setScissorTest(ce=O)},this.setOpaqueSort=function(O){Z=O},this.setTransparentSort=function(O){W=O},this.getClearColor=function(O){return O.copy(Ae.getClearColor())},this.setClearColor=function(){Ae.setClearColor.apply(Ae,arguments)},this.getClearAlpha=function(){return Ae.getClearAlpha()},this.setClearAlpha=function(){Ae.setClearAlpha.apply(Ae,arguments)},this.clear=function(O=!0,ie=!0,he=!0){let ee=0;O&&(ee|=16384),ie&&(ee|=256),he&&(ee|=1024),Q.clear(ee)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",$e,!1),e.removeEventListener("webglcontextrestored",Je,!1),e.removeEventListener("webglcontextcreationerror",X,!1),yt.dispose(),z.dispose(),fe.dispose(),Me.dispose(),ze.dispose(),Ke.dispose(),ve.dispose(),Ye.dispose(),We.dispose(),je.dispose(),je.removeEventListener("sessionstart",Le),je.removeEventListener("sessionend",Xe),j&&(j.dispose(),j=null),xt.stop()};function $e(O){O.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),_=!0}function Je(){console.log("THREE.WebGLRenderer: Context Restored."),_=!1;const O=Re.autoReset,ie=oe.enabled,he=oe.autoUpdate,ee=oe.needsUpdate,me=oe.type;it(),Re.autoReset=O,oe.enabled=ie,oe.autoUpdate=he,oe.needsUpdate=ee,oe.type=me}function X(O){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",O.statusMessage)}function xe(O){const ie=O.target;ie.removeEventListener("dispose",xe),ke(ie)}function ke(O){V(O),fe.remove(O)}function V(O){const ie=fe.get(O).programs;ie!==void 0&&(ie.forEach(function(he){We.releaseProgram(he)}),O.isShaderMaterial&&We.releaseShaderCache(O))}this.renderBufferDirect=function(O,ie,he,ee,me,et){ie===null&&(ie=ge);const ot=me.isMesh&&me.matrixWorld.determinant()<0,dt=qm(O,ie,he,ee,me);we.setMaterial(ee,ot);let mt=he.index,St=1;ee.wireframe===!0&&(mt=Ze.getWireframeAttribute(he),St=2);const _t=he.drawRange,wt=he.attributes.position;let an=_t.start*St,ri=(_t.start+_t.count)*St;et!==null&&(an=Math.max(an,et.start*St),ri=Math.min(ri,(et.start+et.count)*St)),mt!==null?(an=Math.max(an,0),ri=Math.min(ri,mt.count)):wt!=null&&(an=Math.max(an,0),ri=Math.min(ri,wt.count));const dr=ri-an;if(dr<0||dr===1/0)return;ve.setup(me,ee,dt,he,mt);let es,Xt=be;if(mt!==null&&(es=Te.get(mt),Xt=nt,Xt.setIndex(es)),me.isMesh)ee.wireframe===!0?(we.setLineWidth(ee.wireframeLinewidth*ye()),Xt.setMode(1)):Xt.setMode(4);else if(me.isLine){let ft=ee.linewidth;ft===void 0&&(ft=1),we.setLineWidth(ft*ye()),me.isLineSegments?Xt.setMode(1):me.isLineLoop?Xt.setMode(2):Xt.setMode(3)}else me.isPoints?Xt.setMode(0):me.isSprite&&Xt.setMode(4);if(me.isInstancedMesh)Xt.renderInstances(an,dr,me.count);else if(he.isInstancedBufferGeometry){const ft=he._maxInstanceCount!==void 0?he._maxInstanceCount:1/0,Do=Math.min(he.instanceCount,ft);Xt.renderInstances(an,dr,Do)}else Xt.render(an,dr)},this.compile=function(O,ie){function he(ee,me,et){ee.transparent===!0&&ee.side===Mr&&ee.forceSinglePass===!1?(ee.side=Ci,ee.needsUpdate=!0,Mn(ee,me,et),ee.side=qr,ee.needsUpdate=!0,Mn(ee,me,et),ee.side=Mr):Mn(ee,me,et)}p=z.get(O),p.init(),y.push(p),O.traverseVisible(function(ee){ee.isLight&&ee.layers.test(ie.layers)&&(p.pushLight(ee),ee.castShadow&&p.pushShadow(ee))}),p.setupLights(v.physicallyCorrectLights),O.traverse(function(ee){const me=ee.material;if(me)if(Array.isArray(me))for(let et=0;et<me.length;et++){const ot=me[et];he(ot,O,ee)}else he(me,O,ee)}),y.pop(),p=null};let se=null;function _e(O){se&&se(O)}function Le(){xt.stop()}function Xe(){xt.start()}const xt=new $T;xt.setAnimationLoop(_e),typeof self<"u"&&xt.setContext(self),this.setAnimationLoop=function(O){se=O,je.setAnimationLoop(O),O===null?xt.stop():xt.start()},je.addEventListener("sessionstart",Le),je.addEventListener("sessionend",Xe),this.render=function(O,ie){if(ie!==void 0&&ie.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(_===!0)return;O.matrixWorldAutoUpdate===!0&&O.updateMatrixWorld(),ie.parent===null&&ie.matrixWorldAutoUpdate===!0&&ie.updateMatrixWorld(),je.enabled===!0&&je.isPresenting===!0&&(je.cameraAutoUpdate===!0&&je.updateCamera(ie),ie=je.getCamera()),O.isScene===!0&&O.onBeforeRender(v,O,ie,S),p=z.get(O,y.length),p.init(),y.push(p),ne.multiplyMatrices(ie.projectionMatrix,ie.matrixWorldInverse),ue.setFromProjectionMatrix(ne),G=this.localClippingEnabled,I=N.init(this.clippingPlanes,G),h=yt.get(O,g.length),h.init(),g.push(h),Dt(O,ie,0,v.sortObjects),h.finish(),v.sortObjects===!0&&h.sort(Z,W),I===!0&&N.beginShadows();const he=p.state.shadowsArray;if(oe.render(he,O,ie),I===!0&&N.endShadows(),this.info.autoReset===!0&&this.info.reset(),Ae.render(h,O),p.setupLights(v.physicallyCorrectLights),ie.isArrayCamera){const ee=ie.cameras;for(let me=0,et=ee.length;me<et;me++){const ot=ee[me];kt(h,O,ot,ot.viewport)}}else kt(h,O,ie);S!==null&&(ae.updateMultisampleRenderTarget(S),ae.updateRenderTargetMipmap(S)),O.isScene===!0&&O.onAfterRender(v,O,ie),ve.resetDefaultState(),E=-1,C=null,y.pop(),y.length>0?p=y[y.length-1]:p=null,g.pop(),g.length>0?h=g[g.length-1]:h=null};function Dt(O,ie,he,ee){if(O.visible===!1)return;if(O.layers.test(ie.layers)){if(O.isGroup)he=O.renderOrder;else if(O.isLOD)O.autoUpdate===!0&&O.update(ie);else if(O.isLight)p.pushLight(O),O.castShadow&&p.pushShadow(O);else if(O.isSprite){if(!O.frustumCulled||ue.intersectsSprite(O)){ee&&te.setFromMatrixPosition(O.matrixWorld).applyMatrix4(ne);const ot=Ke.update(O),dt=O.material;dt.visible&&h.push(O,ot,dt,he,te.z,null)}}else if((O.isMesh||O.isLine||O.isPoints)&&(O.isSkinnedMesh&&O.skeleton.frame!==Re.render.frame&&(O.skeleton.update(),O.skeleton.frame=Re.render.frame),!O.frustumCulled||ue.intersectsObject(O))){ee&&te.setFromMatrixPosition(O.matrixWorld).applyMatrix4(ne);const ot=Ke.update(O),dt=O.material;if(Array.isArray(dt)){const mt=ot.groups;for(let St=0,_t=mt.length;St<_t;St++){const wt=mt[St],an=dt[wt.materialIndex];an&&an.visible&&h.push(O,ot,an,he,te.z,wt)}}else dt.visible&&h.push(O,ot,dt,he,te.z,null)}}const et=O.children;for(let ot=0,dt=et.length;ot<dt;ot++)Dt(et[ot],ie,he,ee)}function kt(O,ie,he,ee){const me=O.opaque,et=O.transmissive,ot=O.transparent;p.setupLightsView(he),I===!0&&N.setGlobalState(v.clippingPlanes,he),et.length>0&&ii(me,ie,he),ee&&we.viewport(B.copy(ee)),me.length>0&&Tt(me,ie,he),et.length>0&&Tt(et,ie,he),ot.length>0&&Tt(ot,ie,he),we.buffers.depth.setTest(!0),we.buffers.depth.setMask(!0),we.buffers.color.setMask(!0),we.setPolygonOffset(!1)}function ii(O,ie,he){const ee=He.isWebGL2;j===null&&(j=new Br(1,1,{generateMipmaps:!0,type:Oe.has("EXT_color_buffer_half_float")?ic:Rs,minFilter:Kr,samples:ee&&s===!0?4:0})),v.getDrawingBufferSize(H),ee?j.setSize(H.x,H.y):j.setSize(im(H.x),im(H.y));const me=v.getRenderTarget();v.setRenderTarget(j),v.clear();const et=v.toneMapping;v.toneMapping=br,Tt(O,ie,he),v.toneMapping=et,ae.updateMultisampleRenderTarget(j),ae.updateRenderTargetMipmap(j),v.setRenderTarget(me)}function Tt(O,ie,he){const ee=ie.isScene===!0?ie.overrideMaterial:null;for(let me=0,et=O.length;me<et;me++){const ot=O[me],dt=ot.object,mt=ot.geometry,St=ee===null?ot.material:ee,_t=ot.group;dt.layers.test(he.layers)&&Rn(dt,ie,he,mt,St,_t)}}function Rn(O,ie,he,ee,me,et){O.onBeforeRender(v,ie,he,ee,me,et),O.modelViewMatrix.multiplyMatrices(he.matrixWorldInverse,O.matrixWorld),O.normalMatrix.getNormalMatrix(O.modelViewMatrix),me.onBeforeRender(v,ie,he,ee,O,et),me.transparent===!0&&me.side===Mr&&me.forceSinglePass===!1?(me.side=Ci,me.needsUpdate=!0,v.renderBufferDirect(he,ie,ee,me,O,et),me.side=qr,me.needsUpdate=!0,v.renderBufferDirect(he,ie,ee,me,O,et),me.side=Mr):v.renderBufferDirect(he,ie,ee,me,O,et),O.onAfterRender(v,ie,he,ee,me,et)}function Mn(O,ie,he){ie.isScene!==!0&&(ie=ge);const ee=fe.get(O),me=p.state.lights,et=p.state.shadowsArray,ot=me.state.version,dt=We.getParameters(O,me.state,et,ie,he),mt=We.getProgramCacheKey(dt);let St=ee.programs;ee.environment=O.isMeshStandardMaterial?ie.environment:null,ee.fog=ie.fog,ee.envMap=(O.isMeshStandardMaterial?ze:Me).get(O.envMap||ee.environment),St===void 0&&(O.addEventListener("dispose",xe),St=new Map,ee.programs=St);let _t=St.get(mt);if(_t!==void 0){if(ee.currentProgram===_t&&ee.lightsStateVersion===ot)return qd(O,dt),_t}else dt.uniforms=We.getUniforms(O),O.onBuild(he,dt,v),O.onBeforeCompile(dt,v),_t=We.acquireProgram(dt,mt),St.set(mt,_t),ee.uniforms=dt.uniforms;const wt=ee.uniforms;(!O.isShaderMaterial&&!O.isRawShaderMaterial||O.clipping===!0)&&(wt.clippingPlanes=N.uniform),qd(O,dt),ee.needsLights=Cc(O),ee.lightsStateVersion=ot,ee.needsLights&&(wt.ambientLightColor.value=me.state.ambient,wt.lightProbe.value=me.state.probe,wt.directionalLights.value=me.state.directional,wt.directionalLightShadows.value=me.state.directionalShadow,wt.spotLights.value=me.state.spot,wt.spotLightShadows.value=me.state.spotShadow,wt.rectAreaLights.value=me.state.rectArea,wt.ltc_1.value=me.state.rectAreaLTC1,wt.ltc_2.value=me.state.rectAreaLTC2,wt.pointLights.value=me.state.point,wt.pointLightShadows.value=me.state.pointShadow,wt.hemisphereLights.value=me.state.hemi,wt.directionalShadowMap.value=me.state.directionalShadowMap,wt.directionalShadowMatrix.value=me.state.directionalShadowMatrix,wt.spotShadowMap.value=me.state.spotShadowMap,wt.spotLightMatrix.value=me.state.spotLightMatrix,wt.spotLightMap.value=me.state.spotLightMap,wt.pointShadowMap.value=me.state.pointShadowMap,wt.pointShadowMatrix.value=me.state.pointShadowMatrix);const an=_t.getUniforms(),ri=Ep.seqWithValue(an.seq,wt);return ee.currentProgram=_t,ee.uniformsList=ri,_t}function qd(O,ie){const he=fe.get(O);he.outputEncoding=ie.outputEncoding,he.instancing=ie.instancing,he.skinning=ie.skinning,he.morphTargets=ie.morphTargets,he.morphNormals=ie.morphNormals,he.morphColors=ie.morphColors,he.morphTargetsCount=ie.morphTargetsCount,he.numClippingPlanes=ie.numClippingPlanes,he.numIntersection=ie.numClipIntersection,he.vertexAlphas=ie.vertexAlphas,he.vertexTangents=ie.vertexTangents,he.toneMapping=ie.toneMapping}function qm(O,ie,he,ee,me){ie.isScene!==!0&&(ie=ge),ae.resetTextureUnits();const et=ie.fog,ot=ee.isMeshStandardMaterial?ie.environment:null,dt=S===null?v.outputEncoding:S.isXRRenderTarget===!0?S.texture.encoding:So,mt=(ee.isMeshStandardMaterial?ze:Me).get(ee.envMap||ot),St=ee.vertexColors===!0&&!!he.attributes.color&&he.attributes.color.itemSize===4,_t=!!ee.normalMap&&!!he.attributes.tangent,wt=!!he.morphAttributes.position,an=!!he.morphAttributes.normal,ri=!!he.morphAttributes.color,dr=ee.toneMapped?v.toneMapping:br,es=he.morphAttributes.position||he.morphAttributes.normal||he.morphAttributes.color,Xt=es!==void 0?es.length:0,ft=fe.get(ee),Do=p.state.lights;if(I===!0&&(G===!0||O!==C)){const Nt=O===C&&ee.id===E;N.setState(ee,O,Nt)}let ln=!1;ee.version===ft.__version?(ft.needsLights&&ft.lightsStateVersion!==Do.state.version||ft.outputEncoding!==dt||me.isInstancedMesh&&ft.instancing===!1||!me.isInstancedMesh&&ft.instancing===!0||me.isSkinnedMesh&&ft.skinning===!1||!me.isSkinnedMesh&&ft.skinning===!0||ft.envMap!==mt||ee.fog===!0&&ft.fog!==et||ft.numClippingPlanes!==void 0&&(ft.numClippingPlanes!==N.numPlanes||ft.numIntersection!==N.numIntersection)||ft.vertexAlphas!==St||ft.vertexTangents!==_t||ft.morphTargets!==wt||ft.morphNormals!==an||ft.morphColors!==ri||ft.toneMapping!==dr||He.isWebGL2===!0&&ft.morphTargetsCount!==Xt)&&(ln=!0):(ln=!0,ft.__version=ee.version);let ts=ft.currentProgram;ln===!0&&(ts=Mn(ee,ie,me));let Ga=!1,Hi=!1,ji=!1;const ut=ts.getUniforms(),Et=ft.uniforms;if(we.useProgram(ts.program)&&(Ga=!0,Hi=!0,ji=!0),ee.id!==E&&(E=ee.id,Hi=!0),Ga||C!==O){if(ut.setValue(Q,"projectionMatrix",O.projectionMatrix),He.logarithmicDepthBuffer&&ut.setValue(Q,"logDepthBufFC",2/(Math.log(O.far+1)/Math.LN2)),C!==O&&(C=O,Hi=!0,ji=!0),ee.isShaderMaterial||ee.isMeshPhongMaterial||ee.isMeshToonMaterial||ee.isMeshStandardMaterial||ee.envMap){const Nt=ut.map.cameraPosition;Nt!==void 0&&Nt.setValue(Q,te.setFromMatrixPosition(O.matrixWorld))}(ee.isMeshPhongMaterial||ee.isMeshToonMaterial||ee.isMeshLambertMaterial||ee.isMeshBasicMaterial||ee.isMeshStandardMaterial||ee.isShaderMaterial)&&ut.setValue(Q,"isOrthographic",O.isOrthographicCamera===!0),(ee.isMeshPhongMaterial||ee.isMeshToonMaterial||ee.isMeshLambertMaterial||ee.isMeshBasicMaterial||ee.isMeshStandardMaterial||ee.isShaderMaterial||ee.isShadowMaterial||me.isSkinnedMesh)&&ut.setValue(Q,"viewMatrix",O.matrixWorldInverse)}if(me.isSkinnedMesh){ut.setOptional(Q,me,"bindMatrix"),ut.setOptional(Q,me,"bindMatrixInverse");const Nt=me.skeleton;Nt&&(He.floatVertexTextures?(Nt.boneTexture===null&&Nt.computeBoneTexture(),ut.setValue(Q,"boneTexture",Nt.boneTexture,ae),ut.setValue(Q,"boneTextureSize",Nt.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Vi=he.morphAttributes;if((Vi.position!==void 0||Vi.normal!==void 0||Vi.color!==void 0&&He.isWebGL2===!0)&&Ee.update(me,he,ee,ts),(Hi||ft.receiveShadow!==me.receiveShadow)&&(ft.receiveShadow=me.receiveShadow,ut.setValue(Q,"receiveShadow",me.receiveShadow)),ee.isMeshGouraudMaterial&&ee.envMap!==null&&(Et.envMap.value=mt,Et.flipEnvMap.value=mt.isCubeTexture&&mt.isRenderTargetTexture===!1?-1:1),Hi&&(ut.setValue(Q,"toneMappingExposure",v.toneMappingExposure),ft.needsLights&&Kd(Et,ji),et&&ee.fog===!0&&vt.refreshFogUniforms(Et,et),vt.refreshMaterialUniforms(Et,ee,U,D,j),Ep.upload(Q,ft.uniformsList,Et,ae)),ee.isShaderMaterial&&ee.uniformsNeedUpdate===!0&&(Ep.upload(Q,ft.uniformsList,Et,ae),ee.uniformsNeedUpdate=!1),ee.isSpriteMaterial&&ut.setValue(Q,"center",me.center),ut.setValue(Q,"modelViewMatrix",me.modelViewMatrix),ut.setValue(Q,"normalMatrix",me.normalMatrix),ut.setValue(Q,"modelMatrix",me.matrixWorld),ee.isShaderMaterial||ee.isRawShaderMaterial){const Nt=ee.uniformsGroups;for(let Ln=0,ns=Nt.length;Ln<ns;Ln++)if(He.isWebGL2){const is=Nt[Ln];Ye.update(is,ts),Ye.bind(is,ts)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return ts}function Kd(O,ie){O.ambientLightColor.needsUpdate=ie,O.lightProbe.needsUpdate=ie,O.directionalLights.needsUpdate=ie,O.directionalLightShadows.needsUpdate=ie,O.pointLights.needsUpdate=ie,O.pointLightShadows.needsUpdate=ie,O.spotLights.needsUpdate=ie,O.spotLightShadows.needsUpdate=ie,O.rectAreaLights.needsUpdate=ie,O.hemisphereLights.needsUpdate=ie}function Cc(O){return O.isMeshLambertMaterial||O.isMeshToonMaterial||O.isMeshPhongMaterial||O.isMeshStandardMaterial||O.isShadowMaterial||O.isShaderMaterial&&O.lights===!0}this.getActiveCubeFace=function(){return w},this.getActiveMipmapLevel=function(){return A},this.getRenderTarget=function(){return S},this.setRenderTargetTextures=function(O,ie,he){fe.get(O.texture).__webglTexture=ie,fe.get(O.depthTexture).__webglTexture=he;const ee=fe.get(O);ee.__hasExternalTextures=!0,ee.__hasExternalTextures&&(ee.__autoAllocateDepthBuffer=he===void 0,ee.__autoAllocateDepthBuffer||Oe.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ee.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(O,ie){const he=fe.get(O);he.__webglFramebuffer=ie,he.__useDefaultFramebuffer=ie===void 0},this.setRenderTarget=function(O,ie=0,he=0){S=O,w=ie,A=he;let ee=!0,me=null,et=!1,ot=!1;if(O){const mt=fe.get(O);mt.__useDefaultFramebuffer!==void 0?(we.bindFramebuffer(36160,null),ee=!1):mt.__webglFramebuffer===void 0?ae.setupRenderTarget(O):mt.__hasExternalTextures&&ae.rebindTextures(O,fe.get(O.texture).__webglTexture,fe.get(O.depthTexture).__webglTexture);const St=O.texture;(St.isData3DTexture||St.isDataArrayTexture||St.isCompressedArrayTexture)&&(ot=!0);const _t=fe.get(O).__webglFramebuffer;O.isWebGLCubeRenderTarget?(me=_t[ie],et=!0):He.isWebGL2&&O.samples>0&&ae.useMultisampledRTT(O)===!1?me=fe.get(O).__webglMultisampledFramebuffer:me=_t,B.copy(O.viewport),L.copy(O.scissor),b=O.scissorTest}else B.copy(J).multiplyScalar(U).floor(),L.copy($).multiplyScalar(U).floor(),b=ce;if(we.bindFramebuffer(36160,me)&&He.drawBuffers&&ee&&we.drawBuffers(O,me),we.viewport(B),we.scissor(L),we.setScissorTest(b),et){const mt=fe.get(O.texture);Q.framebufferTexture2D(36160,36064,34069+ie,mt.__webglTexture,he)}else if(ot){const mt=fe.get(O.texture),St=ie||0;Q.framebufferTextureLayer(36160,36064,mt.__webglTexture,he||0,St)}E=-1},this.readRenderTargetPixels=function(O,ie,he,ee,me,et,ot){if(!(O&&O.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let dt=fe.get(O).__webglFramebuffer;if(O.isWebGLCubeRenderTarget&&ot!==void 0&&(dt=dt[ot]),dt){we.bindFramebuffer(36160,dt);try{const mt=O.texture,St=mt.format,_t=mt.type;if(St!==wi&&Ne.convert(St)!==Q.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const wt=_t===ic&&(Oe.has("EXT_color_buffer_half_float")||He.isWebGL2&&Oe.has("EXT_color_buffer_float"));if(_t!==Rs&&Ne.convert(_t)!==Q.getParameter(35738)&&!(_t===As&&(He.isWebGL2||Oe.has("OES_texture_float")||Oe.has("WEBGL_color_buffer_float")))&&!wt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ie>=0&&ie<=O.width-ee&&he>=0&&he<=O.height-me&&Q.readPixels(ie,he,ee,me,Ne.convert(St),Ne.convert(_t),et)}finally{const mt=S!==null?fe.get(S).__webglFramebuffer:null;we.bindFramebuffer(36160,mt)}}},this.copyFramebufferToTexture=function(O,ie,he=0){const ee=Math.pow(2,-he),me=Math.floor(ie.image.width*ee),et=Math.floor(ie.image.height*ee);ae.setTexture2D(ie,0),Q.copyTexSubImage2D(3553,he,0,0,O.x,O.y,me,et),we.unbindTexture()},this.copyTextureToTexture=function(O,ie,he,ee=0){const me=ie.image.width,et=ie.image.height,ot=Ne.convert(he.format),dt=Ne.convert(he.type);ae.setTexture2D(he,0),Q.pixelStorei(37440,he.flipY),Q.pixelStorei(37441,he.premultiplyAlpha),Q.pixelStorei(3317,he.unpackAlignment),ie.isDataTexture?Q.texSubImage2D(3553,ee,O.x,O.y,me,et,ot,dt,ie.image.data):ie.isCompressedTexture?Q.compressedTexSubImage2D(3553,ee,O.x,O.y,ie.mipmaps[0].width,ie.mipmaps[0].height,ot,ie.mipmaps[0].data):Q.texSubImage2D(3553,ee,O.x,O.y,ot,dt,ie.image),ee===0&&he.generateMipmaps&&Q.generateMipmap(3553),we.unbindTexture()},this.copyTextureToTexture3D=function(O,ie,he,ee,me=0){if(v.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const et=O.max.x-O.min.x+1,ot=O.max.y-O.min.y+1,dt=O.max.z-O.min.z+1,mt=Ne.convert(ee.format),St=Ne.convert(ee.type);let _t;if(ee.isData3DTexture)ae.setTexture3D(ee,0),_t=32879;else if(ee.isDataArrayTexture)ae.setTexture2DArray(ee,0),_t=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Q.pixelStorei(37440,ee.flipY),Q.pixelStorei(37441,ee.premultiplyAlpha),Q.pixelStorei(3317,ee.unpackAlignment);const wt=Q.getParameter(3314),an=Q.getParameter(32878),ri=Q.getParameter(3316),dr=Q.getParameter(3315),es=Q.getParameter(32877),Xt=he.isCompressedTexture?he.mipmaps[0]:he.image;Q.pixelStorei(3314,Xt.width),Q.pixelStorei(32878,Xt.height),Q.pixelStorei(3316,O.min.x),Q.pixelStorei(3315,O.min.y),Q.pixelStorei(32877,O.min.z),he.isDataTexture||he.isData3DTexture?Q.texSubImage3D(_t,me,ie.x,ie.y,ie.z,et,ot,dt,mt,St,Xt.data):he.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Q.compressedTexSubImage3D(_t,me,ie.x,ie.y,ie.z,et,ot,dt,mt,Xt.data)):Q.texSubImage3D(_t,me,ie.x,ie.y,ie.z,et,ot,dt,mt,St,Xt),Q.pixelStorei(3314,wt),Q.pixelStorei(32878,an),Q.pixelStorei(3316,ri),Q.pixelStorei(3315,dr),Q.pixelStorei(32877,es),me===0&&ee.generateMipmaps&&Q.generateMipmap(_t),we.unbindTexture()},this.initTexture=function(O){O.isCubeTexture?ae.setTextureCube(O,0):O.isData3DTexture?ae.setTexture3D(O,0):O.isDataArrayTexture||O.isCompressedArrayTexture?ae.setTexture2DArray(O,0):ae.setTexture2D(O,0),we.unbindTexture()},this.resetState=function(){w=0,A=0,S=null,we.reset(),ve.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class a2 extends P_{}a2.prototype.isWebGL1Renderer=!0;class Rm{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new De(e),this.density=t}clone(){return new Rm(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Lm{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new De(e),this.near=t,this.far=i}clone(){return new Lm(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class rm extends bt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class Sd{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=id,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Oi()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Oi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Oi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ai=new F;class Mo{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)ai.fromBufferAttribute(this,t),ai.applyMatrix4(e),this.setXYZ(t,ai.x,ai.y,ai.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)ai.fromBufferAttribute(this,t),ai.applyNormalMatrix(e),this.setXYZ(t,ai.x,ai.y,ai.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)ai.fromBufferAttribute(this,t),ai.transformDirection(e),this.setXYZ(t,ai.x,ai.y,ai.z);return this}setX(e,t){return this.normalized&&(t=Ut(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Ut(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Ut(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Ut(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Ss(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Ss(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Ss(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Ss(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ut(t,this.array),i=Ut(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ut(t,this.array),i=Ut(i,this.array),r=Ut(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ut(t,this.array),i=Ut(i,this.array),r=Ut(r,this.array),s=Ut(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new It(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Mo(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class R_ extends Sn{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new De(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let ml;const au=new F,gl=new F,vl=new F,yl=new pe,lu=new pe,l2=new st,Th=new F,cu=new F,Bh=new F,VS=new pe,Y0=new pe,WS=new pe;class c2 extends bt{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",ml===void 0){ml=new ct;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Sd(t,5);ml.setIndex([0,1,2,0,2,3]),ml.setAttribute("position",new Mo(i,3,0,!1)),ml.setAttribute("uv",new Mo(i,2,3,!1))}this.geometry=ml,this.material=e!==void 0?e:new R_,this.center=new pe(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),gl.setFromMatrixScale(this.matrixWorld),l2.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),vl.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&gl.multiplyScalar(-vl.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;Ph(Th.set(-.5,-.5,0),vl,o,gl,r,s),Ph(cu.set(.5,-.5,0),vl,o,gl,r,s),Ph(Bh.set(.5,.5,0),vl,o,gl,r,s),VS.set(0,0),Y0.set(1,0),WS.set(1,1);let a=e.ray.intersectTriangle(Th,cu,Bh,!1,au);if(a===null&&(Ph(cu.set(-.5,.5,0),vl,o,gl,r,s),Y0.set(0,1),a=e.ray.intersectTriangle(Th,Bh,cu,!1,au),a===null))return;const c=e.ray.origin.distanceTo(au);c<e.near||c>e.far||t.push({distance:c,point:au.clone(),uv:sr.getUV(au,Th,cu,Bh,VS,Y0,WS,new pe),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Ph(n,e,t,i,r,s){yl.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(lu.x=s*yl.x-r*yl.y,lu.y=r*yl.x+s*yl.y):lu.copy(yl),n.copy(e),n.x+=lu.x,n.y+=lu.y,n.applyMatrix4(l2)}const Rh=new F,JS=new F;class u2 extends bt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){Rh.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(Rh);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Rh.setFromMatrixPosition(e.matrixWorld),JS.setFromMatrixPosition(this.matrixWorld);const i=Rh.distanceTo(JS)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),i>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const XS=new F,qS=new Ft,KS=new Ft,Jk=new F,YS=new st;class L_ extends kn{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new st,this.bindMatrixInverse=new st}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Ft,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const i=this.skeleton,r=this.geometry;qS.fromBufferAttribute(r.attributes.skinIndex,e),KS.fromBufferAttribute(r.attributes.skinWeight,e),XS.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=KS.getComponent(s);if(o!==0){const a=qS.getComponent(s);YS.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(Jk.copy(XS).applyMatrix4(YS),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class Im extends bt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Xl extends Qt{constructor(e=null,t=1,i=1,r,s,o,a,c,d=hn,f=hn,h,p){super(null,o,a,c,d,f,r,s,h,p),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const QS=new st,Xk=new st;class Md{constructor(e=[],t=[]){this.uuid=Oi(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new st)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new st;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:Xk;QS.multiplyMatrices(a,t[s]),QS.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new Md(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=XT(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new Xl(t,e,e,wi,As);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new Im),this.bones.push(o),this.boneInverses.push(new st().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class ac extends It{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const ZS=new st,$S=new st,Lh=[],qk=new st,uu=new kn;class I_ extends kn{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new ac(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.frustumCulled=!1;for(let r=0;r<i;r++)this.setMatrixAt(r,qk)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const i=this.matrixWorld,r=this.count;if(uu.geometry=this.geometry,uu.material=this.material,uu.material!==void 0)for(let s=0;s<r;s++){this.getMatrixAt(s,ZS),$S.multiplyMatrices(i,ZS),uu.matrixWorld=$S,uu.raycast(e,Lh);for(let o=0,a=Lh.length;o<a;o++){const c=Lh[o];c.instanceId=s,c.object=this,t.push(c)}Lh.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new ac(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class ni extends Sn{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new De(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const eM=new F,tM=new F,nM=new st,Q0=new yc,Ih=new Ro;class Ls extends bt{constructor(e=new ct,t=new ni){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)eM.fromBufferAttribute(t,r-1),tM.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=eM.distanceTo(tM);e.setAttribute("lineDistance",new Ve(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Ih.copy(i.boundingSphere),Ih.applyMatrix4(r),Ih.radius+=s,e.ray.intersectsSphere(Ih)===!1)return;nM.copy(r).invert(),Q0.copy(e.ray).applyMatrix4(nM);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=a*a,d=new F,f=new F,h=new F,p=new F,g=this.isLineSegments?2:1,y=i.index,_=i.attributes.position;if(y!==null){const w=Math.max(0,o.start),A=Math.min(y.count,o.start+o.count);for(let S=w,E=A-1;S<E;S+=g){const C=y.getX(S),B=y.getX(S+1);if(d.fromBufferAttribute(_,C),f.fromBufferAttribute(_,B),Q0.distanceSqToSegment(d,f,p,h)>c)continue;p.applyMatrix4(this.matrixWorld);const b=e.ray.origin.distanceTo(p);b<e.near||b>e.far||t.push({distance:b,point:h.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}else{const w=Math.max(0,o.start),A=Math.min(_.count,o.start+o.count);for(let S=w,E=A-1;S<E;S+=g){if(d.fromBufferAttribute(_,S),f.fromBufferAttribute(_,S+1),Q0.distanceSqToSegment(d,f,p,h)>c)continue;p.applyMatrix4(this.matrixWorld);const B=e.ray.origin.distanceTo(p);B<e.near||B>e.far||t.push({distance:B,point:h.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const iM=new F,rM=new F;class Pr extends Ls{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)iM.fromBufferAttribute(t,r),rM.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+iM.distanceTo(rM);e.setAttribute("lineDistance",new Ve(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class D_ extends Ls{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Dm extends Sn{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new De(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const sM=new st,ex=new yc,Dh=new Ro,Nh=new F;class N_ extends bt{constructor(e=new ct,t=new Dm){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Dh.copy(i.boundingSphere),Dh.applyMatrix4(r),Dh.radius+=s,e.ray.intersectsSphere(Dh)===!1)return;sM.copy(r).invert(),ex.copy(e.ray).applyMatrix4(sM);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=a*a,d=i.index,h=i.attributes.position;if(d!==null){const p=Math.max(0,o.start),g=Math.min(d.count,o.start+o.count);for(let y=p,v=g;y<v;y++){const _=d.getX(y);Nh.fromBufferAttribute(h,_),oM(Nh,_,c,r,e,t,this)}}else{const p=Math.max(0,o.start),g=Math.min(h.count,o.start+o.count);for(let y=p,v=g;y<v;y++)Nh.fromBufferAttribute(h,y),oM(Nh,y,c,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function oM(n,e,t,i,r,s,o){const a=ex.distanceSqToPoint(n);if(a<t){const c=new F;ex.closestPointToPoint(n,c),c.applyMatrix4(i);const d=r.ray.origin.distanceTo(c);if(d<r.near||d>r.far)return;s.push({distance:d,distanceToRay:Math.sqrt(a),point:c,index:e,face:null,object:o})}}class Kk extends Qt{constructor(e,t,i,r,s,o,a,c,d){super(e,t,i,r,s,o,a,c,d),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:nn,this.magFilter=s!==void 0?s:nn,this.generateMipmaps=!1;const f=this;function h(){f.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Yk extends Qt{constructor(e,t,i){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=i,this.magFilter=hn,this.minFilter=hn,this.generateMipmaps=!1,this.needsUpdate=!0}}class F_ extends Qt{constructor(e,t,i,r,s,o,a,c,d,f,h,p){super(null,o,a,c,d,f,r,s,h,p),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Qk extends F_{constructor(e,t,i,r,s,o){super(e,t,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=jn}}class Zk extends Qt{constructor(e,t,i,r,s,o,a,c,d){super(e,t,i,r,s,o,a,c,d),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Rr{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let o;t?o=t:o=e*i[s-1];let a=0,c=s-1,d;for(;a<=c;)if(r=Math.floor(a+(c-a)/2),d=i[r]-o,d<0)a=r+1;else if(d>0)c=r-1;else{c=r;break}if(r=c,i[r]===o)return r/(s-1);const f=i[r],p=i[r+1]-f,g=(o-f)/p;return(r+g)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),c=t||(o.isVector2?new pe:new F);return c.copy(a).sub(o).normalize(),c}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new F,r=[],s=[],o=[],a=new F,c=new st;for(let g=0;g<=e;g++){const y=g/e;r[g]=this.getTangentAt(y,new F)}s[0]=new F,o[0]=new F;let d=Number.MAX_VALUE;const f=Math.abs(r[0].x),h=Math.abs(r[0].y),p=Math.abs(r[0].z);f<=d&&(d=f,i.set(1,0,0)),h<=d&&(d=h,i.set(0,1,0)),p<=d&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let g=1;g<=e;g++){if(s[g]=s[g-1].clone(),o[g]=o[g-1].clone(),a.crossVectors(r[g-1],r[g]),a.length()>Number.EPSILON){a.normalize();const y=Math.acos(vn(r[g-1].dot(r[g]),-1,1));s[g].applyMatrix4(c.makeRotationAxis(a,y))}o[g].crossVectors(r[g],s[g])}if(t===!0){let g=Math.acos(vn(s[0].dot(s[e]),-1,1));g/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(g=-g);for(let y=1;y<=e;y++)s[y].applyMatrix4(c.makeRotationAxis(r[y],g*y)),o[y].crossVectors(r[y],s[y])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Nm extends Rr{constructor(e=0,t=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,c=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=c}getPoint(e,t){const i=t||new pe,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let c=this.aX+this.xRadius*Math.cos(a),d=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const f=Math.cos(this.aRotation),h=Math.sin(this.aRotation),p=c-this.aX,g=d-this.aY;c=p*f-g*h+this.aX,d=p*h+g*f+this.aY}return i.set(c,d)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class d2 extends Nm{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function O_(){let n=0,e=0,t=0,i=0;function r(s,o,a,c){n=s,e=a,t=-3*s+3*o-2*a-c,i=2*s-2*o+a+c}return{initCatmullRom:function(s,o,a,c,d){r(o,a,d*(a-s),d*(c-o))},initNonuniformCatmullRom:function(s,o,a,c,d,f,h){let p=(o-s)/d-(a-s)/(d+f)+(a-o)/f,g=(a-o)/f-(c-o)/(f+h)+(c-a)/h;p*=f,g*=f,r(o,a,p,g)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+i*a}}}const Fh=new F,Z0=new O_,$0=new O_,ev=new O_;class f2 extends Rr{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new F){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),c=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:c===0&&a===s-1&&(a=s-2,c=1);let d,f;this.closed||a>0?d=r[(a-1)%s]:(Fh.subVectors(r[0],r[1]).add(r[0]),d=Fh);const h=r[a%s],p=r[(a+1)%s];if(this.closed||a+2<s?f=r[(a+2)%s]:(Fh.subVectors(r[s-1],r[s-2]).add(r[s-1]),f=Fh),this.curveType==="centripetal"||this.curveType==="chordal"){const g=this.curveType==="chordal"?.5:.25;let y=Math.pow(d.distanceToSquared(h),g),v=Math.pow(h.distanceToSquared(p),g),_=Math.pow(p.distanceToSquared(f),g);v<1e-4&&(v=1),y<1e-4&&(y=v),_<1e-4&&(_=v),Z0.initNonuniformCatmullRom(d.x,h.x,p.x,f.x,y,v,_),$0.initNonuniformCatmullRom(d.y,h.y,p.y,f.y,y,v,_),ev.initNonuniformCatmullRom(d.z,h.z,p.z,f.z,y,v,_)}else this.curveType==="catmullrom"&&(Z0.initCatmullRom(d.x,h.x,p.x,f.x,this.tension),$0.initCatmullRom(d.y,h.y,p.y,f.y,this.tension),ev.initCatmullRom(d.z,h.z,p.z,f.z,this.tension));return i.set(Z0.calc(c),$0.calc(c),ev.calc(c)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new F().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function aM(n,e,t,i,r){const s=(i-e)*.5,o=(r-t)*.5,a=n*n,c=n*a;return(2*t-2*i+s+o)*c+(-3*t+3*i-2*s-o)*a+s*n+t}function $k(n,e){const t=1-n;return t*t*e}function ez(n,e){return 2*(1-n)*n*e}function tz(n,e){return n*n*e}function Iu(n,e,t,i){return $k(n,e)+ez(n,t)+tz(n,i)}function nz(n,e){const t=1-n;return t*t*t*e}function iz(n,e){const t=1-n;return 3*t*t*n*e}function rz(n,e){return 3*(1-n)*n*n*e}function sz(n,e){return n*n*n*e}function Du(n,e,t,i,r){return nz(n,e)+iz(n,t)+rz(n,i)+sz(n,r)}class k_ extends Rr{constructor(e=new pe,t=new pe,i=new pe,r=new pe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new pe){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(Du(e,r.x,s.x,o.x,a.x),Du(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class h2 extends Rr{constructor(e=new F,t=new F,i=new F,r=new F){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new F){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(Du(e,r.x,s.x,o.x,a.x),Du(e,r.y,s.y,o.y,a.y),Du(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Fm extends Rr{constructor(e=new pe,t=new pe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new pe){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const i=t||new pe;return i.copy(this.v2).sub(this.v1).normalize(),i}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class p2 extends Rr{constructor(e=new F,t=new F){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new F){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class z_ extends Rr{constructor(e=new pe,t=new pe,i=new pe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new pe){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(Iu(e,r.x,s.x,o.x),Iu(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class U_ extends Rr{constructor(e=new F,t=new F,i=new F){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new F){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(Iu(e,r.x,s.x,o.x),Iu(e,r.y,s.y,o.y),Iu(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class G_ extends Rr{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new pe){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,c=r[o===0?o:o-1],d=r[o],f=r[o>r.length-2?r.length-1:o+1],h=r[o>r.length-3?r.length-1:o+2];return i.set(aM(a,c.x,d.x,f.x,h.x),aM(a,c.y,d.y,f.y,h.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new pe().fromArray(r))}return this}}var H_=Object.freeze({__proto__:null,ArcCurve:d2,CatmullRomCurve3:f2,CubicBezierCurve:k_,CubicBezierCurve3:h2,EllipseCurve:Nm,LineCurve:Fm,LineCurve3:p2,QuadraticBezierCurve:z_,QuadraticBezierCurve3:U_,SplineCurve:G_});class m2 extends Rr{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Fm(t,e))}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],c=a.getLength(),d=c===0?0:1-o/c;return a.getPointAt(d,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,c=o.getPoints(a);for(let d=0;d<c.length;d++){const f=c[d];i&&i.equals(f)||(t.push(f),i=f)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new H_[r.type]().fromJSON(r))}return this}}class od extends m2{constructor(e){super(),this.type="Path",this.currentPoint=new pe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new Fm(this.currentPoint.clone(),new pe(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new z_(this.currentPoint.clone(),new pe(e,t),new pe(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const a=new k_(this.currentPoint.clone(),new pe(e,t),new pe(i,r),new pe(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new G_(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){const a=this.currentPoint.x,c=this.currentPoint.y;return this.absarc(e+a,t+c,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,a,c){const d=this.currentPoint.x,f=this.currentPoint.y;return this.absellipse(e+d,t+f,i,r,s,o,a,c),this}absellipse(e,t,i,r,s,o,a,c){const d=new Nm(e,t,i,r,s,o,a,c);if(this.curves.length>0){const h=d.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(d);const f=d.getPoint(1);return this.currentPoint.copy(f),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class wc extends ct{constructor(e=[new pe(0,-.5),new pe(.5,0),new pe(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=vn(r,0,Math.PI*2);const s=[],o=[],a=[],c=[],d=[],f=1/t,h=new F,p=new pe,g=new F,y=new F,v=new F;let _=0,w=0;for(let A=0;A<=e.length-1;A++)switch(A){case 0:_=e[A+1].x-e[A].x,w=e[A+1].y-e[A].y,g.x=w*1,g.y=-_,g.z=w*0,v.copy(g),g.normalize(),c.push(g.x,g.y,g.z);break;case e.length-1:c.push(v.x,v.y,v.z);break;default:_=e[A+1].x-e[A].x,w=e[A+1].y-e[A].y,g.x=w*1,g.y=-_,g.z=w*0,y.copy(g),g.x+=v.x,g.y+=v.y,g.z+=v.z,g.normalize(),c.push(g.x,g.y,g.z),v.copy(y)}for(let A=0;A<=t;A++){const S=i+A*f*r,E=Math.sin(S),C=Math.cos(S);for(let B=0;B<=e.length-1;B++){h.x=e[B].x*E,h.y=e[B].y,h.z=e[B].x*C,o.push(h.x,h.y,h.z),p.x=A/t,p.y=B/(e.length-1),a.push(p.x,p.y);const L=c[3*B+0]*E,b=c[3*B+1],R=c[3*B+0]*C;d.push(L,b,R)}}for(let A=0;A<t;A++)for(let S=0;S<e.length-1;S++){const E=S+A*e.length,C=E,B=E+e.length,L=E+e.length+1,b=E+1;s.push(C,B,b),s.push(L,b,B)}this.setIndex(s),this.setAttribute("position",new Ve(o,3)),this.setAttribute("uv",new Ve(a,2)),this.setAttribute("normal",new Ve(d,3))}static fromJSON(e){return new wc(e.points,e.segments,e.phiStart,e.phiLength)}}class Ed extends wc{constructor(e=1,t=1,i=4,r=8){const s=new od;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:r}}static fromJSON(e){return new Ed(e.radius,e.length,e.capSegments,e.radialSegments)}}class Cd extends ct{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],o=[],a=[],c=[],d=new F,f=new pe;o.push(0,0,0),a.push(0,0,1),c.push(.5,.5);for(let h=0,p=3;h<=t;h++,p+=3){const g=i+h/t*r;d.x=e*Math.cos(g),d.y=e*Math.sin(g),o.push(d.x,d.y,d.z),a.push(0,0,1),f.x=(o[p]/e+1)/2,f.y=(o[p+1]/e+1)/2,c.push(f.x,f.y)}for(let h=1;h<=t;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new Ve(o,3)),this.setAttribute("normal",new Ve(a,3)),this.setAttribute("uv",new Ve(c,2))}static fromJSON(e){return new Cd(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Oa extends ct{constructor(e=1,t=1,i=1,r=32,s=1,o=!1,a=0,c=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:c};const d=this;r=Math.floor(r),s=Math.floor(s);const f=[],h=[],p=[],g=[];let y=0;const v=[],_=i/2;let w=0;A(),o===!1&&(e>0&&S(!0),t>0&&S(!1)),this.setIndex(f),this.setAttribute("position",new Ve(h,3)),this.setAttribute("normal",new Ve(p,3)),this.setAttribute("uv",new Ve(g,2));function A(){const E=new F,C=new F;let B=0;const L=(t-e)/i;for(let b=0;b<=s;b++){const R=[],D=b/s,U=D*(t-e)+e;for(let Z=0;Z<=r;Z++){const W=Z/r,J=W*c+a,$=Math.sin(J),ce=Math.cos(J);C.x=U*$,C.y=-D*i+_,C.z=U*ce,h.push(C.x,C.y,C.z),E.set($,L,ce).normalize(),p.push(E.x,E.y,E.z),g.push(W,1-D),R.push(y++)}v.push(R)}for(let b=0;b<r;b++)for(let R=0;R<s;R++){const D=v[R][b],U=v[R+1][b],Z=v[R+1][b+1],W=v[R][b+1];f.push(D,U,W),f.push(U,Z,W),B+=6}d.addGroup(w,B,0),w+=B}function S(E){const C=y,B=new pe,L=new F;let b=0;const R=E===!0?e:t,D=E===!0?1:-1;for(let Z=1;Z<=r;Z++)h.push(0,_*D,0),p.push(0,D,0),g.push(.5,.5),y++;const U=y;for(let Z=0;Z<=r;Z++){const J=Z/r*c+a,$=Math.cos(J),ce=Math.sin(J);L.x=R*ce,L.y=_*D,L.z=R*$,h.push(L.x,L.y,L.z),p.push(0,D,0),B.x=$*.5+.5,B.y=ce*.5*D+.5,g.push(B.x,B.y),y++}for(let Z=0;Z<r;Z++){const W=C+Z,J=U+Z;E===!0?f.push(J,J+1,W):f.push(J+1,J,W),b+=3}d.addGroup(w,b,E===!0?1:2),w+=b}}static fromJSON(e){return new Oa(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class bd extends Oa{constructor(e=1,t=1,i=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new bd(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ds extends ct{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],o=[];a(r),d(i),f(),this.setAttribute("position",new Ve(s,3)),this.setAttribute("normal",new Ve(s.slice(),3)),this.setAttribute("uv",new Ve(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(A){const S=new F,E=new F,C=new F;for(let B=0;B<t.length;B+=3)g(t[B+0],S),g(t[B+1],E),g(t[B+2],C),c(S,E,C,A)}function c(A,S,E,C){const B=C+1,L=[];for(let b=0;b<=B;b++){L[b]=[];const R=A.clone().lerp(E,b/B),D=S.clone().lerp(E,b/B),U=B-b;for(let Z=0;Z<=U;Z++)Z===0&&b===B?L[b][Z]=R:L[b][Z]=R.clone().lerp(D,Z/U)}for(let b=0;b<B;b++)for(let R=0;R<2*(B-b)-1;R++){const D=Math.floor(R/2);R%2===0?(p(L[b][D+1]),p(L[b+1][D]),p(L[b][D])):(p(L[b][D+1]),p(L[b+1][D+1]),p(L[b+1][D]))}}function d(A){const S=new F;for(let E=0;E<s.length;E+=3)S.x=s[E+0],S.y=s[E+1],S.z=s[E+2],S.normalize().multiplyScalar(A),s[E+0]=S.x,s[E+1]=S.y,s[E+2]=S.z}function f(){const A=new F;for(let S=0;S<s.length;S+=3){A.x=s[S+0],A.y=s[S+1],A.z=s[S+2];const E=_(A)/2/Math.PI+.5,C=w(A)/Math.PI+.5;o.push(E,1-C)}y(),h()}function h(){for(let A=0;A<o.length;A+=6){const S=o[A+0],E=o[A+2],C=o[A+4],B=Math.max(S,E,C),L=Math.min(S,E,C);B>.9&&L<.1&&(S<.2&&(o[A+0]+=1),E<.2&&(o[A+2]+=1),C<.2&&(o[A+4]+=1))}}function p(A){s.push(A.x,A.y,A.z)}function g(A,S){const E=A*3;S.x=e[E+0],S.y=e[E+1],S.z=e[E+2]}function y(){const A=new F,S=new F,E=new F,C=new F,B=new pe,L=new pe,b=new pe;for(let R=0,D=0;R<s.length;R+=9,D+=6){A.set(s[R+0],s[R+1],s[R+2]),S.set(s[R+3],s[R+4],s[R+5]),E.set(s[R+6],s[R+7],s[R+8]),B.set(o[D+0],o[D+1]),L.set(o[D+2],o[D+3]),b.set(o[D+4],o[D+5]),C.copy(A).add(S).add(E).divideScalar(3);const U=_(C);v(B,D+0,A,U),v(L,D+2,S,U),v(b,D+4,E,U)}}function v(A,S,E,C){C<0&&A.x===1&&(o[S]=A.x-1),E.x===0&&E.z===0&&(o[S]=C/2/Math.PI+.5)}function _(A){return Math.atan2(A.z,-A.x)}function w(A){return Math.atan2(-A.y,Math.sqrt(A.x*A.x+A.z*A.z))}}static fromJSON(e){return new Ds(e.vertices,e.indices,e.radius,e.details)}}class Td extends Ds{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Td(e.radius,e.detail)}}const Oh=new F,kh=new F,tv=new F,zh=new sr;class g2 extends ct{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(_a*t),o=e.getIndex(),a=e.getAttribute("position"),c=o?o.count:a.count,d=[0,0,0],f=["a","b","c"],h=new Array(3),p={},g=[];for(let y=0;y<c;y+=3){o?(d[0]=o.getX(y),d[1]=o.getX(y+1),d[2]=o.getX(y+2)):(d[0]=y,d[1]=y+1,d[2]=y+2);const{a:v,b:_,c:w}=zh;if(v.fromBufferAttribute(a,d[0]),_.fromBufferAttribute(a,d[1]),w.fromBufferAttribute(a,d[2]),zh.getNormal(tv),h[0]=`${Math.round(v.x*r)},${Math.round(v.y*r)},${Math.round(v.z*r)}`,h[1]=`${Math.round(_.x*r)},${Math.round(_.y*r)},${Math.round(_.z*r)}`,h[2]=`${Math.round(w.x*r)},${Math.round(w.y*r)},${Math.round(w.z*r)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let A=0;A<3;A++){const S=(A+1)%3,E=h[A],C=h[S],B=zh[f[A]],L=zh[f[S]],b=`${E}_${C}`,R=`${C}_${E}`;R in p&&p[R]?(tv.dot(p[R].normal)<=s&&(g.push(B.x,B.y,B.z),g.push(L.x,L.y,L.z)),p[R]=null):b in p||(p[b]={index0:d[A],index1:d[S],normal:tv.clone()})}}for(const y in p)if(p[y]){const{index0:v,index1:_}=p[y];Oh.fromBufferAttribute(a,v),kh.fromBufferAttribute(a,_),g.push(Oh.x,Oh.y,Oh.z),g.push(kh.x,kh.y,kh.z)}this.setAttribute("position",new Ve(g,3))}}}class Sa extends od{constructor(e){super(e),this.uuid=Oi(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new od().fromJSON(r))}return this}}const oz={triangulate:function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=v2(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,c,d,f,h,p,g;if(i&&(s=dz(n,e,s,t)),n.length>80*t){a=d=n[0],c=f=n[1];for(let y=t;y<r;y+=t)h=n[y],p=n[y+1],h<a&&(a=h),p<c&&(c=p),h>d&&(d=h),p>f&&(f=p);g=Math.max(d-a,f-c),g=g!==0?32767/g:0}return ad(s,o,t,a,c,g,0),o}};function v2(n,e,t,i,r){let s,o;if(r===Az(n,e,t,i)>0)for(s=e;s<t;s+=i)o=lM(s,n[s],n[s+1],o);else for(s=t-i;s>=e;s-=i)o=lM(s,n[s],n[s+1],o);return o&&Om(o,o.next)&&(cd(o),o=o.next),o}function Ra(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(Om(t,t.next)||rn(t.prev,t,t.next)===0)){if(cd(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function ad(n,e,t,i,r,s,o){if(!n)return;!o&&s&&gz(n,i,r,s);let a=n,c,d;for(;n.prev!==n.next;){if(c=n.prev,d=n.next,s?lz(n,i,r,s):az(n)){e.push(c.i/t|0),e.push(n.i/t|0),e.push(d.i/t|0),cd(n),n=d.next,a=d.next;continue}if(n=d,n===a){o?o===1?(n=cz(Ra(n),e,t),ad(n,e,t,i,r,s,2)):o===2&&uz(n,e,t,i,r,s):ad(Ra(n),e,t,i,r,s,1);break}}}function az(n){const e=n.prev,t=n,i=n.next;if(rn(e,t,i)>=0)return!1;const r=e.x,s=t.x,o=i.x,a=e.y,c=t.y,d=i.y,f=r<s?r<o?r:o:s<o?s:o,h=a<c?a<d?a:d:c<d?c:d,p=r>s?r>o?r:o:s>o?s:o,g=a>c?a>d?a:d:c>d?c:d;let y=i.next;for(;y!==e;){if(y.x>=f&&y.x<=p&&y.y>=h&&y.y<=g&&Ol(r,a,s,c,o,d,y.x,y.y)&&rn(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function lz(n,e,t,i){const r=n.prev,s=n,o=n.next;if(rn(r,s,o)>=0)return!1;const a=r.x,c=s.x,d=o.x,f=r.y,h=s.y,p=o.y,g=a<c?a<d?a:d:c<d?c:d,y=f<h?f<p?f:p:h<p?h:p,v=a>c?a>d?a:d:c>d?c:d,_=f>h?f>p?f:p:h>p?h:p,w=tx(g,y,e,t,i),A=tx(v,_,e,t,i);let S=n.prevZ,E=n.nextZ;for(;S&&S.z>=w&&E&&E.z<=A;){if(S.x>=g&&S.x<=v&&S.y>=y&&S.y<=_&&S!==r&&S!==o&&Ol(a,f,c,h,d,p,S.x,S.y)&&rn(S.prev,S,S.next)>=0||(S=S.prevZ,E.x>=g&&E.x<=v&&E.y>=y&&E.y<=_&&E!==r&&E!==o&&Ol(a,f,c,h,d,p,E.x,E.y)&&rn(E.prev,E,E.next)>=0))return!1;E=E.nextZ}for(;S&&S.z>=w;){if(S.x>=g&&S.x<=v&&S.y>=y&&S.y<=_&&S!==r&&S!==o&&Ol(a,f,c,h,d,p,S.x,S.y)&&rn(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;E&&E.z<=A;){if(E.x>=g&&E.x<=v&&E.y>=y&&E.y<=_&&E!==r&&E!==o&&Ol(a,f,c,h,d,p,E.x,E.y)&&rn(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function cz(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!Om(r,s)&&y2(r,i,i.next,s)&&ld(r,s)&&ld(s,r)&&(e.push(r.i/t|0),e.push(i.i/t|0),e.push(s.i/t|0),cd(i),cd(i.next),i=n=s),i=i.next}while(i!==n);return Ra(i)}function uz(n,e,t,i,r,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&xz(o,a)){let c=x2(o,a);o=Ra(o,o.next),c=Ra(c,c.next),ad(o,e,t,i,r,s,0),ad(c,e,t,i,r,s,0);return}a=a.next}o=o.next}while(o!==n)}function dz(n,e,t,i){const r=[];let s,o,a,c,d;for(s=0,o=e.length;s<o;s++)a=e[s]*i,c=s<o-1?e[s+1]*i:n.length,d=v2(n,a,c,i,!1),d===d.next&&(d.steiner=!0),r.push(yz(d));for(r.sort(fz),s=0;s<r.length;s++)t=hz(r[s],t);return t}function fz(n,e){return n.x-e.x}function hz(n,e){const t=pz(n,e);if(!t)return e;const i=x2(t,n);return Ra(i,i.next),Ra(t,t.next)}function pz(n,e){let t=e,i=-1/0,r;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>i&&(i=p,r=t.x<t.next.x?t:t.next,p===s))return r}t=t.next}while(t!==e);if(!r)return null;const a=r,c=r.x,d=r.y;let f=1/0,h;t=r;do s>=t.x&&t.x>=c&&s!==t.x&&Ol(o<d?s:i,o,c,d,o<d?i:s,o,t.x,t.y)&&(h=Math.abs(o-t.y)/(s-t.x),ld(t,n)&&(h<f||h===f&&(t.x>r.x||t.x===r.x&&mz(r,t)))&&(r=t,f=h)),t=t.next;while(t!==a);return r}function mz(n,e){return rn(n.prev,n,e.prev)<0&&rn(e.next,n,n.next)<0}function gz(n,e,t,i){let r=n;do r.z===0&&(r.z=tx(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,vz(r)}function vz(n){let e,t,i,r,s,o,a,c,d=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,i=t,a=0,e=0;e<d&&(a++,i=i.nextZ,!!i);e++);for(c=d;a>0||c>0&&i;)a!==0&&(c===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,a--):(r=i,i=i.nextZ,c--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,d*=2}while(o>1);return n}function tx(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function yz(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Ol(n,e,t,i,r,s,o,a){return(r-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(i-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(r-o)*(i-a)}function xz(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!_z(n,e)&&(ld(n,e)&&ld(e,n)&&wz(n,e)&&(rn(n.prev,n,e.prev)||rn(n,e.prev,e))||Om(n,e)&&rn(n.prev,n,n.next)>0&&rn(e.prev,e,e.next)>0)}function rn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Om(n,e){return n.x===e.x&&n.y===e.y}function y2(n,e,t,i){const r=Gh(rn(n,e,t)),s=Gh(rn(n,e,i)),o=Gh(rn(t,i,n)),a=Gh(rn(t,i,e));return!!(r!==s&&o!==a||r===0&&Uh(n,t,e)||s===0&&Uh(n,i,e)||o===0&&Uh(t,n,i)||a===0&&Uh(t,e,i))}function Uh(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Gh(n){return n>0?1:n<0?-1:0}function _z(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&y2(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function ld(n,e){return rn(n.prev,n,n.next)<0?rn(n,e,n.next)>=0&&rn(n,n.prev,e)>=0:rn(n,e,n.prev)<0||rn(n,n.next,e)<0}function wz(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function x2(n,e){const t=new nx(n.i,n.x,n.y),i=new nx(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function lM(n,e,t,i){const r=new nx(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function cd(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function nx(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Az(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}class Jr{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return Jr.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];cM(e),uM(i,e);let o=e.length;t.forEach(cM);for(let c=0;c<t.length;c++)r.push(o),o+=t[c].length,uM(i,t[c]);const a=oz.triangulate(i,r);for(let c=0;c<a.length;c+=3)s.push(a.slice(c,c+3));return s}}function cM(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function uM(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class Bd extends ct{constructor(e=new Sa([new pe(.5,.5),new pe(-.5,.5),new pe(-.5,-.5),new pe(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,c=e.length;a<c;a++){const d=e[a];o(d)}this.setAttribute("position",new Ve(r,3)),this.setAttribute("uv",new Ve(s,2)),this.computeVertexNormals();function o(a){const c=[],d=t.curveSegments!==void 0?t.curveSegments:12,f=t.steps!==void 0?t.steps:1,h=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,g=t.bevelThickness!==void 0?t.bevelThickness:.2,y=t.bevelSize!==void 0?t.bevelSize:g-.1,v=t.bevelOffset!==void 0?t.bevelOffset:0,_=t.bevelSegments!==void 0?t.bevelSegments:3;const w=t.extrudePath,A=t.UVGenerator!==void 0?t.UVGenerator:Sz;let S,E=!1,C,B,L,b;w&&(S=w.getSpacedPoints(f),E=!0,p=!1,C=w.computeFrenetFrames(f,!1),B=new F,L=new F,b=new F),p||(_=0,g=0,y=0,v=0);const R=a.extractPoints(d);let D=R.shape;const U=R.holes;if(!Jr.isClockWise(D)){D=D.reverse();for(let fe=0,ae=U.length;fe<ae;fe++){const Me=U[fe];Jr.isClockWise(Me)&&(U[fe]=Me.reverse())}}const W=Jr.triangulateShape(D,U),J=D;for(let fe=0,ae=U.length;fe<ae;fe++){const Me=U[fe];D=D.concat(Me)}function $(fe,ae,Me){return ae||console.error("THREE.ExtrudeGeometry: vec does not exist"),ae.clone().multiplyScalar(Me).add(fe)}const ce=D.length,ue=W.length;function I(fe,ae,Me){let ze,Te,Ze;const Ke=fe.x-ae.x,We=fe.y-ae.y,vt=Me.x-fe.x,yt=Me.y-fe.y,z=Ke*Ke+We*We,N=Ke*yt-We*vt;if(Math.abs(N)>Number.EPSILON){const oe=Math.sqrt(z),Ae=Math.sqrt(vt*vt+yt*yt),Ee=ae.x-We/oe,be=ae.y+Ke/oe,nt=Me.x-yt/Ae,Ne=Me.y+vt/Ae,ve=((nt-Ee)*yt-(Ne-be)*vt)/(Ke*yt-We*vt);ze=Ee+Ke*ve-fe.x,Te=be+We*ve-fe.y;const Ye=ze*ze+Te*Te;if(Ye<=2)return new pe(ze,Te);Ze=Math.sqrt(Ye/2)}else{let oe=!1;Ke>Number.EPSILON?vt>Number.EPSILON&&(oe=!0):Ke<-Number.EPSILON?vt<-Number.EPSILON&&(oe=!0):Math.sign(We)===Math.sign(yt)&&(oe=!0),oe?(ze=-We,Te=Ke,Ze=Math.sqrt(z)):(ze=Ke,Te=We,Ze=Math.sqrt(z/2))}return new pe(ze/Ze,Te/Ze)}const G=[];for(let fe=0,ae=J.length,Me=ae-1,ze=fe+1;fe<ae;fe++,Me++,ze++)Me===ae&&(Me=0),ze===ae&&(ze=0),G[fe]=I(J[fe],J[Me],J[ze]);const j=[];let ne,H=G.concat();for(let fe=0,ae=U.length;fe<ae;fe++){const Me=U[fe];ne=[];for(let ze=0,Te=Me.length,Ze=Te-1,Ke=ze+1;ze<Te;ze++,Ze++,Ke++)Ze===Te&&(Ze=0),Ke===Te&&(Ke=0),ne[ze]=I(Me[ze],Me[Ze],Me[Ke]);j.push(ne),H=H.concat(ne)}for(let fe=0;fe<_;fe++){const ae=fe/_,Me=g*Math.cos(ae*Math.PI/2),ze=y*Math.sin(ae*Math.PI/2)+v;for(let Te=0,Ze=J.length;Te<Ze;Te++){const Ke=$(J[Te],G[Te],ze);Pe(Ke.x,Ke.y,-Me)}for(let Te=0,Ze=U.length;Te<Ze;Te++){const Ke=U[Te];ne=j[Te];for(let We=0,vt=Ke.length;We<vt;We++){const yt=$(Ke[We],ne[We],ze);Pe(yt.x,yt.y,-Me)}}}const te=y+v;for(let fe=0;fe<ce;fe++){const ae=p?$(D[fe],H[fe],te):D[fe];E?(L.copy(C.normals[0]).multiplyScalar(ae.x),B.copy(C.binormals[0]).multiplyScalar(ae.y),b.copy(S[0]).add(L).add(B),Pe(b.x,b.y,b.z)):Pe(ae.x,ae.y,0)}for(let fe=1;fe<=f;fe++)for(let ae=0;ae<ce;ae++){const Me=p?$(D[ae],H[ae],te):D[ae];E?(L.copy(C.normals[fe]).multiplyScalar(Me.x),B.copy(C.binormals[fe]).multiplyScalar(Me.y),b.copy(S[fe]).add(L).add(B),Pe(b.x,b.y,b.z)):Pe(Me.x,Me.y,h/f*fe)}for(let fe=_-1;fe>=0;fe--){const ae=fe/_,Me=g*Math.cos(ae*Math.PI/2),ze=y*Math.sin(ae*Math.PI/2)+v;for(let Te=0,Ze=J.length;Te<Ze;Te++){const Ke=$(J[Te],G[Te],ze);Pe(Ke.x,Ke.y,h+Me)}for(let Te=0,Ze=U.length;Te<Ze;Te++){const Ke=U[Te];ne=j[Te];for(let We=0,vt=Ke.length;We<vt;We++){const yt=$(Ke[We],ne[We],ze);E?Pe(yt.x,yt.y+S[f-1].y,S[f-1].x+Me):Pe(yt.x,yt.y,h+Me)}}}ge(),ye();function ge(){const fe=r.length/3;if(p){let ae=0,Me=ce*ae;for(let ze=0;ze<ue;ze++){const Te=W[ze];Oe(Te[2]+Me,Te[1]+Me,Te[0]+Me)}ae=f+_*2,Me=ce*ae;for(let ze=0;ze<ue;ze++){const Te=W[ze];Oe(Te[0]+Me,Te[1]+Me,Te[2]+Me)}}else{for(let ae=0;ae<ue;ae++){const Me=W[ae];Oe(Me[2],Me[1],Me[0])}for(let ae=0;ae<ue;ae++){const Me=W[ae];Oe(Me[0]+ce*f,Me[1]+ce*f,Me[2]+ce*f)}}i.addGroup(fe,r.length/3-fe,0)}function ye(){const fe=r.length/3;let ae=0;Q(J,ae),ae+=J.length;for(let Me=0,ze=U.length;Me<ze;Me++){const Te=U[Me];Q(Te,ae),ae+=Te.length}i.addGroup(fe,r.length/3-fe,1)}function Q(fe,ae){let Me=fe.length;for(;--Me>=0;){const ze=Me;let Te=Me-1;Te<0&&(Te=fe.length-1);for(let Ze=0,Ke=f+_*2;Ze<Ke;Ze++){const We=ce*Ze,vt=ce*(Ze+1),yt=ae+ze+We,z=ae+Te+We,N=ae+Te+vt,oe=ae+ze+vt;He(yt,z,N,oe)}}}function Pe(fe,ae,Me){c.push(fe),c.push(ae),c.push(Me)}function Oe(fe,ae,Me){we(fe),we(ae),we(Me);const ze=r.length/3,Te=A.generateTopUV(i,r,ze-3,ze-2,ze-1);Re(Te[0]),Re(Te[1]),Re(Te[2])}function He(fe,ae,Me,ze){we(fe),we(ae),we(ze),we(ae),we(Me),we(ze);const Te=r.length/3,Ze=A.generateSideWallUV(i,r,Te-6,Te-3,Te-2,Te-1);Re(Ze[0]),Re(Ze[1]),Re(Ze[3]),Re(Ze[1]),Re(Ze[2]),Re(Ze[3])}function we(fe){r.push(c[fe*3+0]),r.push(c[fe*3+1]),r.push(c[fe*3+2])}function Re(fe){s.push(fe.x),s.push(fe.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return Mz(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new H_[r.type]().fromJSON(r)),new Bd(i,e.options)}}const Sz={generateTopUV:function(n,e,t,i,r){const s=e[t*3],o=e[t*3+1],a=e[i*3],c=e[i*3+1],d=e[r*3],f=e[r*3+1];return[new pe(s,o),new pe(a,c),new pe(d,f)]},generateSideWallUV:function(n,e,t,i,r,s){const o=e[t*3],a=e[t*3+1],c=e[t*3+2],d=e[i*3],f=e[i*3+1],h=e[i*3+2],p=e[r*3],g=e[r*3+1],y=e[r*3+2],v=e[s*3],_=e[s*3+1],w=e[s*3+2];return Math.abs(a-f)<Math.abs(o-d)?[new pe(o,1-c),new pe(d,1-h),new pe(p,1-y),new pe(v,1-w)]:[new pe(a,1-c),new pe(f,1-h),new pe(g,1-y),new pe(_,1-w)]}};function Mz(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Pd extends Ds{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Pd(e.radius,e.detail)}}class Ac extends Ds{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Ac(e.radius,e.detail)}}class Rd extends ct{constructor(e=.5,t=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],c=[],d=[],f=[];let h=e;const p=(t-e)/r,g=new F,y=new pe;for(let v=0;v<=r;v++){for(let _=0;_<=i;_++){const w=s+_/i*o;g.x=h*Math.cos(w),g.y=h*Math.sin(w),c.push(g.x,g.y,g.z),d.push(0,0,1),y.x=(g.x/t+1)/2,y.y=(g.y/t+1)/2,f.push(y.x,y.y)}h+=p}for(let v=0;v<r;v++){const _=v*(i+1);for(let w=0;w<i;w++){const A=w+_,S=A,E=A+i+1,C=A+i+2,B=A+1;a.push(S,E,B),a.push(E,C,B)}}this.setIndex(a),this.setAttribute("position",new Ve(c,3)),this.setAttribute("normal",new Ve(d,3)),this.setAttribute("uv",new Ve(f,2))}static fromJSON(e){return new Rd(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Ld extends ct{constructor(e=new Sa([new pe(0,.5),new pe(-.5,-.5),new pe(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],o=[];let a=0,c=0;if(Array.isArray(e)===!1)d(e);else for(let f=0;f<e.length;f++)d(e[f]),this.addGroup(a,c,f),a+=c,c=0;this.setIndex(i),this.setAttribute("position",new Ve(r,3)),this.setAttribute("normal",new Ve(s,3)),this.setAttribute("uv",new Ve(o,2));function d(f){const h=r.length/3,p=f.extractPoints(t);let g=p.shape;const y=p.holes;Jr.isClockWise(g)===!1&&(g=g.reverse());for(let _=0,w=y.length;_<w;_++){const A=y[_];Jr.isClockWise(A)===!0&&(y[_]=A.reverse())}const v=Jr.triangulateShape(g,y);for(let _=0,w=y.length;_<w;_++){const A=y[_];g=g.concat(A)}for(let _=0,w=g.length;_<w;_++){const A=g[_];r.push(A.x,A.y,0),s.push(0,0,1),o.push(A.x,A.y)}for(let _=0,w=v.length;_<w;_++){const A=v[_],S=A[0]+h,E=A[1]+h,C=A[2]+h;i.push(S,E,C),c+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return Ez(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];i.push(o)}return new Ld(i,e.curveSegments)}}function Ez(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class Sc extends ct{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const c=Math.min(o+a,Math.PI);let d=0;const f=[],h=new F,p=new F,g=[],y=[],v=[],_=[];for(let w=0;w<=i;w++){const A=[],S=w/i;let E=0;w==0&&o==0?E=.5/t:w==i&&c==Math.PI&&(E=-.5/t);for(let C=0;C<=t;C++){const B=C/t;h.x=-e*Math.cos(r+B*s)*Math.sin(o+S*a),h.y=e*Math.cos(o+S*a),h.z=e*Math.sin(r+B*s)*Math.sin(o+S*a),y.push(h.x,h.y,h.z),p.copy(h).normalize(),v.push(p.x,p.y,p.z),_.push(B+E,1-S),A.push(d++)}f.push(A)}for(let w=0;w<i;w++)for(let A=0;A<t;A++){const S=f[w][A+1],E=f[w][A],C=f[w+1][A],B=f[w+1][A+1];(w!==0||o>0)&&g.push(S,E,B),(w!==i-1||c<Math.PI)&&g.push(E,C,B)}this.setIndex(g),this.setAttribute("position",new Ve(y,3)),this.setAttribute("normal",new Ve(v,3)),this.setAttribute("uv",new Ve(_,2))}static fromJSON(e){return new Sc(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Id extends Ds{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Id(e.radius,e.detail)}}class Dd extends ct{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],c=[],d=[],f=new F,h=new F,p=new F;for(let g=0;g<=i;g++)for(let y=0;y<=r;y++){const v=y/r*s,_=g/i*Math.PI*2;h.x=(e+t*Math.cos(_))*Math.cos(v),h.y=(e+t*Math.cos(_))*Math.sin(v),h.z=t*Math.sin(_),a.push(h.x,h.y,h.z),f.x=e*Math.cos(v),f.y=e*Math.sin(v),p.subVectors(h,f).normalize(),c.push(p.x,p.y,p.z),d.push(y/r),d.push(g/i)}for(let g=1;g<=i;g++)for(let y=1;y<=r;y++){const v=(r+1)*g+y-1,_=(r+1)*(g-1)+y-1,w=(r+1)*(g-1)+y,A=(r+1)*g+y;o.push(v,_,A),o.push(_,w,A)}this.setIndex(o),this.setAttribute("position",new Ve(a,3)),this.setAttribute("normal",new Ve(c,3)),this.setAttribute("uv",new Ve(d,2))}static fromJSON(e){return new Dd(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Nd extends ct{constructor(e=1,t=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],c=[],d=[],f=[],h=new F,p=new F,g=new F,y=new F,v=new F,_=new F,w=new F;for(let S=0;S<=i;++S){const E=S/i*s*Math.PI*2;A(E,s,o,e,g),A(E+.01,s,o,e,y),_.subVectors(y,g),w.addVectors(y,g),v.crossVectors(_,w),w.crossVectors(v,_),v.normalize(),w.normalize();for(let C=0;C<=r;++C){const B=C/r*Math.PI*2,L=-t*Math.cos(B),b=t*Math.sin(B);h.x=g.x+(L*w.x+b*v.x),h.y=g.y+(L*w.y+b*v.y),h.z=g.z+(L*w.z+b*v.z),c.push(h.x,h.y,h.z),p.subVectors(h,g).normalize(),d.push(p.x,p.y,p.z),f.push(S/i),f.push(C/r)}}for(let S=1;S<=i;S++)for(let E=1;E<=r;E++){const C=(r+1)*(S-1)+(E-1),B=(r+1)*S+(E-1),L=(r+1)*S+E,b=(r+1)*(S-1)+E;a.push(C,B,b),a.push(B,L,b)}this.setIndex(a),this.setAttribute("position",new Ve(c,3)),this.setAttribute("normal",new Ve(d,3)),this.setAttribute("uv",new Ve(f,2));function A(S,E,C,B,L){const b=Math.cos(S),R=Math.sin(S),D=C/E*S,U=Math.cos(D);L.x=B*(2+U)*.5*b,L.y=B*(2+U)*R*.5,L.z=B*Math.sin(D)*.5}}static fromJSON(e){return new Nd(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Fd extends ct{constructor(e=new U_(new F(-1,-1,0),new F(-1,1,0),new F(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new F,c=new F,d=new pe;let f=new F;const h=[],p=[],g=[],y=[];v(),this.setIndex(y),this.setAttribute("position",new Ve(h,3)),this.setAttribute("normal",new Ve(p,3)),this.setAttribute("uv",new Ve(g,2));function v(){for(let S=0;S<t;S++)_(S);_(s===!1?t:0),A(),w()}function _(S){f=e.getPointAt(S/t,f);const E=o.normals[S],C=o.binormals[S];for(let B=0;B<=r;B++){const L=B/r*Math.PI*2,b=Math.sin(L),R=-Math.cos(L);c.x=R*E.x+b*C.x,c.y=R*E.y+b*C.y,c.z=R*E.z+b*C.z,c.normalize(),p.push(c.x,c.y,c.z),a.x=f.x+i*c.x,a.y=f.y+i*c.y,a.z=f.z+i*c.z,h.push(a.x,a.y,a.z)}}function w(){for(let S=1;S<=t;S++)for(let E=1;E<=r;E++){const C=(r+1)*(S-1)+(E-1),B=(r+1)*S+(E-1),L=(r+1)*S+E,b=(r+1)*(S-1)+E;y.push(C,B,b),y.push(B,L,b)}}function A(){for(let S=0;S<=t;S++)for(let E=0;E<=r;E++)d.x=S/t,d.y=E/r,g.push(d.x,d.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Fd(new H_[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class _2 extends ct{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new F,s=new F;if(e.index!==null){const o=e.attributes.position,a=e.index;let c=e.groups;c.length===0&&(c=[{start:0,count:a.count,materialIndex:0}]);for(let d=0,f=c.length;d<f;++d){const h=c[d],p=h.start,g=h.count;for(let y=p,v=p+g;y<v;y+=3)for(let _=0;_<3;_++){const w=a.getX(y+_),A=a.getX(y+(_+1)%3);r.fromBufferAttribute(o,w),s.fromBufferAttribute(o,A),dM(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,c=o.count/3;a<c;a++)for(let d=0;d<3;d++){const f=3*a+d,h=3*a+(d+1)%3;r.fromBufferAttribute(o,f),s.fromBufferAttribute(o,h),dM(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Ve(t,3))}}}function dM(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var fM=Object.freeze({__proto__:null,BoxGeometry:Lo,CapsuleGeometry:Ed,CircleGeometry:Cd,ConeGeometry:bd,CylinderGeometry:Oa,DodecahedronGeometry:Td,EdgesGeometry:g2,ExtrudeGeometry:Bd,IcosahedronGeometry:Pd,LatheGeometry:wc,OctahedronGeometry:Ac,PlaneGeometry:xc,PolyhedronGeometry:Ds,RingGeometry:Rd,ShapeGeometry:Ld,SphereGeometry:Sc,TetrahedronGeometry:Id,TorusGeometry:Dd,TorusKnotGeometry:Nd,TubeGeometry:Fd,WireframeGeometry:_2});class w2 extends Sn{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new De(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class A2 extends Yr{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Od extends Sn{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new De(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new De(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Bo,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Zr extends Od{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new pe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return vn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new De(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new De(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new De(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class S2 extends Sn{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new De(16777215),this.specular=new De(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new De(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Bo,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=xd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class M2 extends Sn{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new De(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new De(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Bo,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class E2 extends Sn{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Bo,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class C2 extends Sn{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new De(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new De(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Bo,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=xd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class b2 extends Sn{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new De(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Bo,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class T2 extends ni{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function tr(n,e,t){return j_(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function pa(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function j_(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function B2(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function ix(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=t[s]*e;for(let c=0;c!==e;++c)r[o++]=n[a+c]}return r}function V_(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),t.push(o)),s=n[r++];while(s!==void 0)}function Cz(n,e,t,i,r=30){const s=n.clone();s.name=e;const o=[];for(let c=0;c<s.tracks.length;++c){const d=s.tracks[c],f=d.getValueSize(),h=[],p=[];for(let g=0;g<d.times.length;++g){const y=d.times[g]*r;if(!(y<t||y>=i)){h.push(d.times[g]);for(let v=0;v<f;++v)p.push(d.values[g*f+v])}}h.length!==0&&(d.times=pa(h,d.times.constructor),d.values=pa(p,d.values.constructor),o.push(d))}s.tracks=o;let a=1/0;for(let c=0;c<s.tracks.length;++c)a>s.tracks[c].times[0]&&(a=s.tracks[c].times[0]);for(let c=0;c<s.tracks.length;++c)s.tracks[c].shift(-1*a);return s.resetDuration(),s}function bz(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=t.tracks[o],c=a.ValueTypeName;if(c==="bool"||c==="string")continue;const d=n.tracks.find(function(w){return w.name===a.name&&w.ValueTypeName===c});if(d===void 0)continue;let f=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=h/3);let p=0;const g=d.getValueSize();d.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=g/3);const y=a.times.length-1;let v;if(s<=a.times[0]){const w=f,A=h-f;v=tr(a.values,w,A)}else if(s>=a.times[y]){const w=y*h+f,A=w+h-f;v=tr(a.values,w,A)}else{const w=a.createInterpolant(),A=f,S=h-f;w.evaluate(s),v=tr(w.resultBuffer,A,S)}c==="quaternion"&&new Un().fromArray(v).normalize().conjugate().toArray(v);const _=d.times.length;for(let w=0;w<_;++w){const A=w*g+p;if(c==="quaternion")Un.multiplyQuaternionsFlat(d.values,A,v,0,d.values,A);else{const S=g-p*2;for(let E=0;E<S;++E)d.values[A+E]-=v[E]}}}return n.blendMode=y_,n}var Tz=Object.freeze({__proto__:null,arraySlice:tr,convertArray:pa,flattenJSON:V_,getKeyframeOrder:B2,isTypedArray:j_,makeClipAdditive:bz,sortedArray:ix,subclip:Cz});class Mc{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(i=2,s=a);for(let c=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===c)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class P2 extends Mc{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:da,endingEnd:da}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],c=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case fa:s=e,a=2*t-i;break;case nd:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(c===void 0)switch(this.getSettings_().endingEnd){case fa:o=e,c=2*i-t;break;case nd:o=1,c=i+r[1]-r[0];break;default:o=e-1,c=t}const d=(i-t)*.5,f=this.valueSize;this._weightPrev=d/(t-a),this._weightNext=d/(c-i),this._offsetPrev=s*f,this._offsetNext=o*f}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,c=e*a,d=c-a,f=this._offsetPrev,h=this._offsetNext,p=this._weightPrev,g=this._weightNext,y=(i-t)/(r-t),v=y*y,_=v*y,w=-p*_+2*p*v-p*y,A=(1+p)*_+(-1.5-2*p)*v+(-.5+p)*y+1,S=(-1-g)*_+(1.5+g)*v+.5*y,E=g*_-g*v;for(let C=0;C!==a;++C)s[C]=w*o[f+C]+A*o[d+C]+S*o[c+C]+E*o[h+C];return s}}class W_ extends Mc{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,c=e*a,d=c-a,f=(i-t)/(r-t),h=1-f;for(let p=0;p!==a;++p)s[p]=o[d+p]*h+o[c+p]*f;return s}}class R2 extends Mc{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Lr{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=pa(t,this.TimeBufferType),this.values=pa(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:pa(e.times,Array),values:pa(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new R2(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new W_(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new P2(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case rc:t=this.InterpolantFactoryMethodDiscrete;break;case Pa:t=this.InterpolantFactoryMethodLinear;break;case Ap:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return rc;case this.InterpolantFactoryMethodLinear:return Pa;case this.InterpolantFactoryMethodSmooth:return Ap}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=tr(i,s,o),this.values=tr(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const c=i[a];if(typeof c=="number"&&isNaN(c)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,c),e=!1;break}if(o!==null&&o>c){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,c,o),e=!1;break}o=c}if(r!==void 0&&j_(r))for(let a=0,c=r.length;a!==c;++a){const d=r[a];if(isNaN(d)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,d),e=!1;break}}return e}optimize(){const e=tr(this.times),t=tr(this.values),i=this.getValueSize(),r=this.getInterpolation()===Ap,s=e.length-1;let o=1;for(let a=1;a<s;++a){let c=!1;const d=e[a],f=e[a+1];if(d!==f&&(a!==1||d!==e[0]))if(r)c=!0;else{const h=a*i,p=h-i,g=h+i;for(let y=0;y!==i;++y){const v=t[h+y];if(v!==t[p+y]||v!==t[g+y]){c=!0;break}}}if(c){if(a!==o){e[o]=e[a];const h=a*i,p=o*i;for(let g=0;g!==i;++g)t[p+g]=t[h+g]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,c=o*i,d=0;d!==i;++d)t[c+d]=t[a+d];++o}return o!==e.length?(this.times=tr(e,0,o),this.values=tr(t,0,o*i)):(this.times=e,this.values=t),this}clone(){const e=tr(this.times,0),t=tr(this.values,0),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Lr.prototype.TimeBufferType=Float32Array;Lr.prototype.ValueBufferType=Float32Array;Lr.prototype.DefaultInterpolation=Pa;class ka extends Lr{}ka.prototype.ValueTypeName="bool";ka.prototype.ValueBufferType=Array;ka.prototype.DefaultInterpolation=rc;ka.prototype.InterpolantFactoryMethodLinear=void 0;ka.prototype.InterpolantFactoryMethodSmooth=void 0;class J_ extends Lr{}J_.prototype.ValueTypeName="color";class lc extends Lr{}lc.prototype.ValueTypeName="number";class L2 extends Mc{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,c=(i-t)/(r-t);let d=e*a;for(let f=d+a;d!==f;d+=4)Un.slerpFlat(s,0,o,d-a,o,d,c);return s}}class Eo extends Lr{InterpolantFactoryMethodLinear(e){return new L2(this.times,this.values,this.getValueSize(),e)}}Eo.prototype.ValueTypeName="quaternion";Eo.prototype.DefaultInterpolation=Pa;Eo.prototype.InterpolantFactoryMethodSmooth=void 0;class za extends Lr{}za.prototype.ValueTypeName="string";za.prototype.ValueBufferType=Array;za.prototype.DefaultInterpolation=rc;za.prototype.InterpolantFactoryMethodLinear=void 0;za.prototype.InterpolantFactoryMethodSmooth=void 0;class cc extends Lr{}cc.prototype.ValueTypeName="vector";class uc{constructor(e,t=-1,i,r=bm){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=Oi(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(Pz(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(Lr.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let a=0;a<s;a++){let c=[],d=[];c.push((a+s-1)%s,a,(a+1)%s),d.push(0,1,0);const f=B2(c);c=ix(c,1,f),d=ix(d,1,f),!r&&c[0]===0&&(c.push(s),d.push(d[0])),o.push(new lc(".morphTargetInfluences["+t[a].name+"]",c,d).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,c=e.length;a<c;a++){const d=e[a],f=d.name.match(s);if(f&&f.length>1){const h=f[1];let p=r[h];p||(r[h]=p=[]),p.push(d)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(h,p,g,y,v){if(g.length!==0){const _=[],w=[];V_(g,_,w,y),_.length!==0&&v.push(new h(p,_,w))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let c=e.length||-1;const d=e.hierarchy||[];for(let h=0;h<d.length;h++){const p=d[h].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const g={};let y;for(y=0;y<p.length;y++)if(p[y].morphTargets)for(let v=0;v<p[y].morphTargets.length;v++)g[p[y].morphTargets[v]]=-1;for(const v in g){const _=[],w=[];for(let A=0;A!==p[y].morphTargets.length;++A){const S=p[y];_.push(S.time),w.push(S.morphTarget===v?1:0)}r.push(new lc(".morphTargetInfluence["+v+"]",_,w))}c=g.length*o}else{const g=".bones["+t[h].name+"]";i(cc,g+".position",p,"pos",r),i(Eo,g+".quaternion",p,"rot",r),i(cc,g+".scale",p,"scl",r)}}return r.length===0?null:new this(s,c,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Bz(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return lc;case"vector":case"vector2":case"vector3":case"vector4":return cc;case"color":return J_;case"quaternion":return Eo;case"bool":case"boolean":return ka;case"string":return za}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function Pz(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Bz(n.type);if(n.times===void 0){const t=[],i=[];V_(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const La={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class X_{constructor(e,t,i){const r=this;let s=!1,o=0,a=0,c;const d=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(f){a++,s===!1&&r.onStart!==void 0&&r.onStart(f,o,a),s=!0},this.itemEnd=function(f){o++,r.onProgress!==void 0&&r.onProgress(f,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(f){r.onError!==void 0&&r.onError(f)},this.resolveURL=function(f){return c?c(f):f},this.setURLModifier=function(f){return c=f,this},this.addHandler=function(f,h){return d.push(f,h),this},this.removeHandler=function(f){const h=d.indexOf(f);return h!==-1&&d.splice(h,2),this},this.getHandler=function(f){for(let h=0,p=d.length;h<p;h+=2){const g=d[h],y=d[h+1];if(g.global&&(g.lastIndex=0),g.test(f))return y}return null}}}const kl=new X_;let mi=class{constructor(e){this.manager=e!==void 0?e:kl,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}};const ms={};class Rz extends Error{constructor(e,t){super(e),this.response=t}}class zi extends mi{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=La.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(ms[e]!==void 0){ms[e].push({onLoad:t,onProgress:i,onError:r});return}ms[e]=[],ms[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,c=this.responseType;fetch(o).then(d=>{if(d.status===200||d.status===0){if(d.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||d.body===void 0||d.body.getReader===void 0)return d;const f=ms[e],h=d.body.getReader(),p=d.headers.get("Content-Length")||d.headers.get("X-File-Size"),g=p?parseInt(p):0,y=g!==0;let v=0;const _=new ReadableStream({start(w){A();function A(){h.read().then(({done:S,value:E})=>{if(S)w.close();else{v+=E.byteLength;const C=new ProgressEvent("progress",{lengthComputable:y,loaded:v,total:g});for(let B=0,L=f.length;B<L;B++){const b=f[B];b.onProgress&&b.onProgress(C)}w.enqueue(E),A()}})}}});return new Response(_)}else throw new Rz(`fetch for "${d.url}" responded with ${d.status}: ${d.statusText}`,d)}).then(d=>{switch(c){case"arraybuffer":return d.arrayBuffer();case"blob":return d.blob();case"document":return d.text().then(f=>new DOMParser().parseFromString(f,a));case"json":return d.json();default:if(a===void 0)return d.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),p=h&&h[1]?h[1].toLowerCase():void 0,g=new TextDecoder(p);return d.arrayBuffer().then(y=>g.decode(y))}}}).then(d=>{La.add(e,d);const f=ms[e];delete ms[e];for(let h=0,p=f.length;h<p;h++){const g=f[h];g.onLoad&&g.onLoad(d)}}).catch(d=>{const f=ms[e];if(f===void 0)throw this.manager.itemError(e),d;delete ms[e];for(let h=0,p=f.length;h<p;h++){const g=f[h];g.onError&&g.onError(d)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Lz extends mi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new zi(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(c){r?r(c):console.error(c),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=uc.parse(e[i]);t.push(r)}return t}}class Iz extends mi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=[],a=new F_,c=new zi(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(s.withCredentials);let d=0;function f(h){c.load(e[h],function(p){const g=s.parse(p,!0);o[h]={width:g.width,height:g.height,format:g.format,mipmaps:g.mipmaps},d+=1,d===6&&(g.mipmapCount===1&&(a.minFilter=nn),a.image=o,a.format=g.format,a.needsUpdate=!0,t&&t(a))},i,r)}if(Array.isArray(e))for(let h=0,p=e.length;h<p;++h)f(h);else c.load(e,function(h){const p=s.parse(h,!0);if(p.isCubemap){const g=p.mipmaps.length/p.mipmapCount;for(let y=0;y<g;y++){o[y]={mipmaps:[]};for(let v=0;v<p.mipmapCount;v++)o[y].mipmaps.push(p.mipmaps[y*p.mipmapCount+v]),o[y].format=p.format,o[y].width=p.width,o[y].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=nn),a.format=p.format,a.needsUpdate=!0,t&&t(a)},i,r);return a}}class ud extends mi{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=La.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=sd("img");function c(){f(),La.add(e,this),t&&t(this),s.manager.itemEnd(e)}function d(h){f(),r&&r(h),s.manager.itemError(e),s.manager.itemEnd(e)}function f(){a.removeEventListener("load",c,!1),a.removeEventListener("error",d,!1)}return a.addEventListener("load",c,!1),a.addEventListener("error",d,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class Dz extends mi{constructor(e){super(e)}load(e,t,i,r){const s=new Ad,o=new ud(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function c(d){o.load(e[d],function(f){s.images[d]=f,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let d=0;d<e.length;++d)c(d);return s}}class Nz extends mi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Xl,a=new zi(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(c){const d=s.parse(c);d&&(d.image!==void 0?o.image=d.image:d.data!==void 0&&(o.image.width=d.width,o.image.height=d.height,o.image.data=d.data),o.wrapS=d.wrapS!==void 0?d.wrapS:jn,o.wrapT=d.wrapT!==void 0?d.wrapT:jn,o.magFilter=d.magFilter!==void 0?d.magFilter:nn,o.minFilter=d.minFilter!==void 0?d.minFilter:nn,o.anisotropy=d.anisotropy!==void 0?d.anisotropy:1,d.encoding!==void 0&&(o.encoding=d.encoding),d.flipY!==void 0&&(o.flipY=d.flipY),d.format!==void 0&&(o.format=d.format),d.type!==void 0&&(o.type=d.type),d.mipmaps!==void 0&&(o.mipmaps=d.mipmaps,o.minFilter=Kr),d.mipmapCount===1&&(o.minFilter=nn),d.generateMipmaps!==void 0&&(o.generateMipmaps=d.generateMipmaps),o.needsUpdate=!0,t&&t(o,d))},i,r),o}}class I2 extends mi{constructor(e){super(e)}load(e,t,i,r){const s=new Qt,o=new ud(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class Io extends bt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new De(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class D2 extends Io{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(bt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new De(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const nv=new st,hM=new F,pM=new F;class q_{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new pe(512,512),this.map=null,this.mapPass=null,this.matrix=new st,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Bm,this._frameExtents=new pe(1,1),this._viewportCount=1,this._viewports=[new Ft(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;hM.setFromMatrixPosition(e.matrixWorld),t.position.copy(hM),pM.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(pM),t.updateMatrixWorld(),nv.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(nv),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(nv)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Fz extends q_{constructor(){super(new Wt(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=rd*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class K_ extends Io{constructor(e,t,i=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(bt.DEFAULT_UP),this.updateMatrix(),this.target=new bt,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new Fz}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const mM=new st,du=new F,iv=new F;class Oz extends q_{constructor(){super(new Wt(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new pe(4,2),this._viewportCount=6,this._viewports=[new Ft(2,1,1,1),new Ft(0,1,1,1),new Ft(3,1,1,1),new Ft(1,1,1,1),new Ft(3,0,1,1),new Ft(1,0,1,1)],this._cubeDirections=[new F(1,0,0),new F(-1,0,0),new F(0,0,1),new F(0,0,-1),new F(0,1,0),new F(0,-1,0)],this._cubeUps=[new F(0,1,0),new F(0,1,0),new F(0,1,0),new F(0,1,0),new F(0,0,1),new F(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),du.setFromMatrixPosition(e.matrixWorld),i.position.copy(du),iv.copy(i.position),iv.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(iv),i.updateMatrixWorld(),r.makeTranslation(-du.x,-du.y,-du.z),mM.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(mM)}}class Y_ extends Io{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new Oz}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class kz extends q_{constructor(){super(new ar(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Q_ extends Io{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(bt.DEFAULT_UP),this.updateMatrix(),this.target=new bt,this.shadow=new kz}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class N2 extends Io{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class F2 extends Io{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class O2{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new F)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(i*s)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*i*s),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class km extends Io{constructor(e=new O2,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class zm extends mi{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,o=new zi(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(c){r?r(c):console.error(c),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=zm.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new De().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new De().setHex(o.value);break;case"v2":r.uniforms[s].value=new pe().fromArray(o.value);break;case"v3":r.uniforms[s].value=new F().fromArray(o.value);break;case"v4":r.uniforms[s].value=new Ft().fromArray(o.value);break;case"m3":r.uniforms[s].value=new di().fromArray(o.value);break;case"m4":r.uniforms[s].value=new st().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new pe().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new pe().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:w2,SpriteMaterial:R_,RawShaderMaterial:A2,ShaderMaterial:Yr,PointsMaterial:Dm,MeshPhysicalMaterial:Zr,MeshStandardMaterial:Od,MeshPhongMaterial:S2,MeshToonMaterial:M2,MeshNormalMaterial:E2,MeshLambertMaterial:C2,MeshDepthMaterial:T_,MeshDistanceMaterial:B_,MeshBasicMaterial:Ni,MeshMatcapMaterial:b2,LineDashedMaterial:T2,LineBasicMaterial:ni,Material:Sn};return new t[e]}}class Xr{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class k2 extends ct{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class z2 extends mi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new zi(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(c){r?r(c):console.error(c),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(g,y){if(t[y]!==void 0)return t[y];const _=g.interleavedBuffers[y],w=s(g,_.buffer),A=Nl(_.type,w),S=new Sd(A,_.stride);return S.uuid=_.uuid,t[y]=S,S}function s(g,y){if(i[y]!==void 0)return i[y];const _=g.arrayBuffers[y],w=new Uint32Array(_).buffer;return i[y]=w,w}const o=e.isInstancedBufferGeometry?new k2:new ct,a=e.data.index;if(a!==void 0){const g=Nl(a.type,a.array);o.setIndex(new It(g,1))}const c=e.data.attributes;for(const g in c){const y=c[g];let v;if(y.isInterleavedBufferAttribute){const _=r(e.data,y.data);v=new Mo(_,y.itemSize,y.offset,y.normalized)}else{const _=Nl(y.type,y.array),w=y.isInstancedBufferAttribute?ac:It;v=new w(_,y.itemSize,y.normalized)}y.name!==void 0&&(v.name=y.name),y.usage!==void 0&&v.setUsage(y.usage),y.updateRange!==void 0&&(v.updateRange.offset=y.updateRange.offset,v.updateRange.count=y.updateRange.count),o.setAttribute(g,v)}const d=e.data.morphAttributes;if(d)for(const g in d){const y=d[g],v=[];for(let _=0,w=y.length;_<w;_++){const A=y[_];let S;if(A.isInterleavedBufferAttribute){const E=r(e.data,A.data);S=new Mo(E,A.itemSize,A.offset,A.normalized)}else{const E=Nl(A.type,A.array);S=new It(E,A.itemSize,A.normalized)}A.name!==void 0&&(S.name=A.name),v.push(S)}o.morphAttributes[g]=v}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let g=0,y=h.length;g!==y;++g){const v=h[g];o.addGroup(v.start,v.count,v.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const g=new F;p.center!==void 0&&g.fromArray(p.center),o.boundingSphere=new Ro(g,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class zz extends mi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=this.path===""?Xr.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new zi(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(c){let d=null;try{d=JSON.parse(c)}catch(h){r!==void 0&&r(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const f=d.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(d,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?Xr.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new zi(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),c=a.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(d)}),a=this.parseTextures(e.textures,o),c=this.parseMaterials(e.materials,a),d=this.parseObject(e.object,s,c,a,i),f=this.parseSkeletons(e.skeletons,d);if(this.bindSkeletons(d,f),t!==void 0){let h=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){h=!0;break}h===!1&&t(d)}return d}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),c=this.parseObject(e.object,r,a,o,t),d=this.parseSkeletons(e.skeletons,c);return this.bindSkeletons(c,d),c}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new Sa().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new Md().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new z2;for(let s=0,o=e.length;s<o;s++){let a;const c=e[s];switch(c.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(c);break;default:c.type in fM?a=fM[c.type].fromJSON(c,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${c.type}"`)}a.uuid=c.uuid,c.name!==void 0&&(a.name=c.name),a.isBufferGeometry===!0&&c.userData!==void 0&&(a.userData=c.userData),i[c.uuid]=a}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new zm;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const c=e[o];i[c.uuid]===void 0&&(i[c.uuid]=s.parse(c)),r[c.uuid]=i[c.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=uc.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function o(c){return i.manager.itemStart(c),s.load(c,function(){i.manager.itemEnd(c)},void 0,function(){i.manager.itemError(c),i.manager.itemEnd(c)})}function a(c){if(typeof c=="string"){const d=c,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(d)?d:i.resourcePath+d;return o(f)}else return c.data?{data:Nl(c.type,c.data),width:c.width,height:c.height}:null}if(e!==void 0&&e.length>0){const c=new X_(t);s=new ud(c),s.setCrossOrigin(this.crossOrigin);for(let d=0,f=e.length;d<f;d++){const h=e[d],p=h.url;if(Array.isArray(p)){const g=[];for(let y=0,v=p.length;y<v;y++){const _=p[y],w=a(_);w!==null&&(w instanceof HTMLImageElement?g.push(w):g.push(new Xl(w.data,w.width,w.height)))}r[h.uuid]=new ha(g)}else{const g=a(h.url);r[h.uuid]=new ha(g)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await r.loadAsync(c)}else return o.data?{data:Nl(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new ud(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const c=e[o],d=c.url;if(Array.isArray(d)){const f=[];for(let h=0,p=d.length;h<p;h++){const g=d[h],y=await s(g);y!==null&&(y instanceof HTMLImageElement?f.push(y):f.push(new Xl(y.data,y.width,y.height)))}i[c.uuid]=new ha(f)}else{const f=await s(c.url);i[c.uuid]=new ha(f)}}}return i}parseTextures(e,t){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const c=t[a.image],d=c.data;let f;Array.isArray(d)?(f=new Ad,d.length===6&&(f.needsUpdate=!0)):(d&&d.data?f=new Xl:f=new Qt,d&&(f.needsUpdate=!0)),f.source=c,f.uuid=a.uuid,a.name!==void 0&&(f.name=a.name),a.mapping!==void 0&&(f.mapping=i(a.mapping,Uz)),a.offset!==void 0&&f.offset.fromArray(a.offset),a.repeat!==void 0&&f.repeat.fromArray(a.repeat),a.center!==void 0&&f.center.fromArray(a.center),a.rotation!==void 0&&(f.rotation=a.rotation),a.wrap!==void 0&&(f.wrapS=i(a.wrap[0],gM),f.wrapT=i(a.wrap[1],gM)),a.format!==void 0&&(f.format=a.format),a.type!==void 0&&(f.type=a.type),a.encoding!==void 0&&(f.encoding=a.encoding),a.minFilter!==void 0&&(f.minFilter=i(a.minFilter,vM)),a.magFilter!==void 0&&(f.magFilter=i(a.magFilter,vM)),a.anisotropy!==void 0&&(f.anisotropy=a.anisotropy),a.flipY!==void 0&&(f.flipY=a.flipY),a.generateMipmaps!==void 0&&(f.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(f.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(f.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(f.userData=a.userData),r[a.uuid]=f}return r}parseObject(e,t,i,r,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function c(p){if(p!==void 0){if(Array.isArray(p)){const g=[];for(let y=0,v=p.length;y<v;y++){const _=p[y];i[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),g.push(i[_])}return g}return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),i[p]}}function d(p){return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),r[p]}let f,h;switch(e.type){case"Scene":o=new rm,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new De(e.background):o.background=d(e.background)),e.environment!==void 0&&(o.environment=d(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new Lm(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new Rm(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new Wt(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new ar(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new N2(e.color,e.intensity);break;case"DirectionalLight":o=new Q_(e.color,e.intensity);break;case"PointLight":o=new Y_(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new F2(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new K_(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new D2(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new km().fromJSON(e);break;case"SkinnedMesh":f=a(e.geometry),h=c(e.material),o=new L_(f,h),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":f=a(e.geometry),h=c(e.material),o=new kn(f,h);break;case"InstancedMesh":f=a(e.geometry),h=c(e.material);const p=e.count,g=e.instanceMatrix,y=e.instanceColor;o=new I_(f,h,p),o.instanceMatrix=new ac(new Float32Array(g.array),16),y!==void 0&&(o.instanceColor=new ac(new Float32Array(y.array),y.itemSize));break;case"LOD":o=new u2;break;case"Line":o=new Ls(a(e.geometry),c(e.material));break;case"LineLoop":o=new D_(a(e.geometry),c(e.material));break;case"LineSegments":o=new Pr(a(e.geometry),c(e.material));break;case"PointCloud":case"Points":o=new N_(a(e.geometry),c(e.material));break;case"Sprite":o=new c2(c(e.material));break;case"Group":o=new Ms;break;case"Bone":o=new Im;break;default:o=new bt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let g=0;g<p.length;g++)o.add(this.parseObject(p[g],t,i,r,s))}if(e.animations!==void 0){const p=e.animations;for(let g=0;g<p.length;g++){const y=p[g];o.animations.push(s[y])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let g=0;g<p.length;g++){const y=p[g],v=o.getObjectByProperty("uuid",y.object);v!==void 0&&o.addLevel(v,y.distance,y.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}}const Uz={UVMapping:Em,CubeReflectionMapping:_o,CubeRefractionMapping:wo,EquirectangularReflectionMapping:$u,EquirectangularRefractionMapping:ed,CubeUVReflectionMapping:vc},gM={RepeatWrapping:Ao,ClampToEdgeWrapping:jn,MirroredRepeatWrapping:nc},vM={NearestFilter:hn,NearestMipmapNearestFilter:td,NearestMipmapLinearFilter:Jl,LinearFilter:nn,LinearMipmapNearestFilter:Cm,LinearMipmapLinearFilter:Kr};class U2 extends mi{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=La.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){La.add(e,c),t&&t(c),s.manager.itemEnd(e)}).catch(function(c){r&&r(c),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let Hh;class Z_{static getContext(){return Hh===void 0&&(Hh=new(window.AudioContext||window.webkitAudioContext)),Hh}static setContext(e){Hh=e}}class Gz extends mi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new zi(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const c=a.slice(0);Z_.getContext().decodeAudioData(c,function(f){t(f)})}catch(c){r?r(c):console.error(c),s.manager.itemError(e)}},i,r)}}class Hz extends km{constructor(e,t,i=1){super(void 0,i),this.isHemisphereLightProbe=!0;const r=new De().set(e),s=new De().set(t),o=new F(r.r,r.g,r.b),a=new F(s.r,s.g,s.b),c=Math.sqrt(Math.PI),d=c*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(c),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(d)}}class jz extends km{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const i=new De().set(e);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const yM=new st,xM=new st,Xo=new st;class Vz{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Wt,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Wt,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Xo.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,o=t.near*Math.tan(_a*t.fov*.5)/t.zoom;let a,c;xM.elements[12]=-r,yM.elements[12]=r,a=-o*t.aspect+s,c=o*t.aspect+s,Xo.elements[0]=2*t.near/(c-a),Xo.elements[8]=(c+a)/(c-a),this.cameraL.projectionMatrix.copy(Xo),a=-o*t.aspect-s,c=o*t.aspect-s,Xo.elements[0]=2*t.near/(c-a),Xo.elements[8]=(c+a)/(c-a),this.cameraR.projectionMatrix.copy(Xo)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(xM),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(yM)}}class $_{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=_M(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=_M();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function _M(){return(typeof performance>"u"?Date:performance).now()}const qo=new F,wM=new Un,Wz=new F,Ko=new F;class Jz extends bt{constructor(){super(),this.type="AudioListener",this.context=Z_.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new $_}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(qo,wM,Wz),Ko.set(0,0,-1).applyQuaternion(wM),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(qo.x,r),t.positionY.linearRampToValueAtTime(qo.y,r),t.positionZ.linearRampToValueAtTime(qo.z,r),t.forwardX.linearRampToValueAtTime(Ko.x,r),t.forwardY.linearRampToValueAtTime(Ko.y,r),t.forwardZ.linearRampToValueAtTime(Ko.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(qo.x,qo.y,qo.z),t.setOrientation(Ko.x,Ko.y,Ko.z,i.x,i.y,i.z)}}class G2 extends bt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Yo=new F,AM=new Un,Xz=new F,Qo=new F;class qz extends G2{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Yo,AM,Xz),Qo.set(0,0,1).applyQuaternion(AM);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Yo.x,i),t.positionY.linearRampToValueAtTime(Yo.y,i),t.positionZ.linearRampToValueAtTime(Yo.z,i),t.orientationX.linearRampToValueAtTime(Qo.x,i),t.orientationY.linearRampToValueAtTime(Qo.y,i),t.orientationZ.linearRampToValueAtTime(Qo.z,i)}else t.setPosition(Yo.x,Yo.y,Yo.z),t.setOrientation(Qo.x,Qo.y,Qo.z)}}class Kz{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class H2{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const c=t*this._origIndex;this._mixBufferRegion(i,r,c,1-s,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let c=t,d=t+t;c!==d;++c)if(i[c]!==i[c+t]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,o=r;s!==o;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){Un.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const o=this._workIndex*s;Un.multiplyQuaternionsFlat(e,o,e,t,e,i),Un.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const c=t+a;e[c]=e[c]*o+e[i+a]*r}}_lerpAdditive(e,t,i,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[i+o]*r}}}const e1="\\[\\]\\.:\\/",Yz=new RegExp("["+e1+"]","g"),t1="[^"+e1+"]",Qz="[^"+e1.replace("\\.","")+"]",Zz=/((?:WC+[\/:])*)/.source.replace("WC",t1),$z=/(WCOD+)?/.source.replace("WCOD",Qz),eU=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",t1),tU=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",t1),nU=new RegExp("^"+Zz+$z+eU+tU+"$"),iU=["material","materials","bones","map"];class rU{constructor(e,t,i){const r=i||Ct.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Ct{constructor(e,t,i){this.path=t,this.parsedPath=i||Ct.parseTrackName(t),this.node=Ct.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Ct.Composite(e,t,i):new Ct(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Yz,"")}static parseTrackName(e){const t=nU.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);iU.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const c=i(a.children);if(c)return c}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=Ct.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){let d=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let f=0;f<e.length;f++)if(e[f].name===d){d=f;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(d!==void 0){if(e[d]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[d]}}const o=e[r];if(o===void 0){const d=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+d+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}c=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(c=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(c=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Ct.Composite=rU;Ct.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Ct.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Ct.prototype.GetterByBindingType=[Ct.prototype._getValue_direct,Ct.prototype._getValue_array,Ct.prototype._getValue_arrayElement,Ct.prototype._getValue_toArray];Ct.prototype.SetterByBindingTypeAndVersioning=[[Ct.prototype._setValue_direct,Ct.prototype._setValue_direct_setNeedsUpdate,Ct.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Ct.prototype._setValue_array,Ct.prototype._setValue_array_setNeedsUpdate,Ct.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Ct.prototype._setValue_arrayElement,Ct.prototype._setValue_arrayElement_setNeedsUpdate,Ct.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Ct.prototype._setValue_fromArray,Ct.prototype._setValue_fromArray_setNeedsUpdate,Ct.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class sU{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Oi(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,c=e.length,d=this.nCachedObjects_;for(let f=0,h=arguments.length;f!==h;++f){const p=arguments[f],g=p.uuid;let y=t[g];if(y===void 0){y=c++,t[g]=y,e.push(p);for(let v=0,_=o;v!==_;++v)s[v].push(new Ct(p,i[v],r[v]))}else if(y<d){a=e[y];const v=--d,_=e[v];t[_.uuid]=y,e[y]=_,t[g]=v,e[v]=p;for(let w=0,A=o;w!==A;++w){const S=s[w],E=S[v];let C=S[y];S[y]=E,C===void 0&&(C=new Ct(p,i[w],r[w])),S[v]=C}}else e[y]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=d}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const c=arguments[o],d=c.uuid,f=t[d];if(f!==void 0&&f>=s){const h=s++,p=e[h];t[p.uuid]=f,e[f]=p,t[d]=h,e[h]=c;for(let g=0,y=r;g!==y;++g){const v=i[g],_=v[h],w=v[f];v[f]=_,v[h]=w}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,c=arguments.length;a!==c;++a){const d=arguments[a],f=d.uuid,h=t[f];if(h!==void 0)if(delete t[f],h<s){const p=--s,g=e[p],y=--o,v=e[y];t[g.uuid]=h,e[h]=g,t[v.uuid]=p,e[p]=v,e.pop();for(let _=0,w=r;_!==w;++_){const A=i[_],S=A[p],E=A[y];A[h]=S,A[p]=E,A.pop()}}else{const p=--o,g=e[p];p>0&&(t[g.uuid]=h),e[h]=g,e.pop();for(let y=0,v=r;y!==v;++y){const _=i[y];_[h]=_[p],_.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,c=this._objects,d=c.length,f=this.nCachedObjects_,h=new Array(d);r=s.length,i[e]=r,o.push(e),a.push(t),s.push(h);for(let p=f,g=c.length;p!==g;++p){const y=c[p];h[p]=new Ct(y,e,t)}return h}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,c=o[a],d=e[a];t[d]=i,o[i]=c,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class oU{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),c={endingStart:da,endingEnd:da};for(let d=0;d!==o;++d){const f=s[d].createInterpolant(null);a[d]=f,f.settings=c}this._interpolantSettings=c,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=UT,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const c=a.parameterPositions,d=a.sampleValues;return c[0]=s,c[1]=s+i,d[0]=e/o,d[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const c=(e-s)*i;c<0||i===0?t=0:(this._startTime=null,t=i*c)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const c=this._interpolants,d=this._propertyBindings;switch(this.blendMode){case y_:for(let f=0,h=c.length;f!==h;++f)c[f].evaluate(o),d[f].accumulateAdditive(a);break;case bm:default:for(let f=0,h=c.length;f!==h;++f)c[f].evaluate(o),d[f].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===GT;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(i===zT){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const c=this.repetitions-s;if(c<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(c===1){const d=e<0;this._setEndings(d,!d,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=fa,r.endingEnd=fa):(e?r.endingStart=this.zeroSlopeAtStart?fa:da:r.endingStart=nd,t?r.endingEnd=this.zeroSlopeAtEnd?fa:da:r.endingEnd=nd)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,c=o.sampleValues;return a[0]=s,c[0]=t,a[1]=s+e,c[1]=i,this}}const aU=new Float32Array(1);class lU extends Qr{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,c=i.uuid,d=this._bindingsByRootAndName;let f=d[c];f===void 0&&(f={},d[c]=f);for(let h=0;h!==s;++h){const p=r[h],g=p.name;let y=f[g];if(y!==void 0)++y.referenceCount,o[h]=y;else{if(y=o[h],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,c,g));continue}const v=t&&t._propertyBindings[h].binding.parsedPath;y=new H2(Ct.create(i,g,v),p.ValueTypeName,p.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,c,g),o[h]=y}a[h].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],c=a.knownActions,d=c[c.length-1],f=e._byClipCacheIndex;d._byClipCacheIndex=f,c[f]=d,c.pop(),e._byClipCacheIndex=null;const h=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete h[p],c.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],c=t[t.length-1],d=e._cacheIndex;c._cacheIndex=d,t[d]=c,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new W_(new Float32Array(2),new Float32Array(2),1,aU),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?uc.findByName(r,e):e;const a=o!==null?o.uuid:e,c=this._actionsByClip[a];let d=null;if(i===void 0&&(o!==null?i=o.blendMode:i=bm),c!==void 0){const h=c.actionByRoot[s];if(h!==void 0&&h.blendMode===i)return h;d=c.knownActions[0],o===null&&(o=d._clip)}if(o===null)return null;const f=new oU(this,o,t,i);return this._bindAction(f,d),this._addInactiveAction(f,a,s),f}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?uc.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let d=0;d!==i;++d)t[d]._update(r,e,s,o);const a=this._bindings,c=this._nActiveBindings;for(let d=0;d!==c;++d)a[d].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,c=o.length;a!==c;++a){const d=o[a];this._deactivateAction(d);const f=d._cacheIndex,h=t[t.length-1];d._cacheIndex=null,d._byClipCacheIndex=null,h._cacheIndex=f,t[f]=h,t.pop(),this._removeInactiveBindingsForAction(d)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,c=a[t];c!==void 0&&(this._deactivateAction(c),this._removeInactiveAction(c))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class n1{constructor(e){this.value=e}clone(){return new n1(this.value.clone===void 0?this.value:this.value.clone())}}let cU=0;class uU extends Qr{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:cU++}),this.name="",this.usage=id,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++)this.uniforms.push(t[i].clone());return this}clone(){return new this.constructor().copy(this)}}class dU extends Sd{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class fU{constructor(e,t,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class j2{constructor(e,t,i=0,r=1/0){this.ray=new yc(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new Aa,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,i=[]){return rx(e,this,i,t),i.sort(SM),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)rx(e[r],this,i,t);return i.sort(SM),i}}function SM(n,e){return n.distance-e.distance}function rx(n,e,t,i){if(n.layers.test(e.layers)&&n.raycast(e,t),i===!0){const r=n.children;for(let s=0,o=r.length;s<o;s++)rx(r[s],e,t,!0)}}class sx{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(vn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class hU{constructor(e=1,t=0,i=0){return this.radius=e,this.theta=t,this.y=i,this}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}const MM=new pe;class pU{constructor(e=new pe(1/0,1/0),t=new pe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=MM.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return MM.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const EM=new F,jh=new F;class mU{constructor(e=new F,t=new F){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){EM.subVectors(e,this.start),jh.subVectors(this.end,this.start);const i=jh.dot(jh);let s=jh.dot(EM)/i;return t&&(s=vn(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const CM=new F;class gU extends bt{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new ct,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,c=32;o<c;o++,a++){const d=o/c*Math.PI*2,f=a/c*Math.PI*2;r.push(Math.cos(d),Math.sin(d),1,Math.cos(f),Math.sin(f),1)}i.setAttribute("position",new Ve(r,3));const s=new ni({fog:!1,toneMapped:!1});this.cone=new Pr(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),CM.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(CM),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const qs=new F,Vh=new st,rv=new st;class vU extends Pr{constructor(e){const t=V2(e),i=new ct,r=[],s=[],o=new De(0,0,1),a=new De(0,1,0);for(let d=0;d<t.length;d++){const f=t[d];f.parent&&f.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new Ve(r,3)),i.setAttribute("color",new Ve(s,3));const c=new ni({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,c),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");rv.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(Vh.multiplyMatrices(rv,a.matrixWorld),qs.setFromMatrixPosition(Vh),r.setXYZ(o,qs.x,qs.y,qs.z),Vh.multiplyMatrices(rv,a.parent.matrixWorld),qs.setFromMatrixPosition(Vh),r.setXYZ(o+1,qs.x,qs.y,qs.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function V2(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,V2(n.children[t]));return e}class yU extends kn{constructor(e,t,i){const r=new Sc(t,4,2),s=new Ni({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const xU=new F,bM=new De,TM=new De;class _U extends bt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new Ac(t);r.rotateY(Math.PI*.5),this.material=new Ni({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new It(o,3)),this.add(new kn(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");bM.copy(this.light.color),TM.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?bM:TM;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(xU.setFromMatrixPosition(this.light.matrixWorld).negate())}}class wU extends Pr{constructor(e=10,t=10,i=4473924,r=8947848){i=new De(i),r=new De(r);const s=t/2,o=e/t,a=e/2,c=[],d=[];for(let p=0,g=0,y=-a;p<=t;p++,y+=o){c.push(-a,0,y,a,0,y),c.push(y,0,-a,y,0,a);const v=p===s?i:r;v.toArray(d,g),g+=3,v.toArray(d,g),g+=3,v.toArray(d,g),g+=3,v.toArray(d,g),g+=3}const f=new ct;f.setAttribute("position",new Ve(c,3)),f.setAttribute("color",new Ve(d,3));const h=new ni({vertexColors:!0,toneMapped:!1});super(f,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class AU extends Pr{constructor(e=10,t=16,i=8,r=64,s=4473924,o=8947848){s=new De(s),o=new De(o);const a=[],c=[];if(t>1)for(let h=0;h<t;h++){const p=h/t*(Math.PI*2),g=Math.sin(p)*e,y=Math.cos(p)*e;a.push(0,0,0),a.push(g,0,y);const v=h&1?s:o;c.push(v.r,v.g,v.b),c.push(v.r,v.g,v.b)}for(let h=0;h<i;h++){const p=h&1?s:o,g=e-e/i*h;for(let y=0;y<r;y++){let v=y/r*(Math.PI*2),_=Math.sin(v)*g,w=Math.cos(v)*g;a.push(_,0,w),c.push(p.r,p.g,p.b),v=(y+1)/r*(Math.PI*2),_=Math.sin(v)*g,w=Math.cos(v)*g,a.push(_,0,w),c.push(p.r,p.g,p.b)}}const d=new ct;d.setAttribute("position",new Ve(a,3)),d.setAttribute("color",new Ve(c,3));const f=new ni({vertexColors:!0,toneMapped:!1});super(d,f),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const BM=new F,Wh=new F,PM=new F;class SU extends bt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new ct;r.setAttribute("position",new Ve([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new ni({fog:!1,toneMapped:!1});this.lightPlane=new Ls(r,s),this.add(this.lightPlane),r=new ct,r.setAttribute("position",new Ve([0,0,0,0,0,1],3)),this.targetLine=new Ls(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),BM.setFromMatrixPosition(this.light.matrixWorld),Wh.setFromMatrixPosition(this.light.target.matrixWorld),PM.subVectors(Wh,BM),this.lightPlane.lookAt(Wh),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Wh),this.targetLine.scale.z=PM.length()}}const Jh=new F,un=new wd;class MU extends Pr{constructor(e){const t=new ct,i=new ni({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(y,v){c(y),c(v)}function c(y){r.push(0,0,0),s.push(0,0,0),o[y]===void 0&&(o[y]=[]),o[y].push(r.length/3-1)}t.setAttribute("position",new Ve(r,3)),t.setAttribute("color",new Ve(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const d=new De(16755200),f=new De(16711680),h=new De(43775),p=new De(16777215),g=new De(3355443);this.setColors(d,f,h,p,g)}setColors(e,t,i,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;un.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),mn("c",t,e,un,0,0,-1),mn("t",t,e,un,0,0,1),mn("n1",t,e,un,-i,-r,-1),mn("n2",t,e,un,i,-r,-1),mn("n3",t,e,un,-i,r,-1),mn("n4",t,e,un,i,r,-1),mn("f1",t,e,un,-i,-r,1),mn("f2",t,e,un,i,-r,1),mn("f3",t,e,un,-i,r,1),mn("f4",t,e,un,i,r,1),mn("u1",t,e,un,i*.7,r*1.1,-1),mn("u2",t,e,un,-i*.7,r*1.1,-1),mn("u3",t,e,un,0,r*2,-1),mn("cf1",t,e,un,-i,0,1),mn("cf2",t,e,un,i,0,1),mn("cf3",t,e,un,0,-r,1),mn("cf4",t,e,un,0,r,1),mn("cn1",t,e,un,-i,0,-1),mn("cn2",t,e,un,i,0,-1),mn("cn3",t,e,un,0,-r,-1),mn("cn4",t,e,un,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function mn(n,e,t,i,r,s,o){Jh.set(r,s,o).unproject(i);const a=e[n];if(a!==void 0){const c=t.getAttribute("position");for(let d=0,f=a.length;d<f;d++)c.setXYZ(a[d],Jh.x,Jh.y,Jh.z)}}const Xh=new Po;class EU extends Pr{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new ct;s.setIndex(new It(i,1)),s.setAttribute("position",new It(r,3)),super(s,new ni({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Xh.setFromObject(this.object),Xh.isEmpty())return;const t=Xh.min,i=Xh.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=t.x,s[4]=i.y,s[5]=i.z,s[6]=t.x,s[7]=t.y,s[8]=i.z,s[9]=i.x,s[10]=t.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=t.z,s[15]=t.x,s[16]=i.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=i.x,s[22]=t.y,s[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class CU extends Pr{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new ct;s.setIndex(new It(i,1)),s.setAttribute("position",new Ve(r,3)),super(s,new ni({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class bU extends Ls{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new ct;o.setAttribute("position",new Ve(s,3)),o.computeBoundingSphere(),super(o,new ni({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],c=new ct;c.setAttribute("position",new Ve(a,3)),c.computeBoundingSphere(),this.add(new kn(c,new Ni({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const RM=new F;let qh,sv;class TU extends bt{constructor(e=new F(0,0,1),t=new F(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",qh===void 0&&(qh=new ct,qh.setAttribute("position",new Ve([0,0,0,0,1,0],3)),sv=new Oa(0,.5,1,5,1),sv.translate(0,-.5,0)),this.position.copy(t),this.line=new Ls(qh,new ni({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new kn(sv,new Ni({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{RM.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(RM,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class BU extends Pr{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new ct;r.setAttribute("position",new Ve(t,3)),r.setAttribute("color",new Ve(i,3));const s=new ni({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new De,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class PU{constructor(){this.type="ShapePath",this.color=new De,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new od,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,o){return this.currentPath.bezierCurveTo(e,t,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(w){const A=[];for(let S=0,E=w.length;S<E;S++){const C=w[S],B=new Sa;B.curves=C.curves,A.push(B)}return A}function i(w,A){const S=A.length;let E=!1;for(let C=S-1,B=0;B<S;C=B++){let L=A[C],b=A[B],R=b.x-L.x,D=b.y-L.y;if(Math.abs(D)>Number.EPSILON){if(D<0&&(L=A[B],R=-R,b=A[C],D=-D),w.y<L.y||w.y>b.y)continue;if(w.y===L.y){if(w.x===L.x)return!0}else{const U=D*(w.x-L.x)-R*(w.y-L.y);if(U===0)return!0;if(U<0)continue;E=!E}}else{if(w.y!==L.y)continue;if(b.x<=w.x&&w.x<=L.x||L.x<=w.x&&w.x<=b.x)return!0}}return E}const r=Jr.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,c;const d=[];if(s.length===1)return a=s[0],c=new Sa,c.curves=a.curves,d.push(c),d;let f=!r(s[0].getPoints());f=e?!f:f;const h=[],p=[];let g=[],y=0,v;p[y]=void 0,g[y]=[];for(let w=0,A=s.length;w<A;w++)a=s[w],v=a.getPoints(),o=r(v),o=e?!o:o,o?(!f&&p[y]&&y++,p[y]={s:new Sa,p:v},p[y].s.curves=a.curves,f&&y++,g[y]=[]):g[y].push({h:a,p:v[0]});if(!p[0])return t(s);if(p.length>1){let w=!1,A=0;for(let S=0,E=p.length;S<E;S++)h[S]=[];for(let S=0,E=p.length;S<E;S++){const C=g[S];for(let B=0;B<C.length;B++){const L=C[B];let b=!0;for(let R=0;R<p.length;R++)i(L.p,p[R].p)&&(S!==R&&A++,b?(b=!1,h[R].push(L)):w=!0);b&&h[S].push(L)}}A>0&&w===!1&&(g=h)}let _;for(let w=0,A=p.length;w<A;w++){c=p[w].s,d.push(c),_=g[w];for(let S=0,E=_.length;S<E;S++)c.holes.push(_[S].h)}return d}}const xs=RU();function RU(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let c=0;c<256;++c){const d=c-127;d<-27?(i[c]=0,i[c|256]=32768,r[c]=24,r[c|256]=24):d<-14?(i[c]=1024>>-d-14,i[c|256]=1024>>-d-14|32768,r[c]=-d-1,r[c|256]=-d-1):d<=15?(i[c]=d+15<<10,i[c|256]=d+15<<10|32768,r[c]=13,r[c|256]=13):d<128?(i[c]=31744,i[c|256]=64512,r[c]=24,r[c|256]=24):(i[c]=31744,i[c|256]=64512,r[c]=13,r[c|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let c=1;c<1024;++c){let d=c<<13,f=0;for(;!(d&8388608);)d<<=1,f-=8388608;d&=-8388609,f+=947912704,s[c]=d|f}for(let c=1024;c<2048;++c)s[c]=939524096+(c-1024<<13);for(let c=1;c<31;++c)o[c]=c<<23;o[31]=1199570944,o[32]=2147483648;for(let c=33;c<63;++c)o[c]=2147483648+(c-32<<23);o[63]=3347054592;for(let c=1;c<64;++c)c!==32&&(a[c]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function LU(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=vn(n,-65504,65504),xs.floatView[0]=n;const e=xs.uint32View[0],t=e>>23&511;return xs.baseTable[t]+((e&8388607)>>xs.shiftTable[t])}function IU(n){const e=n>>10;return xs.uint32View[0]=xs.mantissaTable[xs.offsetTable[e]+(n&1023)]+xs.exponentTable[e],xs.floatView[0]}var DU=Object.freeze({__proto__:null,fromHalfFloat:IU,toHalfFloat:LU});class NU extends Lo{constructor(e,t,i,r,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,i,r,s,o)}}class FU extends Ed{constructor(e,t,i,r){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,i,r)}}class OU extends Cd{constructor(e,t,i,r){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,i,r)}}class kU extends bd{constructor(e,t,i,r,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,i,r,s,o,a)}}class zU extends Oa{constructor(e,t,i,r,s,o,a,c){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,i,r,s,o,a,c)}}class UU extends Td{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class GU extends Bd{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class HU extends Pd{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class jU extends wc{constructor(e,t,i,r){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,i,r)}}class VU extends Ac{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class WU extends xc{constructor(e,t,i,r){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,i,r)}}class JU extends Ds{constructor(e,t,i,r){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,i,r)}}class XU extends Rd{constructor(e,t,i,r,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,i,r,s,o)}}class qU extends Ld{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class KU extends Sc{constructor(e,t,i,r,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,i,r,s,o,a)}}class YU extends Id{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class QU extends Dd{constructor(e,t,i,r,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,i,r,s)}}class ZU extends Nd{constructor(e,t,i,r,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,i,r,s,o)}}class $U extends Fd{constructor(e,t,i,r,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,i,r,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:yd}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=yd);const e4=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:g_,AddEquation:sa,AddOperation:xT,AdditiveAnimationBlendMode:y_,AdditiveBlending:Ay,AlphaFormat:BT,AlwaysDepth:fT,AlwaysStencilFunc:JT,AmbientLight:N2,AmbientLightProbe:jz,AnimationClip:uc,AnimationLoader:Lz,AnimationMixer:lU,AnimationObjectGroup:sU,AnimationUtils:Tz,ArcCurve:d2,ArrayCamera:s2,ArrowHelper:TU,Audio:G2,AudioAnalyser:Kz,AudioContext:Z_,AudioListener:Jz,AudioLoader:Gz,AxesHelper:BU,BackSide:Ci,BasicDepthPacking:jT,BasicShadowMap:Zb,Bone:Im,BooleanKeyframeTrack:ka,Box2:pU,Box3:Po,Box3Helper:CU,BoxBufferGeometry:NU,BoxGeometry:Lo,BoxHelper:EU,BufferAttribute:It,BufferGeometry:ct,BufferGeometryLoader:z2,ByteType:MT,Cache:La,Camera:wd,CameraHelper:MU,CanvasTexture:Zk,CapsuleBufferGeometry:FU,CapsuleGeometry:Ed,CatmullRomCurve3:f2,CineonToneMapping:AT,CircleBufferGeometry:OU,CircleGeometry:Cd,ClampToEdgeWrapping:jn,Clock:$_,Color:De,ColorKeyframeTrack:J_,ColorManagement:$n,CompressedArrayTexture:Qk,CompressedTexture:F_,CompressedTextureLoader:Iz,ConeBufferGeometry:kU,ConeGeometry:bd,CubeCamera:E_,CubeReflectionMapping:_o,CubeRefractionMapping:wo,CubeTexture:Ad,CubeTextureLoader:Dz,CubeUVReflectionMapping:vc,CubicBezierCurve:k_,CubicBezierCurve3:h2,CubicInterpolant:P2,CullFaceBack:wy,CullFaceFront:Qb,CullFaceFrontBack:iI,CullFaceNone:Yb,Curve:Rr,CurvePath:m2,CustomBlending:$b,CustomToneMapping:ST,CylinderBufferGeometry:zU,CylinderGeometry:Oa,Cylindrical:hU,Data3DTexture:A_,DataArrayTexture:Tm,DataTexture:Xl,DataTextureLoader:Nz,DataUtils:DU,DecrementStencilOp:hI,DecrementWrapStencilOp:mI,DefaultLoadingManager:kl,DepthFormat:vo,DepthStencilFormat:Ba,DepthTexture:o2,DirectionalLight:Q_,DirectionalLightHelper:SU,DiscreteInterpolant:R2,DodecahedronBufferGeometry:UU,DodecahedronGeometry:Td,DoubleSide:Mr,DstAlphaFactor:oT,DstColorFactor:lT,DynamicCopyUsage:PI,DynamicDrawUsage:MI,DynamicReadUsage:bI,EdgesGeometry:g2,EllipseCurve:Nm,EqualDepth:pT,EqualStencilFunc:xI,EquirectangularReflectionMapping:$u,EquirectangularRefractionMapping:ed,Euler:_d,EventDispatcher:Qr,ExtrudeBufferGeometry:GU,ExtrudeGeometry:Bd,FileLoader:zi,Float16BufferAttribute:uD,Float32BufferAttribute:Ve,Float64BufferAttribute:dD,FloatType:As,Fog:Lm,FogExp2:Rm,FramebufferTexture:Yk,FrontSide:qr,Frustum:Bm,GLBufferAttribute:fU,GLSL1:LI,GLSL3:Yy,GreaterDepth:gT,GreaterEqualDepth:mT,GreaterEqualStencilFunc:SI,GreaterStencilFunc:wI,GridHelper:wU,Group:Ms,HalfFloatType:ic,HemisphereLight:D2,HemisphereLightHelper:_U,HemisphereLightProbe:Hz,IcosahedronBufferGeometry:HU,IcosahedronGeometry:Pd,ImageBitmapLoader:U2,ImageLoader:ud,ImageUtils:w_,IncrementStencilOp:fI,IncrementWrapStencilOp:pI,InstancedBufferAttribute:ac,InstancedBufferGeometry:k2,InstancedInterleavedBuffer:dU,InstancedMesh:I_,Int16BufferAttribute:lD,Int32BufferAttribute:cD,Int8BufferAttribute:sD,IntType:CT,InterleavedBuffer:Sd,InterleavedBufferAttribute:Mo,Interpolant:Mc,InterpolateDiscrete:rc,InterpolateLinear:Pa,InterpolateSmooth:Ap,InvertStencilOp:gI,KeepStencilOp:Sp,KeyframeTrack:Lr,LOD:u2,LatheBufferGeometry:jU,LatheGeometry:wc,Layers:Aa,LessDepth:hT,LessEqualDepth:em,LessEqualStencilFunc:_I,LessStencilFunc:yI,Light:Io,LightProbe:km,Line:Ls,Line3:mU,LineBasicMaterial:ni,LineCurve:Fm,LineCurve3:p2,LineDashedMaterial:T2,LineLoop:D_,LineSegments:Pr,LinearEncoding:So,LinearFilter:nn,LinearInterpolant:W_,LinearMipMapLinearFilter:lI,LinearMipMapNearestFilter:aI,LinearMipmapLinearFilter:Kr,LinearMipmapNearestFilter:Cm,LinearSRGBColorSpace:sc,LinearToneMapping:_T,Loader:mi,LoaderUtils:Xr,LoadingManager:X_,LoopOnce:zT,LoopPingPong:GT,LoopRepeat:UT,LuminanceAlphaFormat:RT,LuminanceFormat:PT,MOUSE:na,Material:Sn,MaterialLoader:zm,MathUtils:qT,Matrix3:di,Matrix4:st,MaxEquation:Cy,Mesh:kn,MeshBasicMaterial:Ni,MeshDepthMaterial:T_,MeshDistanceMaterial:B_,MeshLambertMaterial:C2,MeshMatcapMaterial:b2,MeshNormalMaterial:E2,MeshPhongMaterial:S2,MeshPhysicalMaterial:Zr,MeshStandardMaterial:Od,MeshToonMaterial:M2,MinEquation:Ey,MirroredRepeatWrapping:nc,MixOperation:yT,MultiplyBlending:My,MultiplyOperation:xd,NearestFilter:hn,NearestMipMapLinearFilter:oI,NearestMipMapNearestFilter:sI,NearestMipmapLinearFilter:Jl,NearestMipmapNearestFilter:td,NeverDepth:dT,NeverStencilFunc:vI,NoBlending:Cs,NoColorSpace:cI,NoToneMapping:br,NormalAnimationBlendMode:bm,NormalBlending:ya,NotEqualDepth:vT,NotEqualStencilFunc:AI,NumberKeyframeTrack:lc,Object3D:bt,ObjectLoader:zz,ObjectSpaceNormalMap:WT,OctahedronBufferGeometry:VU,OctahedronGeometry:Ac,OneFactor:iT,OneMinusDstAlphaFactor:aT,OneMinusDstColorFactor:cT,OneMinusSrcAlphaFactor:m_,OneMinusSrcColorFactor:sT,OrthographicCamera:ar,PCFShadowMap:Mm,PCFSoftShadowMap:Ru,PMREMGenerator:Zy,Path:od,PerspectiveCamera:Wt,Plane:ys,PlaneBufferGeometry:WU,PlaneGeometry:xc,PlaneHelper:bU,PointLight:Y_,PointLightHelper:yU,Points:N_,PointsMaterial:Dm,PolarGridHelper:AU,PolyhedronBufferGeometry:JU,PolyhedronGeometry:Ds,PositionalAudio:qz,PropertyBinding:Ct,PropertyMixer:H2,QuadraticBezierCurve:z_,QuadraticBezierCurve3:U_,Quaternion:Un,QuaternionKeyframeTrack:Eo,QuaternionLinearInterpolant:L2,RED_GREEN_RGTC2_Format:qy,RED_RGTC1_Format:kT,REVISION:yd,RGBADepthPacking:VT,RGBAFormat:wi,RGBAIntegerFormat:FT,RGBA_ASTC_10x10_Format:Vy,RGBA_ASTC_10x5_Format:Gy,RGBA_ASTC_10x6_Format:Hy,RGBA_ASTC_10x8_Format:jy,RGBA_ASTC_12x10_Format:Wy,RGBA_ASTC_12x12_Format:Jy,RGBA_ASTC_4x4_Format:Iy,RGBA_ASTC_5x4_Format:Dy,RGBA_ASTC_5x5_Format:Ny,RGBA_ASTC_6x5_Format:Fy,RGBA_ASTC_6x6_Format:Oy,RGBA_ASTC_8x5_Format:ky,RGBA_ASTC_8x6_Format:zy,RGBA_ASTC_8x8_Format:Uy,RGBA_BPTC_Format:wp,RGBA_ETC2_EAC_Format:Ly,RGBA_PVRTC_2BPPV1_Format:Py,RGBA_PVRTC_4BPPV1_Format:By,RGBA_S3TC_DXT1_Format:yp,RGBA_S3TC_DXT3_Format:xp,RGBA_S3TC_DXT5_Format:_p,RGB_ETC1_Format:OT,RGB_ETC2_Format:Ry,RGB_PVRTC_2BPPV1_Format:Ty,RGB_PVRTC_4BPPV1_Format:by,RGB_S3TC_DXT1_Format:vp,RGFormat:DT,RGIntegerFormat:NT,RawShaderMaterial:A2,Ray:yc,Raycaster:j2,RectAreaLight:F2,RedFormat:LT,RedIntegerFormat:IT,ReinhardToneMapping:wT,RepeatWrapping:Ao,ReplaceStencilOp:dI,ReverseSubtractEquation:tT,RingBufferGeometry:XU,RingGeometry:Rd,SIGNED_RED_GREEN_RGTC2_Format:Ky,SIGNED_RED_RGTC1_Format:Xy,SRGBColorSpace:wr,Scene:rm,ShaderChunk:pt,ShaderLib:Sr,ShaderMaterial:Yr,ShadowMaterial:w2,Shape:Sa,ShapeBufferGeometry:qU,ShapeGeometry:Ld,ShapePath:PU,ShapeUtils:Jr,ShortType:ET,Skeleton:Md,SkeletonHelper:vU,SkinnedMesh:L_,Source:ha,Sphere:Ro,SphereBufferGeometry:KU,SphereGeometry:Sc,Spherical:sx,SphericalHarmonics3:O2,SplineCurve:G_,SpotLight:K_,SpotLightHelper:gU,Sprite:c2,SpriteMaterial:R_,SrcAlphaFactor:p_,SrcAlphaSaturateFactor:uT,SrcColorFactor:rT,StaticCopyUsage:BI,StaticDrawUsage:id,StaticReadUsage:CI,StereoCamera:Vz,StreamCopyUsage:RI,StreamDrawUsage:EI,StreamReadUsage:TI,StringKeyframeTrack:za,SubtractEquation:eT,SubtractiveBlending:Sy,TOUCH:ia,TangentSpaceNormalMap:Bo,TetrahedronBufferGeometry:YU,TetrahedronGeometry:Id,Texture:Qt,TextureLoader:I2,TorusBufferGeometry:QU,TorusGeometry:Dd,TorusKnotBufferGeometry:ZU,TorusKnotGeometry:Nd,Triangle:sr,TriangleFanDrawMode:tm,TriangleStripDrawMode:x_,TrianglesDrawMode:HT,TubeBufferGeometry:$U,TubeGeometry:Fd,TwoPassDoubleSide:rI,UVMapping:Em,Uint16BufferAttribute:S_,Uint32BufferAttribute:M_,Uint8BufferAttribute:oD,Uint8ClampedBufferAttribute:aD,Uniform:n1,UniformsGroup:uU,UniformsLib:Be,UniformsUtils:ZT,UnsignedByteType:Rs,UnsignedInt248Type:xa,UnsignedIntType:oo,UnsignedShort4444Type:bT,UnsignedShort5551Type:TT,UnsignedShortType:v_,VSMShadowMap:ua,Vector2:pe,Vector3:F,Vector4:Ft,VectorKeyframeTrack:cc,VideoTexture:Kk,WebGL1Renderer:a2,WebGL3DRenderTarget:KI,WebGLArrayRenderTarget:qI,WebGLCubeRenderTarget:C_,WebGLMultipleRenderTargets:YI,WebGLRenderTarget:Br,WebGLRenderer:P_,WebGLUtils:r2,WireframeGeometry:_2,WrapAroundEnding:nd,ZeroCurvatureEnding:da,ZeroFactor:nT,ZeroSlopeEnding:fa,ZeroStencilOp:uI,_SRGBAFormat:nm,sRGBEncoding:Gt},Symbol.toStringTag,{value:"Module"}));var W2={exports:{}},Ua={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Ua.ConcurrentRoot=1;Ua.ContinuousEventPriority=4;Ua.DefaultEventPriority=16;Ua.DiscreteEventPriority=1;Ua.IdleEventPriority=536870912;Ua.LegacyRoot=0;W2.exports=Ua;var zl=W2.exports;function t4(n){let e;const t=new Set,i=(d,f)=>{const h=typeof d=="function"?d(e):d;if(h!==e){const p=e;e=f?h:Object.assign({},e,h),t.forEach(g=>g(e,p))}},r=()=>e,s=(d,f=r,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=f(e);function g(){const y=f(e);if(!h(p,y)){const v=p;d(p=y,v)}}return t.add(g),()=>t.delete(g)},c={setState:i,getState:r,subscribe:(d,f,h)=>f||h?s(d,f,h):(t.add(d),()=>t.delete(d)),destroy:()=>t.clear()};return e=n(i,r,c),c}const n4=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),LM=n4?Y.useEffect:Y.useLayoutEffect;function J2(n){const e=typeof n=="function"?t4(n):n,t=(i=e.getState,r=Object.is)=>{const[,s]=Y.useReducer(_=>_+1,0),o=e.getState(),a=Y.useRef(o),c=Y.useRef(i),d=Y.useRef(r),f=Y.useRef(!1),h=Y.useRef();h.current===void 0&&(h.current=i(o));let p,g=!1;(a.current!==o||c.current!==i||d.current!==r||f.current)&&(p=i(o),g=!r(h.current,p)),LM(()=>{g&&(h.current=p),a.current=o,c.current=i,d.current=r,f.current=!1});const y=Y.useRef(o);LM(()=>{const _=()=>{try{const A=e.getState(),S=c.current(A);d.current(h.current,S)||(a.current=A,h.current=S,s())}catch{f.current=!0,s()}},w=e.subscribe(_);return e.getState()!==y.current&&_(),w},[]);const v=g?p:h.current;return Y.useDebugValue(v),v};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}var X2={exports:{}},ov={exports:{}},av={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IM;function i4(){return IM||(IM=1,function(n){function e(I,G){var j=I.length;I.push(G);e:for(;0<j;){var ne=j-1>>>1,H=I[ne];if(0<r(H,G))I[ne]=G,I[j]=H,j=ne;else break e}}function t(I){return I.length===0?null:I[0]}function i(I){if(I.length===0)return null;var G=I[0],j=I.pop();if(j!==G){I[0]=j;e:for(var ne=0,H=I.length,te=H>>>1;ne<te;){var ge=2*(ne+1)-1,ye=I[ge],Q=ge+1,Pe=I[Q];if(0>r(ye,j))Q<H&&0>r(Pe,ye)?(I[ne]=Pe,I[Q]=j,ne=Q):(I[ne]=ye,I[ge]=j,ne=ge);else if(Q<H&&0>r(Pe,j))I[ne]=Pe,I[Q]=j,ne=Q;else break e}}return G}function r(I,G){var j=I.sortIndex-G.sortIndex;return j!==0?j:I.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var c=[],d=[],f=1,h=null,p=3,g=!1,y=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(I){for(var G=t(d);G!==null;){if(G.callback===null)i(d);else if(G.startTime<=I)i(d),G.sortIndex=G.expirationTime,e(c,G);else break;G=t(d)}}function E(I){if(v=!1,S(I),!y)if(t(c)!==null)y=!0,ce(C);else{var G=t(d);G!==null&&ue(E,G.startTime-I)}}function C(I,G){y=!1,v&&(v=!1,w(b),b=-1),g=!0;var j=p;try{for(S(G),h=t(c);h!==null&&(!(h.expirationTime>G)||I&&!U());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,p=h.priorityLevel;var H=ne(h.expirationTime<=G);G=n.unstable_now(),typeof H=="function"?h.callback=H:h===t(c)&&i(c),S(G)}else i(c);h=t(c)}if(h!==null)var te=!0;else{var ge=t(d);ge!==null&&ue(E,ge.startTime-G),te=!1}return te}finally{h=null,p=j,g=!1}}var B=!1,L=null,b=-1,R=5,D=-1;function U(){return!(n.unstable_now()-D<R)}function Z(){if(L!==null){var I=n.unstable_now();D=I;var G=!0;try{G=L(!0,I)}finally{G?W():(B=!1,L=null)}}else B=!1}var W;if(typeof A=="function")W=function(){A(Z)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,$=J.port2;J.port1.onmessage=Z,W=function(){$.postMessage(null)}}else W=function(){_(Z,0)};function ce(I){L=I,B||(B=!0,W())}function ue(I,G){b=_(function(){I(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(I){I.callback=null},n.unstable_continueExecution=function(){y||g||(y=!0,ce(C))},n.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<I?Math.floor(1e3/I):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(I){switch(p){case 1:case 2:case 3:var G=3;break;default:G=p}var j=p;p=G;try{return I()}finally{p=j}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(I,G){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var j=p;p=I;try{return G()}finally{p=j}},n.unstable_scheduleCallback=function(I,G,j){var ne=n.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?ne+j:ne):j=ne,I){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=j+H,I={id:f++,callback:G,priorityLevel:I,startTime:j,expirationTime:H,sortIndex:-1},j>ne?(I.sortIndex=j,e(d,I),t(c)===null&&I===t(d)&&(v?(w(b),b=-1):v=!0,ue(E,j-ne))):(I.sortIndex=H,e(c,I),y||g||(y=!0,ce(C))),I},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(I){var G=p;return function(){var j=p;p=G;try{return I.apply(this,arguments)}finally{p=j}}}}(av)),av}var DM;function r4(){return DM||(DM=1,ov.exports=i4()),ov.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s4=function(e){var t={},i=Y,r=r4(),s=Object.assign;function o(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,m=1;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c=Symbol.for("react.element"),d=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),y=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),C=Symbol.iterator;function B(l){return l===null||typeof l!="object"?null:(l=C&&l[C]||l["@@iterator"],typeof l=="function"?l:null)}function L(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case f:return"Fragment";case d:return"Portal";case p:return"Profiler";case h:return"StrictMode";case _:return"Suspense";case w:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case y:return(l.displayName||"Context")+".Consumer";case g:return(l._context.displayName||"Context")+".Provider";case v:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case A:return u=l.displayName||null,u!==null?u:L(l.type)||"Memo";case S:u=l._payload,l=l._init;try{return L(l(u))}catch{}}return null}function b(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=u.render,l=l.displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return L(u);case 8:return u===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function R(l){var u=l,m=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,u.flags&4098&&(m=u.return),l=u.return;while(l)}return u.tag===3?m:null}function D(l){if(R(l)!==l)throw Error(o(188))}function U(l){var u=l.alternate;if(!u){if(u=R(l),u===null)throw Error(o(188));return u!==l?null:l}for(var m=l,x=u;;){var M=m.return;if(M===null)break;var T=M.alternate;if(T===null){if(x=M.return,x!==null){m=x;continue}break}if(M.child===T.child){for(T=M.child;T;){if(T===m)return D(M),l;if(T===x)return D(M),u;T=T.sibling}throw Error(o(188))}if(m.return!==x.return)m=M,x=T;else{for(var k=!1,q=M.child;q;){if(q===m){k=!0,m=M,x=T;break}if(q===x){k=!0,x=M,m=T;break}q=q.sibling}if(!k){for(q=T.child;q;){if(q===m){k=!0,m=T,x=M;break}if(q===x){k=!0,x=T,m=M;break}q=q.sibling}if(!k)throw Error(o(189))}}if(m.alternate!==x)throw Error(o(190))}if(m.tag!==3)throw Error(o(188));return m.stateNode.current===m?l:u}function Z(l){return l=U(l),l!==null?W(l):null}function W(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=W(l);if(u!==null)return u;l=l.sibling}return null}function J(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){if(l.tag!==4){var u=J(l);if(u!==null)return u}l=l.sibling}return null}var $=Array.isArray,ce=e.getPublicInstance,ue=e.getRootHostContext,I=e.getChildHostContext,G=e.prepareForCommit,j=e.resetAfterCommit,ne=e.createInstance,H=e.appendInitialChild,te=e.finalizeInitialChildren,ge=e.prepareUpdate,ye=e.shouldSetTextContent,Q=e.createTextInstance,Pe=e.scheduleTimeout,Oe=e.cancelTimeout,He=e.noTimeout,we=e.isPrimaryRenderer,Re=e.supportsMutation,fe=e.supportsPersistence,ae=e.supportsHydration,Me=e.getInstanceFromNode,ze=e.preparePortalMount,Te=e.getCurrentEventPriority,Ze=e.detachDeletedInstance,Ke=e.supportsMicrotasks,We=e.scheduleMicrotask,vt=e.supportsTestSelectors,yt=e.findFiberRoot,z=e.getBoundingRect,N=e.getTextContent,oe=e.isHiddenSubtree,Ae=e.matchAccessibilityRole,Ee=e.setFocusIfFocusable,be=e.setupIntersectionObserver,nt=e.appendChild,Ne=e.appendChildToContainer,ve=e.commitTextUpdate,Ye=e.commitMount,it=e.commitUpdate,je=e.insertBefore,$e=e.insertInContainerBefore,Je=e.removeChild,X=e.removeChildFromContainer,xe=e.resetTextContent,ke=e.hideInstance,V=e.hideTextInstance,se=e.unhideInstance,_e=e.unhideTextInstance,Le=e.clearContainer,Xe=e.cloneInstance,xt=e.createContainerChildSet,Dt=e.appendChildToContainerChildSet,kt=e.finalizeContainerChildren,ii=e.replaceContainerChildren,Tt=e.cloneHiddenInstance,Rn=e.cloneHiddenTextInstance,Mn=e.canHydrateInstance,qd=e.canHydrateTextInstance,qm=e.canHydrateSuspenseInstance,Kd=e.isSuspenseInstancePending,Cc=e.isSuspenseInstanceFallback,O=e.registerSuspenseInstanceRetry,ie=e.getNextHydratableSibling,he=e.getFirstHydratableChild,ee=e.getFirstHydratableChildWithinContainer,me=e.getFirstHydratableChildWithinSuspenseInstance,et=e.hydrateInstance,ot=e.hydrateTextInstance,dt=e.hydrateSuspenseInstance,mt=e.getNextHydratableInstanceAfterSuspenseInstance,St=e.commitHydratedContainer,_t=e.commitHydratedSuspenseInstance,wt=e.clearSuspenseBoundary,an=e.clearSuspenseBoundaryFromContainer,ri=e.shouldDeleteUnhydratedTailInstances,dr=e.didNotMatchHydratedContainerTextInstance,es=e.didNotMatchHydratedTextInstance,Xt;function ft(l){if(Xt===void 0)try{throw Error()}catch(m){var u=m.stack.trim().match(/\n( *(at )?)/);Xt=u&&u[1]||""}return`
`+Xt+l}var Do=!1;function ln(l,u){if(!l||Do)return"";Do=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(Ce){var x=Ce}Reflect.construct(l,[],u)}else{try{u.call()}catch(Ce){x=Ce}l.call(u.prototype)}else{try{throw Error()}catch(Ce){x=Ce}l()}}catch(Ce){if(Ce&&x&&typeof Ce.stack=="string"){for(var M=Ce.stack.split(`
`),T=x.stack.split(`
`),k=M.length-1,q=T.length-1;1<=k&&0<=q&&M[k]!==T[q];)q--;for(;1<=k&&0<=q;k--,q--)if(M[k]!==T[q]){if(k!==1||q!==1)do if(k--,q--,0>q||M[k]!==T[q]){var de=`
`+M[k].replace(" at new "," at ");return l.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",l.displayName)),de}while(1<=k&&0<=q);break}}}finally{Do=!1,Error.prepareStackTrace=m}return(l=l?l.displayName||l.name:"")?ft(l):""}var ts=Object.prototype.hasOwnProperty,Ga=[],Hi=-1;function ji(l){return{current:l}}function ut(l){0>Hi||(l.current=Ga[Hi],Ga[Hi]=null,Hi--)}function Et(l,u){Hi++,Ga[Hi]=l.current,l.current=u}var Vi={},Nt=ji(Vi),Ln=ji(!1),ns=Vi;function is(l,u){var m=l.type.contextTypes;if(!m)return Vi;var x=l.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===u)return x.__reactInternalMemoizedMaskedChildContext;var M={},T;for(T in m)M[T]=u[T];return x&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=M),M}function gi(l){return l=l.childContextTypes,l!=null}function Yd(){ut(Ln),ut(Nt)}function g1(l,u,m){if(Nt.current!==Vi)throw Error(o(168));Et(Nt,u),Et(Ln,m)}function v1(l,u,m){var x=l.stateNode;if(u=u.childContextTypes,typeof x.getChildContext!="function")return m;x=x.getChildContext();for(var M in x)if(!(M in u))throw Error(o(108,b(l)||"Unknown",M));return s({},m,x)}function Qd(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||Vi,ns=Nt.current,Et(Nt,l),Et(Ln,Ln.current),!0}function y1(l,u,m){var x=l.stateNode;if(!x)throw Error(o(169));m?(l=v1(l,u,ns),x.__reactInternalMemoizedMergedChildContext=l,ut(Ln),ut(Nt),Et(Nt,l)):ut(Ln),Et(Ln,m)}var fr=Math.clz32?Math.clz32:jB,GB=Math.log,HB=Math.LN2;function jB(l){return l>>>=0,l===0?32:31-(GB(l)/HB|0)|0}var Zd=64,$d=4194304;function bc(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function ef(l,u){var m=l.pendingLanes;if(m===0)return 0;var x=0,M=l.suspendedLanes,T=l.pingedLanes,k=m&268435455;if(k!==0){var q=k&~M;q!==0?x=bc(q):(T&=k,T!==0&&(x=bc(T)))}else k=m&~M,k!==0?x=bc(k):T!==0&&(x=bc(T));if(x===0)return 0;if(u!==0&&u!==x&&!(u&M)&&(M=x&-x,T=u&-u,M>=T||M===16&&(T&4194240)!==0))return u;if(x&4&&(x|=m&16),u=l.entangledLanes,u!==0)for(l=l.entanglements,u&=x;0<u;)m=31-fr(u),M=1<<m,x|=l[m],u&=~M;return x}function VB(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function WB(l,u){for(var m=l.suspendedLanes,x=l.pingedLanes,M=l.expirationTimes,T=l.pendingLanes;0<T;){var k=31-fr(T),q=1<<k,de=M[k];de===-1?(!(q&m)||q&x)&&(M[k]=VB(q,u)):de<=u&&(l.expiredLanes|=q),T&=~q}}function Km(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function Ym(l){for(var u=[],m=0;31>m;m++)u.push(l);return u}function Tc(l,u,m){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,u=31-fr(u),l[u]=m}function JB(l,u){var m=l.pendingLanes&~u;l.pendingLanes=u,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=u,l.mutableReadLanes&=u,l.entangledLanes&=u,u=l.entanglements;var x=l.eventTimes;for(l=l.expirationTimes;0<m;){var M=31-fr(m),T=1<<M;u[M]=0,x[M]=-1,l[M]=-1,m&=~T}}function Qm(l,u){var m=l.entangledLanes|=u;for(l=l.entanglements;m;){var x=31-fr(m),M=1<<x;M&u|l[x]&u&&(l[x]|=u),m&=~M}}var Pt=0;function x1(l){return l&=-l,1<l?4<l?l&268435455?16:536870912:4:1}var Zm=r.unstable_scheduleCallback,_1=r.unstable_cancelCallback,XB=r.unstable_shouldYield,qB=r.unstable_requestPaint,In=r.unstable_now,$m=r.unstable_ImmediatePriority,KB=r.unstable_UserBlockingPriority,eg=r.unstable_NormalPriority,YB=r.unstable_IdlePriority,tf=null,Ir=null;function QB(l){if(Ir&&typeof Ir.onCommitFiberRoot=="function")try{Ir.onCommitFiberRoot(tf,l,void 0,(l.current.flags&128)===128)}catch{}}function ZB(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var Dr=typeof Object.is=="function"?Object.is:ZB,rs=null,nf=!1,tg=!1;function w1(l){rs===null?rs=[l]:rs.push(l)}function $B(l){nf=!0,w1(l)}function Nr(){if(!tg&&rs!==null){tg=!0;var l=0,u=Pt;try{var m=rs;for(Pt=1;l<m.length;l++){var x=m[l];do x=x(!0);while(x!==null)}rs=null,nf=!1}catch(M){throw rs!==null&&(rs=rs.slice(l+1)),Zm($m,Nr),M}finally{Pt=u,tg=!1}}return null}var eP=a.ReactCurrentBatchConfig;function rf(l,u){if(Dr(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var m=Object.keys(l),x=Object.keys(u);if(m.length!==x.length)return!1;for(x=0;x<m.length;x++){var M=m[x];if(!ts.call(u,M)||!Dr(l[M],u[M]))return!1}return!0}function tP(l){switch(l.tag){case 5:return ft(l.type);case 16:return ft("Lazy");case 13:return ft("Suspense");case 19:return ft("SuspenseList");case 0:case 2:case 15:return l=ln(l.type,!1),l;case 11:return l=ln(l.type.render,!1),l;case 1:return l=ln(l.type,!0),l;default:return""}}function hr(l,u){if(l&&l.defaultProps){u=s({},u),l=l.defaultProps;for(var m in l)u[m]===void 0&&(u[m]=l[m]);return u}return u}var sf=ji(null),of=null,Ha=null,ng=null;function ig(){ng=Ha=of=null}function A1(l,u,m){we?(Et(sf,u._currentValue),u._currentValue=m):(Et(sf,u._currentValue2),u._currentValue2=m)}function rg(l){var u=sf.current;ut(sf),we?l._currentValue=u:l._currentValue2=u}function sg(l,u,m){for(;l!==null;){var x=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,x!==null&&(x.childLanes|=u)):x!==null&&(x.childLanes&u)!==u&&(x.childLanes|=u),l===m)break;l=l.return}}function ja(l,u){of=l,ng=Ha=null,l=l.dependencies,l!==null&&l.firstContext!==null&&(l.lanes&u&&(Bi=!0),l.firstContext=null)}function Wi(l){var u=we?l._currentValue:l._currentValue2;if(ng!==l)if(l={context:l,memoizedValue:u,next:null},Ha===null){if(of===null)throw Error(o(308));Ha=l,of.dependencies={lanes:0,firstContext:l}}else Ha=Ha.next=l;return u}var Fr=null,Ns=!1;function og(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function S1(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function ss(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function Fs(l,u){var m=l.updateQueue;m!==null&&(m=m.shared,yn!==null&&l.mode&1&&!(gt&2)?(l=m.interleaved,l===null?(u.next=u,Fr===null?Fr=[m]:Fr.push(m)):(u.next=l.next,l.next=u),m.interleaved=u):(l=m.pending,l===null?u.next=u:(u.next=l.next,l.next=u),m.pending=u))}function af(l,u,m){if(u=u.updateQueue,u!==null&&(u=u.shared,(m&4194240)!==0)){var x=u.lanes;x&=l.pendingLanes,m|=x,u.lanes=m,Qm(l,m)}}function M1(l,u){var m=l.updateQueue,x=l.alternate;if(x!==null&&(x=x.updateQueue,m===x)){var M=null,T=null;if(m=m.firstBaseUpdate,m!==null){do{var k={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};T===null?M=T=k:T=T.next=k,m=m.next}while(m!==null);T===null?M=T=u:T=T.next=u}else M=T=u;m={baseState:x.baseState,firstBaseUpdate:M,lastBaseUpdate:T,shared:x.shared,effects:x.effects},l.updateQueue=m;return}l=m.lastBaseUpdate,l===null?m.firstBaseUpdate=u:l.next=u,m.lastBaseUpdate=u}function lf(l,u,m,x){var M=l.updateQueue;Ns=!1;var T=M.firstBaseUpdate,k=M.lastBaseUpdate,q=M.shared.pending;if(q!==null){M.shared.pending=null;var de=q,Ce=de.next;de.next=null,k===null?T=Ce:k.next=Ce,k=de;var Ge=l.alternate;Ge!==null&&(Ge=Ge.updateQueue,q=Ge.lastBaseUpdate,q!==k&&(q===null?Ge.firstBaseUpdate=Ce:q.next=Ce,Ge.lastBaseUpdate=de))}if(T!==null){var at=M.baseState;k=0,Ge=Ce=de=null,q=T;do{var tt=q.lane,zt=q.eventTime;if((x&tt)===tt){Ge!==null&&(Ge=Ge.next={eventTime:zt,lane:0,tag:q.tag,payload:q.payload,callback:q.callback,next:null});e:{var Qe=l,Kn=q;switch(tt=u,zt=m,Kn.tag){case 1:if(Qe=Kn.payload,typeof Qe=="function"){at=Qe.call(zt,at,tt);break e}at=Qe;break e;case 3:Qe.flags=Qe.flags&-65537|128;case 0:if(Qe=Kn.payload,tt=typeof Qe=="function"?Qe.call(zt,at,tt):Qe,tt==null)break e;at=s({},at,tt);break e;case 2:Ns=!0}}q.callback!==null&&q.lane!==0&&(l.flags|=64,tt=M.effects,tt===null?M.effects=[q]:tt.push(q))}else zt={eventTime:zt,lane:tt,tag:q.tag,payload:q.payload,callback:q.callback,next:null},Ge===null?(Ce=Ge=zt,de=at):Ge=Ge.next=zt,k|=tt;if(q=q.next,q===null){if(q=M.shared.pending,q===null)break;tt=q,q=tt.next,tt.next=null,M.lastBaseUpdate=tt,M.shared.pending=null}}while(1);if(Ge===null&&(de=at),M.baseState=de,M.firstBaseUpdate=Ce,M.lastBaseUpdate=Ge,u=M.shared.interleaved,u!==null){M=u;do k|=M.lane,M=M.next;while(M!==u)}else T===null&&(M.shared.lanes=0);Za|=k,l.lanes=k,l.memoizedState=at}}function E1(l,u,m){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var x=l[u],M=x.callback;if(M!==null){if(x.callback=null,x=m,typeof M!="function")throw Error(o(191,M));M.call(x)}}}var C1=new i.Component().refs;function ag(l,u,m,x){u=l.memoizedState,m=m(x,u),m=m==null?u:s({},u,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var cf={isMounted:function(l){return(l=l._reactInternals)?R(l)===l:!1},enqueueSetState:function(l,u,m){l=l._reactInternals;var x=oi(),M=zs(l),T=ss(x,M);T.payload=u,m!=null&&(T.callback=m),Fs(l,T),u=Yi(l,M,x),u!==null&&af(u,l,M)},enqueueReplaceState:function(l,u,m){l=l._reactInternals;var x=oi(),M=zs(l),T=ss(x,M);T.tag=1,T.payload=u,m!=null&&(T.callback=m),Fs(l,T),u=Yi(l,M,x),u!==null&&af(u,l,M)},enqueueForceUpdate:function(l,u){l=l._reactInternals;var m=oi(),x=zs(l),M=ss(m,x);M.tag=2,u!=null&&(M.callback=u),Fs(l,M),u=Yi(l,x,m),u!==null&&af(u,l,x)}};function b1(l,u,m,x,M,T,k){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(x,T,k):u.prototype&&u.prototype.isPureReactComponent?!rf(m,x)||!rf(M,T):!0}function T1(l,u,m){var x=!1,M=Vi,T=u.contextType;return typeof T=="object"&&T!==null?T=Wi(T):(M=gi(u)?ns:Nt.current,x=u.contextTypes,T=(x=x!=null)?is(l,M):Vi),u=new u(m,T),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=cf,l.stateNode=u,u._reactInternals=l,x&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=M,l.__reactInternalMemoizedMaskedChildContext=T),u}function B1(l,u,m,x){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(m,x),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(m,x),u.state!==l&&cf.enqueueReplaceState(u,u.state,null)}function lg(l,u,m,x){var M=l.stateNode;M.props=m,M.state=l.memoizedState,M.refs=C1,og(l);var T=u.contextType;typeof T=="object"&&T!==null?M.context=Wi(T):(T=gi(u)?ns:Nt.current,M.context=is(l,T)),M.state=l.memoizedState,T=u.getDerivedStateFromProps,typeof T=="function"&&(ag(l,u,T,m),M.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(u=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),u!==M.state&&cf.enqueueReplaceState(M,M.state,null),lf(l,m,M,x),M.state=l.memoizedState),typeof M.componentDidMount=="function"&&(l.flags|=4194308)}var Va=[],Wa=0,uf=null,df=0,Ji=[],Xi=0,No=null,os=1,as="";function Fo(l,u){Va[Wa++]=df,Va[Wa++]=uf,uf=l,df=u}function P1(l,u,m){Ji[Xi++]=os,Ji[Xi++]=as,Ji[Xi++]=No,No=l;var x=os;l=as;var M=32-fr(x)-1;x&=~(1<<M),m+=1;var T=32-fr(u)+M;if(30<T){var k=M-M%5;T=(x&(1<<k)-1).toString(32),x>>=k,M-=k,os=1<<32-fr(u)+M|m<<M|x,as=T+l}else os=1<<T|m<<M|x,as=l}function cg(l){l.return!==null&&(Fo(l,1),P1(l,1,0))}function ug(l){for(;l===uf;)uf=Va[--Wa],Va[Wa]=null,df=Va[--Wa],Va[Wa]=null;for(;l===No;)No=Ji[--Xi],Ji[Xi]=null,as=Ji[--Xi],Ji[Xi]=null,os=Ji[--Xi],Ji[Xi]=null}var bi=null,Ti=null,qt=!1,Bc=!1,pr=null;function R1(l,u){var m=Qi(5,null,null,0);m.elementType="DELETED",m.stateNode=u,m.return=l,u=l.deletions,u===null?(l.deletions=[m],l.flags|=16):u.push(m)}function L1(l,u){switch(l.tag){case 5:return u=Mn(u,l.type,l.pendingProps),u!==null?(l.stateNode=u,bi=l,Ti=he(u),!0):!1;case 6:return u=qd(u,l.pendingProps),u!==null?(l.stateNode=u,bi=l,Ti=null,!0):!1;case 13:if(u=qm(u),u!==null){var m=No!==null?{id:os,overflow:as}:null;return l.memoizedState={dehydrated:u,treeContext:m,retryLane:1073741824},m=Qi(18,null,null,0),m.stateNode=u,m.return=l,l.child=m,bi=l,Ti=null,!0}return!1;default:return!1}}function dg(l){return(l.mode&1)!==0&&(l.flags&128)===0}function fg(l){if(qt){var u=Ti;if(u){var m=u;if(!L1(l,u)){if(dg(l))throw Error(o(418));u=ie(m);var x=bi;u&&L1(l,u)?R1(x,m):(l.flags=l.flags&-4097|2,qt=!1,bi=l)}}else{if(dg(l))throw Error(o(418));l.flags=l.flags&-4097|2,qt=!1,bi=l}}}function I1(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;bi=l}function Pc(l){if(!ae||l!==bi)return!1;if(!qt)return I1(l),qt=!0,!1;if(l.tag!==3&&(l.tag!==5||ri(l.type)&&!ye(l.type,l.memoizedProps))){var u=Ti;if(u){if(dg(l)){for(l=Ti;l;)l=ie(l);throw Error(o(418))}for(;u;)R1(l,u),u=ie(u)}}if(I1(l),l.tag===13){if(!ae)throw Error(o(316));if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(o(317));Ti=mt(l)}else Ti=bi?ie(l.stateNode):null;return!0}function Ja(){ae&&(Ti=bi=null,Bc=qt=!1)}function hg(l){pr===null?pr=[l]:pr.push(l)}function Rc(l,u,m){if(l=m.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(o(309));var x=m.stateNode}if(!x)throw Error(o(147,l));var M=x,T=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===T?u.ref:(u=function(k){var q=M.refs;q===C1&&(q=M.refs={}),k===null?delete q[T]:q[T]=k},u._stringRef=T,u)}if(typeof l!="string")throw Error(o(284));if(!m._owner)throw Error(o(290,l))}return l}function ff(l,u){throw l=Object.prototype.toString.call(u),Error(o(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function D1(l){var u=l._init;return u(l._payload)}function N1(l){function u(re,K){if(l){var le=re.deletions;le===null?(re.deletions=[K],re.flags|=16):le.push(K)}}function m(re,K){if(!l)return null;for(;K!==null;)u(re,K),K=K.sibling;return null}function x(re,K){for(re=new Map;K!==null;)K.key!==null?re.set(K.key,K):re.set(K.index,K),K=K.sibling;return re}function M(re,K){return re=Gs(re,K),re.index=0,re.sibling=null,re}function T(re,K,le){return re.index=le,l?(le=re.alternate,le!==null?(le=le.index,le<K?(re.flags|=2,K):le):(re.flags|=2,K)):(re.flags|=1048576,K)}function k(re){return l&&re.alternate===null&&(re.flags|=2),re}function q(re,K,le,Fe){return K===null||K.tag!==6?(K=Yg(le,re.mode,Fe),K.return=re,K):(K=M(K,le),K.return=re,K)}function de(re,K,le,Fe){var qe=le.type;return qe===f?Ge(re,K,le.props.children,Fe,le.key):K!==null&&(K.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===S&&D1(qe)===K.type)?(Fe=M(K,le.props),Fe.ref=Rc(re,K,le),Fe.return=re,Fe):(Fe=jf(le.type,le.key,le.props,null,re.mode,Fe),Fe.ref=Rc(re,K,le),Fe.return=re,Fe)}function Ce(re,K,le,Fe){return K===null||K.tag!==4||K.stateNode.containerInfo!==le.containerInfo||K.stateNode.implementation!==le.implementation?(K=Qg(le,re.mode,Fe),K.return=re,K):(K=M(K,le.children||[]),K.return=re,K)}function Ge(re,K,le,Fe,qe){return K===null||K.tag!==7?(K=jo(le,re.mode,Fe,qe),K.return=re,K):(K=M(K,le),K.return=re,K)}function at(re,K,le){if(typeof K=="string"&&K!==""||typeof K=="number")return K=Yg(""+K,re.mode,le),K.return=re,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case c:return le=jf(K.type,K.key,K.props,null,re.mode,le),le.ref=Rc(re,null,K),le.return=re,le;case d:return K=Qg(K,re.mode,le),K.return=re,K;case S:var Fe=K._init;return at(re,Fe(K._payload),le)}if($(K)||B(K))return K=jo(K,re.mode,le,null),K.return=re,K;ff(re,K)}return null}function tt(re,K,le,Fe){var qe=K!==null?K.key:null;if(typeof le=="string"&&le!==""||typeof le=="number")return qe!==null?null:q(re,K,""+le,Fe);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case c:return le.key===qe?de(re,K,le,Fe):null;case d:return le.key===qe?Ce(re,K,le,Fe):null;case S:return qe=le._init,tt(re,K,qe(le._payload),Fe)}if($(le)||B(le))return qe!==null?null:Ge(re,K,le,Fe,null);ff(re,le)}return null}function zt(re,K,le,Fe,qe){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number")return re=re.get(le)||null,q(K,re,""+Fe,qe);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case c:return re=re.get(Fe.key===null?le:Fe.key)||null,de(K,re,Fe,qe);case d:return re=re.get(Fe.key===null?le:Fe.key)||null,Ce(K,re,Fe,qe);case S:var ht=Fe._init;return zt(re,K,le,ht(Fe._payload),qe)}if($(Fe)||B(Fe))return re=re.get(le)||null,Ge(K,re,Fe,qe,null);ff(K,Fe)}return null}function Qe(re,K,le,Fe){for(var qe=null,ht=null,lt=K,Rt=K=0,Nn=null;lt!==null&&Rt<le.length;Rt++){lt.index>Rt?(Nn=lt,lt=null):Nn=lt.sibling;var Lt=tt(re,lt,le[Rt],Fe);if(Lt===null){lt===null&&(lt=Nn);break}l&&lt&&Lt.alternate===null&&u(re,lt),K=T(Lt,K,Rt),ht===null?qe=Lt:ht.sibling=Lt,ht=Lt,lt=Nn}if(Rt===le.length)return m(re,lt),qt&&Fo(re,Rt),qe;if(lt===null){for(;Rt<le.length;Rt++)lt=at(re,le[Rt],Fe),lt!==null&&(K=T(lt,K,Rt),ht===null?qe=lt:ht.sibling=lt,ht=lt);return qt&&Fo(re,Rt),qe}for(lt=x(re,lt);Rt<le.length;Rt++)Nn=zt(lt,re,Rt,le[Rt],Fe),Nn!==null&&(l&&Nn.alternate!==null&&lt.delete(Nn.key===null?Rt:Nn.key),K=T(Nn,K,Rt),ht===null?qe=Nn:ht.sibling=Nn,ht=Nn);return l&&lt.forEach(function(Hs){return u(re,Hs)}),qt&&Fo(re,Rt),qe}function Kn(re,K,le,Fe){var qe=B(le);if(typeof qe!="function")throw Error(o(150));if(le=qe.call(le),le==null)throw Error(o(151));for(var ht=qe=null,lt=K,Rt=K=0,Nn=null,Lt=le.next();lt!==null&&!Lt.done;Rt++,Lt=le.next()){lt.index>Rt?(Nn=lt,lt=null):Nn=lt.sibling;var Hs=tt(re,lt,Lt.value,Fe);if(Hs===null){lt===null&&(lt=Nn);break}l&&lt&&Hs.alternate===null&&u(re,lt),K=T(Hs,K,Rt),ht===null?qe=Hs:ht.sibling=Hs,ht=Hs,lt=Nn}if(Lt.done)return m(re,lt),qt&&Fo(re,Rt),qe;if(lt===null){for(;!Lt.done;Rt++,Lt=le.next())Lt=at(re,Lt.value,Fe),Lt!==null&&(K=T(Lt,K,Rt),ht===null?qe=Lt:ht.sibling=Lt,ht=Lt);return qt&&Fo(re,Rt),qe}for(lt=x(re,lt);!Lt.done;Rt++,Lt=le.next())Lt=zt(lt,re,Rt,Lt.value,Fe),Lt!==null&&(l&&Lt.alternate!==null&&lt.delete(Lt.key===null?Rt:Lt.key),K=T(Lt,K,Rt),ht===null?qe=Lt:ht.sibling=Lt,ht=Lt);return l&&lt.forEach(function(RP){return u(re,RP)}),qt&&Fo(re,Rt),qe}function Zi(re,K,le,Fe){if(typeof le=="object"&&le!==null&&le.type===f&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case c:e:{for(var qe=le.key,ht=K;ht!==null;){if(ht.key===qe){if(qe=le.type,qe===f){if(ht.tag===7){m(re,ht.sibling),K=M(ht,le.props.children),K.return=re,re=K;break e}}else if(ht.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===S&&D1(qe)===ht.type){m(re,ht.sibling),K=M(ht,le.props),K.ref=Rc(re,ht,le),K.return=re,re=K;break e}m(re,ht);break}else u(re,ht);ht=ht.sibling}le.type===f?(K=jo(le.props.children,re.mode,Fe,le.key),K.return=re,re=K):(Fe=jf(le.type,le.key,le.props,null,re.mode,Fe),Fe.ref=Rc(re,K,le),Fe.return=re,re=Fe)}return k(re);case d:e:{for(ht=le.key;K!==null;){if(K.key===ht)if(K.tag===4&&K.stateNode.containerInfo===le.containerInfo&&K.stateNode.implementation===le.implementation){m(re,K.sibling),K=M(K,le.children||[]),K.return=re,re=K;break e}else{m(re,K);break}else u(re,K);K=K.sibling}K=Qg(le,re.mode,Fe),K.return=re,re=K}return k(re);case S:return ht=le._init,Zi(re,K,ht(le._payload),Fe)}if($(le))return Qe(re,K,le,Fe);if(B(le))return Kn(re,K,le,Fe);ff(re,le)}return typeof le=="string"&&le!==""||typeof le=="number"?(le=""+le,K!==null&&K.tag===6?(m(re,K.sibling),K=M(K,le),K.return=re,re=K):(m(re,K),K=Yg(le,re.mode,Fe),K.return=re,re=K),k(re)):m(re,K)}return Zi}var Xa=N1(!0),F1=N1(!1),Lc={},qi=ji(Lc),Ic=ji(Lc),qa=ji(Lc);function Or(l){if(l===Lc)throw Error(o(174));return l}function pg(l,u){Et(qa,u),Et(Ic,l),Et(qi,Lc),l=ue(u),ut(qi),Et(qi,l)}function Ka(){ut(qi),ut(Ic),ut(qa)}function O1(l){var u=Or(qa.current),m=Or(qi.current);u=I(m,l.type,u),m!==u&&(Et(Ic,l),Et(qi,u))}function mg(l){Ic.current===l&&(ut(qi),ut(Ic))}var Zt=ji(0);function hf(l){for(var u=l;u!==null;){if(u.tag===13){var m=u.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||Kd(m)||Cc(m)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(u.flags&128)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var gg=[];function vg(){for(var l=0;l<gg.length;l++){var u=gg[l];we?u._workInProgressVersionPrimary=null:u._workInProgressVersionSecondary=null}gg.length=0}var pf=a.ReactCurrentDispatcher,Ki=a.ReactCurrentBatchConfig,Ya=0,cn=null,Jn=null,Dn=null,mf=!1,Dc=!1,Nc=0,nP=0;function Xn(){throw Error(o(321))}function yg(l,u){if(u===null)return!1;for(var m=0;m<u.length&&m<l.length;m++)if(!Dr(l[m],u[m]))return!1;return!0}function xg(l,u,m,x,M,T){if(Ya=T,cn=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,pf.current=l===null||l.memoizedState===null?oP:aP,l=m(x,M),Dc){T=0;do{if(Dc=!1,Nc=0,25<=T)throw Error(o(301));T+=1,Dn=Jn=null,u.updateQueue=null,pf.current=lP,l=m(x,M)}while(Dc)}if(pf.current=_f,u=Jn!==null&&Jn.next!==null,Ya=0,Dn=Jn=cn=null,mf=!1,u)throw Error(o(300));return l}function _g(){var l=Nc!==0;return Nc=0,l}function ls(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dn===null?cn.memoizedState=Dn=l:Dn=Dn.next=l,Dn}function kr(){if(Jn===null){var l=cn.alternate;l=l!==null?l.memoizedState:null}else l=Jn.next;var u=Dn===null?cn.memoizedState:Dn.next;if(u!==null)Dn=u,Jn=l;else{if(l===null)throw Error(o(310));Jn=l,l={memoizedState:Jn.memoizedState,baseState:Jn.baseState,baseQueue:Jn.baseQueue,queue:Jn.queue,next:null},Dn===null?cn.memoizedState=Dn=l:Dn=Dn.next=l}return Dn}function Oo(l,u){return typeof u=="function"?u(l):u}function gf(l){var u=kr(),m=u.queue;if(m===null)throw Error(o(311));m.lastRenderedReducer=l;var x=Jn,M=x.baseQueue,T=m.pending;if(T!==null){if(M!==null){var k=M.next;M.next=T.next,T.next=k}x.baseQueue=M=T,m.pending=null}if(M!==null){T=M.next,x=x.baseState;var q=k=null,de=null,Ce=T;do{var Ge=Ce.lane;if((Ya&Ge)===Ge)de!==null&&(de=de.next={lane:0,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null}),x=Ce.hasEagerState?Ce.eagerState:l(x,Ce.action);else{var at={lane:Ge,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null};de===null?(q=de=at,k=x):de=de.next=at,cn.lanes|=Ge,Za|=Ge}Ce=Ce.next}while(Ce!==null&&Ce!==T);de===null?k=x:de.next=q,Dr(x,u.memoizedState)||(Bi=!0),u.memoizedState=x,u.baseState=k,u.baseQueue=de,m.lastRenderedState=x}if(l=m.interleaved,l!==null){M=l;do T=M.lane,cn.lanes|=T,Za|=T,M=M.next;while(M!==l)}else M===null&&(m.lanes=0);return[u.memoizedState,m.dispatch]}function vf(l){var u=kr(),m=u.queue;if(m===null)throw Error(o(311));m.lastRenderedReducer=l;var x=m.dispatch,M=m.pending,T=u.memoizedState;if(M!==null){m.pending=null;var k=M=M.next;do T=l(T,k.action),k=k.next;while(k!==M);Dr(T,u.memoizedState)||(Bi=!0),u.memoizedState=T,u.baseQueue===null&&(u.baseState=T),m.lastRenderedState=T}return[T,x]}function k1(){}function z1(l,u){var m=cn,x=kr(),M=u(),T=!Dr(x.memoizedState,M);if(T&&(x.memoizedState=M,Bi=!0),x=x.queue,Oc(H1.bind(null,m,x,l),[l]),x.getSnapshot!==u||T||Dn!==null&&Dn.memoizedState.tag&1){if(m.flags|=2048,Fc(9,G1.bind(null,m,x,M,u),void 0,null),yn===null)throw Error(o(349));Ya&30||U1(m,u,M)}return M}function U1(l,u,m){l.flags|=16384,l={getSnapshot:u,value:m},u=cn.updateQueue,u===null?(u={lastEffect:null,stores:null},cn.updateQueue=u,u.stores=[l]):(m=u.stores,m===null?u.stores=[l]:m.push(l))}function G1(l,u,m,x){u.value=m,u.getSnapshot=x,j1(u)&&Yi(l,1,-1)}function H1(l,u,m){return m(function(){j1(u)&&Yi(l,1,-1)})}function j1(l){var u=l.getSnapshot;l=l.value;try{var m=u();return!Dr(l,m)}catch{return!0}}function wg(l){var u=ls();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oo,lastRenderedState:l},u.queue=l,l=l.dispatch=sP.bind(null,cn,l),[u.memoizedState,l]}function Fc(l,u,m,x){return l={tag:l,create:u,destroy:m,deps:x,next:null},u=cn.updateQueue,u===null?(u={lastEffect:null,stores:null},cn.updateQueue=u,u.lastEffect=l.next=l):(m=u.lastEffect,m===null?u.lastEffect=l.next=l:(x=m.next,m.next=l,l.next=x,u.lastEffect=l)),l}function V1(){return kr().memoizedState}function yf(l,u,m,x){var M=ls();cn.flags|=l,M.memoizedState=Fc(1|u,m,void 0,x===void 0?null:x)}function xf(l,u,m,x){var M=kr();x=x===void 0?null:x;var T=void 0;if(Jn!==null){var k=Jn.memoizedState;if(T=k.destroy,x!==null&&yg(x,k.deps)){M.memoizedState=Fc(u,m,T,x);return}}cn.flags|=l,M.memoizedState=Fc(1|u,m,T,x)}function Ag(l,u){return yf(8390656,8,l,u)}function Oc(l,u){return xf(2048,8,l,u)}function W1(l,u){return xf(4,2,l,u)}function J1(l,u){return xf(4,4,l,u)}function X1(l,u){if(typeof u=="function")return l=l(),u(l),function(){u(null)};if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function q1(l,u,m){return m=m!=null?m.concat([l]):null,xf(4,4,X1.bind(null,u,l),m)}function Sg(){}function K1(l,u){var m=kr();u=u===void 0?null:u;var x=m.memoizedState;return x!==null&&u!==null&&yg(u,x[1])?x[0]:(m.memoizedState=[l,u],l)}function Y1(l,u){var m=kr();u=u===void 0?null:u;var x=m.memoizedState;return x!==null&&u!==null&&yg(u,x[1])?x[0]:(l=l(),m.memoizedState=[l,u],l)}function iP(l,u){var m=Pt;Pt=m!==0&&4>m?m:4,l(!0);var x=Ki.transition;Ki.transition={};try{l(!1),u()}finally{Pt=m,Ki.transition=x}}function Q1(){return kr().memoizedState}function rP(l,u,m){var x=zs(l);m={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null},Z1(l)?$1(u,m):(ew(l,u,m),m=oi(),l=Yi(l,x,m),l!==null&&tw(l,u,x))}function sP(l,u,m){var x=zs(l),M={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null};if(Z1(l))$1(u,M);else{ew(l,u,M);var T=l.alternate;if(l.lanes===0&&(T===null||T.lanes===0)&&(T=u.lastRenderedReducer,T!==null))try{var k=u.lastRenderedState,q=T(k,m);if(M.hasEagerState=!0,M.eagerState=q,Dr(q,k))return}catch{}finally{}m=oi(),l=Yi(l,x,m),l!==null&&tw(l,u,x)}}function Z1(l){var u=l.alternate;return l===cn||u!==null&&u===cn}function $1(l,u){Dc=mf=!0;var m=l.pending;m===null?u.next=u:(u.next=m.next,m.next=u),l.pending=u}function ew(l,u,m){yn!==null&&l.mode&1&&!(gt&2)?(l=u.interleaved,l===null?(m.next=m,Fr===null?Fr=[u]:Fr.push(u)):(m.next=l.next,l.next=m),u.interleaved=m):(l=u.pending,l===null?m.next=m:(m.next=l.next,l.next=m),u.pending=m)}function tw(l,u,m){if(m&4194240){var x=u.lanes;x&=l.pendingLanes,m|=x,u.lanes=m,Qm(l,m)}}var _f={readContext:Wi,useCallback:Xn,useContext:Xn,useEffect:Xn,useImperativeHandle:Xn,useInsertionEffect:Xn,useLayoutEffect:Xn,useMemo:Xn,useReducer:Xn,useRef:Xn,useState:Xn,useDebugValue:Xn,useDeferredValue:Xn,useTransition:Xn,useMutableSource:Xn,useSyncExternalStore:Xn,useId:Xn,unstable_isNewReconciler:!1},oP={readContext:Wi,useCallback:function(l,u){return ls().memoizedState=[l,u===void 0?null:u],l},useContext:Wi,useEffect:Ag,useImperativeHandle:function(l,u,m){return m=m!=null?m.concat([l]):null,yf(4194308,4,X1.bind(null,u,l),m)},useLayoutEffect:function(l,u){return yf(4194308,4,l,u)},useInsertionEffect:function(l,u){return yf(4,2,l,u)},useMemo:function(l,u){var m=ls();return u=u===void 0?null:u,l=l(),m.memoizedState=[l,u],l},useReducer:function(l,u,m){var x=ls();return u=m!==void 0?m(u):u,x.memoizedState=x.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},x.queue=l,l=l.dispatch=rP.bind(null,cn,l),[x.memoizedState,l]},useRef:function(l){var u=ls();return l={current:l},u.memoizedState=l},useState:wg,useDebugValue:Sg,useDeferredValue:function(l){var u=wg(l),m=u[0],x=u[1];return Ag(function(){var M=Ki.transition;Ki.transition={};try{x(l)}finally{Ki.transition=M}},[l]),m},useTransition:function(){var l=wg(!1),u=l[0];return l=iP.bind(null,l[1]),ls().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,m){var x=cn,M=ls();if(qt){if(m===void 0)throw Error(o(407));m=m()}else{if(m=u(),yn===null)throw Error(o(349));Ya&30||U1(x,u,m)}M.memoizedState=m;var T={value:m,getSnapshot:u};return M.queue=T,Ag(H1.bind(null,x,T,l),[l]),x.flags|=2048,Fc(9,G1.bind(null,x,T,m,u),void 0,null),m},useId:function(){var l=ls(),u=yn.identifierPrefix;if(qt){var m=as,x=os;m=(x&~(1<<32-fr(x)-1)).toString(32)+m,u=":"+u+"R"+m,m=Nc++,0<m&&(u+="H"+m.toString(32)),u+=":"}else m=nP++,u=":"+u+"r"+m.toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},aP={readContext:Wi,useCallback:K1,useContext:Wi,useEffect:Oc,useImperativeHandle:q1,useInsertionEffect:W1,useLayoutEffect:J1,useMemo:Y1,useReducer:gf,useRef:V1,useState:function(){return gf(Oo)},useDebugValue:Sg,useDeferredValue:function(l){var u=gf(Oo),m=u[0],x=u[1];return Oc(function(){var M=Ki.transition;Ki.transition={};try{x(l)}finally{Ki.transition=M}},[l]),m},useTransition:function(){var l=gf(Oo)[0],u=kr().memoizedState;return[l,u]},useMutableSource:k1,useSyncExternalStore:z1,useId:Q1,unstable_isNewReconciler:!1},lP={readContext:Wi,useCallback:K1,useContext:Wi,useEffect:Oc,useImperativeHandle:q1,useInsertionEffect:W1,useLayoutEffect:J1,useMemo:Y1,useReducer:vf,useRef:V1,useState:function(){return vf(Oo)},useDebugValue:Sg,useDeferredValue:function(l){var u=vf(Oo),m=u[0],x=u[1];return Oc(function(){var M=Ki.transition;Ki.transition={};try{x(l)}finally{Ki.transition=M}},[l]),m},useTransition:function(){var l=vf(Oo)[0],u=kr().memoizedState;return[l,u]},useMutableSource:k1,useSyncExternalStore:z1,useId:Q1,unstable_isNewReconciler:!1};function Mg(l,u){try{var m="",x=u;do m+=tP(x),x=x.return;while(x);var M=m}catch(T){M=`
Error generating stack: `+T.message+`
`+T.stack}return{value:l,source:u,stack:M}}function Eg(l,u){try{console.error(u.value)}catch(m){setTimeout(function(){throw m})}}var cP=typeof WeakMap=="function"?WeakMap:Map;function nw(l,u,m){m=ss(-1,m),m.tag=3,m.payload={element:null};var x=u.value;return m.callback=function(){Ff||(Ff=!0,jg=x),Eg(l,u)},m}function iw(l,u,m){m=ss(-1,m),m.tag=3;var x=l.type.getDerivedStateFromError;if(typeof x=="function"){var M=u.value;m.payload=function(){return x(M)},m.callback=function(){Eg(l,u)}}var T=l.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(m.callback=function(){Eg(l,u),typeof x!="function"&&(Os===null?Os=new Set([this]):Os.add(this));var k=u.stack;this.componentDidCatch(u.value,{componentStack:k!==null?k:""})}),m}function rw(l,u,m){var x=l.pingCache;if(x===null){x=l.pingCache=new cP;var M=new Set;x.set(u,M)}else M=x.get(u),M===void 0&&(M=new Set,x.set(u,M));M.has(m)||(M.add(m),l=SP.bind(null,l,u,m),u.then(l,l))}function sw(l){do{var u;if((u=l.tag===13)&&(u=l.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return l;l=l.return}while(l!==null);return null}function ow(l,u,m,x,M){return l.mode&1?(l.flags|=65536,l.lanes=M,l):(l===u?l.flags|=65536:(l.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(u=ss(-1,1),u.tag=2,Fs(m,u))),m.lanes|=1),l)}function zr(l){l.flags|=4}function aw(l,u){if(l!==null&&l.child===u.child)return!0;if(u.flags&16)return!1;for(l=u.child;l!==null;){if(l.flags&12854||l.subtreeFlags&12854)return!1;l=l.sibling}return!0}var kc,zc,wf,Af;if(Re)kc=function(l,u){for(var m=u.child;m!==null;){if(m.tag===5||m.tag===6)H(l,m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===u)break;for(;m.sibling===null;){if(m.return===null||m.return===u)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},zc=function(){},wf=function(l,u,m,x,M){if(l=l.memoizedProps,l!==x){var T=u.stateNode,k=Or(qi.current);m=ge(T,m,l,x,M,k),(u.updateQueue=m)&&zr(u)}},Af=function(l,u,m,x){m!==x&&zr(u)};else if(fe){kc=function(l,u,m,x){for(var M=u.child;M!==null;){if(M.tag===5){var T=M.stateNode;m&&x&&(T=Tt(T,M.type,M.memoizedProps,M)),H(l,T)}else if(M.tag===6)T=M.stateNode,m&&x&&(T=Rn(T,M.memoizedProps,M)),H(l,T);else if(M.tag!==4){if(M.tag===22&&M.memoizedState!==null)T=M.child,T!==null&&(T.return=M),kc(l,M,!0,!0);else if(M.child!==null){M.child.return=M,M=M.child;continue}}if(M===u)break;for(;M.sibling===null;){if(M.return===null||M.return===u)return;M=M.return}M.sibling.return=M.return,M=M.sibling}};var lw=function(l,u,m,x){for(var M=u.child;M!==null;){if(M.tag===5){var T=M.stateNode;m&&x&&(T=Tt(T,M.type,M.memoizedProps,M)),Dt(l,T)}else if(M.tag===6)T=M.stateNode,m&&x&&(T=Rn(T,M.memoizedProps,M)),Dt(l,T);else if(M.tag!==4){if(M.tag===22&&M.memoizedState!==null)T=M.child,T!==null&&(T.return=M),lw(l,M,!0,!0);else if(M.child!==null){M.child.return=M,M=M.child;continue}}if(M===u)break;for(;M.sibling===null;){if(M.return===null||M.return===u)return;M=M.return}M.sibling.return=M.return,M=M.sibling}};zc=function(l,u){var m=u.stateNode;if(!aw(l,u)){l=m.containerInfo;var x=xt(l);lw(x,u,!1,!1),m.pendingChildren=x,zr(u),kt(l,x)}},wf=function(l,u,m,x,M){var T=l.stateNode,k=l.memoizedProps;if((l=aw(l,u))&&k===x)u.stateNode=T;else{var q=u.stateNode,de=Or(qi.current),Ce=null;k!==x&&(Ce=ge(q,m,k,x,M,de)),l&&Ce===null?u.stateNode=T:(T=Xe(T,Ce,m,k,x,u,l,q),te(T,m,x,M,de)&&zr(u),u.stateNode=T,l?zr(u):kc(T,u,!1,!1))}},Af=function(l,u,m,x){m!==x?(l=Or(qa.current),m=Or(qi.current),u.stateNode=Q(x,l,m,u),zr(u)):u.stateNode=l.stateNode}}else zc=function(){},wf=function(){},Af=function(){};function Uc(l,u){if(!qt)switch(l.tailMode){case"hidden":u=l.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:x.sibling=null}}function qn(l){var u=l.alternate!==null&&l.alternate.child===l.child,m=0,x=0;if(u)for(var M=l.child;M!==null;)m|=M.lanes|M.childLanes,x|=M.subtreeFlags&14680064,x|=M.flags&14680064,M.return=l,M=M.sibling;else for(M=l.child;M!==null;)m|=M.lanes|M.childLanes,x|=M.subtreeFlags,x|=M.flags,M.return=l,M=M.sibling;return l.subtreeFlags|=x,l.childLanes=m,u}function uP(l,u,m){var x=u.pendingProps;switch(ug(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qn(u),null;case 1:return gi(u.type)&&Yd(),qn(u),null;case 3:return x=u.stateNode,Ka(),ut(Ln),ut(Nt),vg(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(l===null||l.child===null)&&(Pc(u)?zr(u):l===null||l.memoizedState.isDehydrated&&!(u.flags&256)||(u.flags|=1024,pr!==null&&(Jg(pr),pr=null))),zc(l,u),qn(u),null;case 5:mg(u),m=Or(qa.current);var M=u.type;if(l!==null&&u.stateNode!=null)wf(l,u,M,x,m),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!x){if(u.stateNode===null)throw Error(o(166));return qn(u),null}if(l=Or(qi.current),Pc(u)){if(!ae)throw Error(o(175));l=et(u.stateNode,u.type,u.memoizedProps,m,l,u,!Bc),u.updateQueue=l,l!==null&&zr(u)}else{var T=ne(M,x,m,l,u);kc(T,u,!1,!1),u.stateNode=T,te(T,M,x,m,l)&&zr(u)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return qn(u),null;case 6:if(l&&u.stateNode!=null)Af(l,u,l.memoizedProps,x);else{if(typeof x!="string"&&u.stateNode===null)throw Error(o(166));if(l=Or(qa.current),m=Or(qi.current),Pc(u)){if(!ae)throw Error(o(176));if(l=u.stateNode,x=u.memoizedProps,(m=ot(l,x,u,!Bc))&&(M=bi,M!==null))switch(T=(M.mode&1)!==0,M.tag){case 3:dr(M.stateNode.containerInfo,l,x,T);break;case 5:es(M.type,M.memoizedProps,M.stateNode,l,x,T)}m&&zr(u)}else u.stateNode=Q(x,l,m,u)}return qn(u),null;case 13:if(ut(Zt),x=u.memoizedState,qt&&Ti!==null&&u.mode&1&&!(u.flags&128)){for(l=Ti;l;)l=ie(l);return Ja(),u.flags|=98560,u}if(x!==null&&x.dehydrated!==null){if(x=Pc(u),l===null){if(!x)throw Error(o(318));if(!ae)throw Error(o(344));if(l=u.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(o(317));dt(l,u)}else Ja(),!(u.flags&128)&&(u.memoizedState=null),u.flags|=4;return qn(u),null}return pr!==null&&(Jg(pr),pr=null),u.flags&128?(u.lanes=m,u):(x=x!==null,m=!1,l===null?Pc(u):m=l.memoizedState!==null,x&&!m&&(u.child.flags|=8192,u.mode&1&&(l===null||Zt.current&1?En===0&&(En=3):qg())),u.updateQueue!==null&&(u.flags|=4),qn(u),null);case 4:return Ka(),zc(l,u),l===null&&ze(u.stateNode.containerInfo),qn(u),null;case 10:return rg(u.type._context),qn(u),null;case 17:return gi(u.type)&&Yd(),qn(u),null;case 19:if(ut(Zt),M=u.memoizedState,M===null)return qn(u),null;if(x=(u.flags&128)!==0,T=M.rendering,T===null)if(x)Uc(M,!1);else{if(En!==0||l!==null&&l.flags&128)for(l=u.child;l!==null;){if(T=hf(l),T!==null){for(u.flags|=128,Uc(M,!1),l=T.updateQueue,l!==null&&(u.updateQueue=l,u.flags|=4),u.subtreeFlags=0,l=m,x=u.child;x!==null;)m=x,M=l,m.flags&=14680066,T=m.alternate,T===null?(m.childLanes=0,m.lanes=M,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=T.childLanes,m.lanes=T.lanes,m.child=T.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=T.memoizedProps,m.memoizedState=T.memoizedState,m.updateQueue=T.updateQueue,m.type=T.type,M=T.dependencies,m.dependencies=M===null?null:{lanes:M.lanes,firstContext:M.firstContext}),x=x.sibling;return Et(Zt,Zt.current&1|2),u.child}l=l.sibling}M.tail!==null&&In()>Hg&&(u.flags|=128,x=!0,Uc(M,!1),u.lanes=4194304)}else{if(!x)if(l=hf(T),l!==null){if(u.flags|=128,x=!0,l=l.updateQueue,l!==null&&(u.updateQueue=l,u.flags|=4),Uc(M,!0),M.tail===null&&M.tailMode==="hidden"&&!T.alternate&&!qt)return qn(u),null}else 2*In()-M.renderingStartTime>Hg&&m!==1073741824&&(u.flags|=128,x=!0,Uc(M,!1),u.lanes=4194304);M.isBackwards?(T.sibling=u.child,u.child=T):(l=M.last,l!==null?l.sibling=T:u.child=T,M.last=T)}return M.tail!==null?(u=M.tail,M.rendering=u,M.tail=u.sibling,M.renderingStartTime=In(),u.sibling=null,l=Zt.current,Et(Zt,x?l&1|2:l&1),u):(qn(u),null);case 22:case 23:return Xg(),x=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==x&&(u.flags|=8192),x&&u.mode&1?Pi&1073741824&&(qn(u),Re&&u.subtreeFlags&6&&(u.flags|=8192)):qn(u),null;case 24:return null;case 25:return null}throw Error(o(156,u.tag))}var dP=a.ReactCurrentOwner,Bi=!1;function si(l,u,m,x){u.child=l===null?F1(u,null,m,x):Xa(u,l.child,m,x)}function cw(l,u,m,x,M){m=m.render;var T=u.ref;return ja(u,M),x=xg(l,u,m,x,T,M),m=_g(),l!==null&&!Bi?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~M,cs(l,u,M)):(qt&&m&&cg(u),u.flags|=1,si(l,u,x,M),u.child)}function uw(l,u,m,x,M){if(l===null){var T=m.type;return typeof T=="function"&&!Kg(T)&&T.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(u.tag=15,u.type=T,dw(l,u,T,x,M)):(l=jf(m.type,null,x,u,u.mode,M),l.ref=u.ref,l.return=u,u.child=l)}if(T=l.child,!(l.lanes&M)){var k=T.memoizedProps;if(m=m.compare,m=m!==null?m:rf,m(k,x)&&l.ref===u.ref)return cs(l,u,M)}return u.flags|=1,l=Gs(T,x),l.ref=u.ref,l.return=u,u.child=l}function dw(l,u,m,x,M){if(l!==null&&rf(l.memoizedProps,x)&&l.ref===u.ref)if(Bi=!1,(l.lanes&M)!==0)l.flags&131072&&(Bi=!0);else return u.lanes=l.lanes,cs(l,u,M);return Cg(l,u,m,x,M)}function fw(l,u,m){var x=u.pendingProps,M=x.children,T=l!==null?l.memoizedState:null;if(x.mode==="hidden")if(!(u.mode&1))u.memoizedState={baseLanes:0,cachePool:null},Et(Qa,Pi),Pi|=m;else if(m&1073741824)u.memoizedState={baseLanes:0,cachePool:null},x=T!==null?T.baseLanes:m,Et(Qa,Pi),Pi|=x;else return l=T!==null?T.baseLanes|m:m,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null},u.updateQueue=null,Et(Qa,Pi),Pi|=l,null;else T!==null?(x=T.baseLanes|m,u.memoizedState=null):x=m,Et(Qa,Pi),Pi|=x;return si(l,u,M,m),u.child}function hw(l,u){var m=u.ref;(l===null&&m!==null||l!==null&&l.ref!==m)&&(u.flags|=512,u.flags|=2097152)}function Cg(l,u,m,x,M){var T=gi(m)?ns:Nt.current;return T=is(u,T),ja(u,M),m=xg(l,u,m,x,T,M),x=_g(),l!==null&&!Bi?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~M,cs(l,u,M)):(qt&&x&&cg(u),u.flags|=1,si(l,u,m,M),u.child)}function pw(l,u,m,x,M){if(gi(m)){var T=!0;Qd(u)}else T=!1;if(ja(u,M),u.stateNode===null)l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2),T1(u,m,x),lg(u,m,x,M),x=!0;else if(l===null){var k=u.stateNode,q=u.memoizedProps;k.props=q;var de=k.context,Ce=m.contextType;typeof Ce=="object"&&Ce!==null?Ce=Wi(Ce):(Ce=gi(m)?ns:Nt.current,Ce=is(u,Ce));var Ge=m.getDerivedStateFromProps,at=typeof Ge=="function"||typeof k.getSnapshotBeforeUpdate=="function";at||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(q!==x||de!==Ce)&&B1(u,k,x,Ce),Ns=!1;var tt=u.memoizedState;k.state=tt,lf(u,x,k,M),de=u.memoizedState,q!==x||tt!==de||Ln.current||Ns?(typeof Ge=="function"&&(ag(u,m,Ge,x),de=u.memoizedState),(q=Ns||b1(u,m,q,x,tt,de,Ce))?(at||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(u.flags|=4194308)):(typeof k.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=x,u.memoizedState=de),k.props=x,k.state=de,k.context=Ce,x=q):(typeof k.componentDidMount=="function"&&(u.flags|=4194308),x=!1)}else{k=u.stateNode,S1(l,u),q=u.memoizedProps,Ce=u.type===u.elementType?q:hr(u.type,q),k.props=Ce,at=u.pendingProps,tt=k.context,de=m.contextType,typeof de=="object"&&de!==null?de=Wi(de):(de=gi(m)?ns:Nt.current,de=is(u,de));var zt=m.getDerivedStateFromProps;(Ge=typeof zt=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(q!==at||tt!==de)&&B1(u,k,x,de),Ns=!1,tt=u.memoizedState,k.state=tt,lf(u,x,k,M);var Qe=u.memoizedState;q!==at||tt!==Qe||Ln.current||Ns?(typeof zt=="function"&&(ag(u,m,zt,x),Qe=u.memoizedState),(Ce=Ns||b1(u,m,Ce,x,tt,Qe,de)||!1)?(Ge||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(x,Qe,de),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(x,Qe,de)),typeof k.componentDidUpdate=="function"&&(u.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof k.componentDidUpdate!="function"||q===l.memoizedProps&&tt===l.memoizedState||(u.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||q===l.memoizedProps&&tt===l.memoizedState||(u.flags|=1024),u.memoizedProps=x,u.memoizedState=Qe),k.props=x,k.state=Qe,k.context=de,x=Ce):(typeof k.componentDidUpdate!="function"||q===l.memoizedProps&&tt===l.memoizedState||(u.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||q===l.memoizedProps&&tt===l.memoizedState||(u.flags|=1024),x=!1)}return bg(l,u,m,x,T,M)}function bg(l,u,m,x,M,T){hw(l,u);var k=(u.flags&128)!==0;if(!x&&!k)return M&&y1(u,m,!1),cs(l,u,T);x=u.stateNode,dP.current=u;var q=k&&typeof m.getDerivedStateFromError!="function"?null:x.render();return u.flags|=1,l!==null&&k?(u.child=Xa(u,l.child,null,T),u.child=Xa(u,null,q,T)):si(l,u,q,T),u.memoizedState=x.state,M&&y1(u,m,!0),u.child}function mw(l){var u=l.stateNode;u.pendingContext?g1(l,u.pendingContext,u.pendingContext!==u.context):u.context&&g1(l,u.context,!1),pg(l,u.containerInfo)}function gw(l,u,m,x,M){return Ja(),hg(M),u.flags|=256,si(l,u,m,x),u.child}var Sf={dehydrated:null,treeContext:null,retryLane:0};function Mf(l){return{baseLanes:l,cachePool:null}}function vw(l,u,m){var x=u.pendingProps,M=Zt.current,T=!1,k=(u.flags&128)!==0,q;if((q=k)||(q=l!==null&&l.memoizedState===null?!1:(M&2)!==0),q?(T=!0,u.flags&=-129):(l===null||l.memoizedState!==null)&&(M|=1),Et(Zt,M&1),l===null)return fg(u),l=u.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?(u.mode&1?Cc(l)?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):(M=x.children,l=x.fallback,T?(x=u.mode,T=u.child,M={mode:"hidden",children:M},!(x&1)&&T!==null?(T.childLanes=0,T.pendingProps=M):T=Vf(M,x,0,null),l=jo(l,x,m,null),T.return=u,l.return=u,T.sibling=l,u.child=T,u.child.memoizedState=Mf(m),u.memoizedState=Sf,l):Tg(u,M));if(M=l.memoizedState,M!==null){if(q=M.dehydrated,q!==null){if(k)return u.flags&256?(u.flags&=-257,Ef(l,u,m,Error(o(422)))):u.memoizedState!==null?(u.child=l.child,u.flags|=128,null):(T=x.fallback,M=u.mode,x=Vf({mode:"visible",children:x.children},M,0,null),T=jo(T,M,m,null),T.flags|=2,x.return=u,T.return=u,x.sibling=T,u.child=x,u.mode&1&&Xa(u,l.child,null,m),u.child.memoizedState=Mf(m),u.memoizedState=Sf,T);if(!(u.mode&1))u=Ef(l,u,m,null);else if(Cc(q))u=Ef(l,u,m,Error(o(419)));else if(x=(m&l.childLanes)!==0,Bi||x){if(x=yn,x!==null){switch(m&-m){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}x=T&(x.suspendedLanes|m)?0:T,x!==0&&x!==M.retryLane&&(M.retryLane=x,Yi(l,x,-1))}qg(),u=Ef(l,u,m,Error(o(421)))}else Kd(q)?(u.flags|=128,u.child=l.child,u=MP.bind(null,l),O(q,u),u=null):(m=M.treeContext,ae&&(Ti=me(q),bi=u,qt=!0,pr=null,Bc=!1,m!==null&&(Ji[Xi++]=os,Ji[Xi++]=as,Ji[Xi++]=No,os=m.id,as=m.overflow,No=u)),u=Tg(u,u.pendingProps.children),u.flags|=4096);return u}return T?(x=xw(l,u,x.children,x.fallback,m),T=u.child,M=l.child.memoizedState,T.memoizedState=M===null?Mf(m):{baseLanes:M.baseLanes|m,cachePool:null},T.childLanes=l.childLanes&~m,u.memoizedState=Sf,x):(m=yw(l,u,x.children,m),u.memoizedState=null,m)}return T?(x=xw(l,u,x.children,x.fallback,m),T=u.child,M=l.child.memoizedState,T.memoizedState=M===null?Mf(m):{baseLanes:M.baseLanes|m,cachePool:null},T.childLanes=l.childLanes&~m,u.memoizedState=Sf,x):(m=yw(l,u,x.children,m),u.memoizedState=null,m)}function Tg(l,u){return u=Vf({mode:"visible",children:u},l.mode,0,null),u.return=l,l.child=u}function yw(l,u,m,x){var M=l.child;return l=M.sibling,m=Gs(M,{mode:"visible",children:m}),!(u.mode&1)&&(m.lanes=x),m.return=u,m.sibling=null,l!==null&&(x=u.deletions,x===null?(u.deletions=[l],u.flags|=16):x.push(l)),u.child=m}function xw(l,u,m,x,M){var T=u.mode;l=l.child;var k=l.sibling,q={mode:"hidden",children:m};return!(T&1)&&u.child!==l?(m=u.child,m.childLanes=0,m.pendingProps=q,u.deletions=null):(m=Gs(l,q),m.subtreeFlags=l.subtreeFlags&14680064),k!==null?x=Gs(k,x):(x=jo(x,T,M,null),x.flags|=2),x.return=u,m.return=u,m.sibling=x,u.child=m,x}function Ef(l,u,m,x){return x!==null&&hg(x),Xa(u,l.child,null,m),l=Tg(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function _w(l,u,m){l.lanes|=u;var x=l.alternate;x!==null&&(x.lanes|=u),sg(l.return,u,m)}function Bg(l,u,m,x,M){var T=l.memoizedState;T===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:x,tail:m,tailMode:M}:(T.isBackwards=u,T.rendering=null,T.renderingStartTime=0,T.last=x,T.tail=m,T.tailMode=M)}function ww(l,u,m){var x=u.pendingProps,M=x.revealOrder,T=x.tail;if(si(l,u,x.children,m),x=Zt.current,x&2)x=x&1|2,u.flags|=128;else{if(l!==null&&l.flags&128)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&_w(l,m,u);else if(l.tag===19)_w(l,m,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}x&=1}if(Et(Zt,x),!(u.mode&1))u.memoizedState=null;else switch(M){case"forwards":for(m=u.child,M=null;m!==null;)l=m.alternate,l!==null&&hf(l)===null&&(M=m),m=m.sibling;m=M,m===null?(M=u.child,u.child=null):(M=m.sibling,m.sibling=null),Bg(u,!1,M,m,T);break;case"backwards":for(m=null,M=u.child,u.child=null;M!==null;){if(l=M.alternate,l!==null&&hf(l)===null){u.child=M;break}l=M.sibling,M.sibling=m,m=M,M=l}Bg(u,!0,m,null,T);break;case"together":Bg(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function cs(l,u,m){if(l!==null&&(u.dependencies=l.dependencies),Za|=u.lanes,!(m&u.childLanes))return null;if(l!==null&&u.child!==l.child)throw Error(o(153));if(u.child!==null){for(l=u.child,m=Gs(l,l.pendingProps),u.child=m,m.return=u;l.sibling!==null;)l=l.sibling,m=m.sibling=Gs(l,l.pendingProps),m.return=u;m.sibling=null}return u.child}function fP(l,u,m){switch(u.tag){case 3:mw(u),Ja();break;case 5:O1(u);break;case 1:gi(u.type)&&Qd(u);break;case 4:pg(u,u.stateNode.containerInfo);break;case 10:A1(u,u.type._context,u.memoizedProps.value);break;case 13:var x=u.memoizedState;if(x!==null)return x.dehydrated!==null?(Et(Zt,Zt.current&1),u.flags|=128,null):m&u.child.childLanes?vw(l,u,m):(Et(Zt,Zt.current&1),l=cs(l,u,m),l!==null?l.sibling:null);Et(Zt,Zt.current&1);break;case 19:if(x=(m&u.childLanes)!==0,l.flags&128){if(x)return ww(l,u,m);u.flags|=128}var M=u.memoizedState;if(M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),Et(Zt,Zt.current),x)break;return null;case 22:case 23:return u.lanes=0,fw(l,u,m)}return cs(l,u,m)}function hP(l,u){switch(ug(u),u.tag){case 1:return gi(u.type)&&Yd(),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return Ka(),ut(Ln),ut(Nt),vg(),l=u.flags,l&65536&&!(l&128)?(u.flags=l&-65537|128,u):null;case 5:return mg(u),null;case 13:if(ut(Zt),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(o(340));Ja()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return ut(Zt),null;case 4:return Ka(),null;case 10:return rg(u.type._context),null;case 22:case 23:return Xg(),null;case 24:return null;default:return null}}var Cf=!1,ko=!1,pP=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function bf(l,u){var m=l.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(x){xi(l,u,x)}else m.current=null}function Pg(l,u,m){try{m()}catch(x){xi(l,u,x)}}var Aw=!1;function mP(l,u){for(G(l.containerInfo),Ie=u;Ie!==null;)if(l=Ie,u=l.child,(l.subtreeFlags&1028)!==0&&u!==null)u.return=l,Ie=u;else for(;Ie!==null;){l=Ie;try{var m=l.alternate;if(l.flags&1024)switch(l.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var x=m.memoizedProps,M=m.memoizedState,T=l.stateNode,k=T.getSnapshotBeforeUpdate(l.elementType===l.type?x:hr(l.type,x),M);T.__reactInternalSnapshotBeforeUpdate=k}break;case 3:Re&&Le(l.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(q){xi(l,l.return,q)}if(u=l.sibling,u!==null){u.return=l.return,Ie=u;break}Ie=l.return}return m=Aw,Aw=!1,m}function zo(l,u,m){var x=u.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var M=x=x.next;do{if((M.tag&l)===l){var T=M.destroy;M.destroy=void 0,T!==void 0&&Pg(u,m,T)}M=M.next}while(M!==x)}}function Gc(l,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var m=u=u.next;do{if((m.tag&l)===l){var x=m.create;m.destroy=x()}m=m.next}while(m!==u)}}function Rg(l){var u=l.ref;if(u!==null){var m=l.stateNode;switch(l.tag){case 5:l=ce(m);break;default:l=m}typeof u=="function"?u(l):u.current=l}}function Sw(l,u,m){if(Ir&&typeof Ir.onCommitFiberUnmount=="function")try{Ir.onCommitFiberUnmount(tf,u)}catch{}switch(u.tag){case 0:case 11:case 14:case 15:if(l=u.updateQueue,l!==null&&(l=l.lastEffect,l!==null)){var x=l=l.next;do{var M=x,T=M.destroy;M=M.tag,T!==void 0&&(M&2||M&4)&&Pg(u,m,T),x=x.next}while(x!==l)}break;case 1:if(bf(u,m),l=u.stateNode,typeof l.componentWillUnmount=="function")try{l.props=u.memoizedProps,l.state=u.memoizedState,l.componentWillUnmount()}catch(k){xi(u,m,k)}break;case 5:bf(u,m);break;case 4:Re?Bw(l,u,m):fe&&fe&&(u=u.stateNode.containerInfo,m=xt(u),ii(u,m))}}function Mw(l,u,m){for(var x=u;;)if(Sw(l,x,m),x.child===null||Re&&x.tag===4){if(x===u)break;for(;x.sibling===null;){if(x.return===null||x.return===u)return;x=x.return}x.sibling.return=x.return,x=x.sibling}else x.child.return=x,x=x.child}function Ew(l){var u=l.alternate;u!==null&&(l.alternate=null,Ew(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&Ze(u)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function Cw(l){return l.tag===5||l.tag===3||l.tag===4}function bw(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Cw(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Tw(l){if(Re){e:{for(var u=l.return;u!==null;){if(Cw(u))break e;u=u.return}throw Error(o(160))}var m=u;switch(m.tag){case 5:u=m.stateNode,m.flags&32&&(xe(u),m.flags&=-33),m=bw(l),Ig(l,m,u);break;case 3:case 4:u=m.stateNode.containerInfo,m=bw(l),Lg(l,m,u);break;default:throw Error(o(161))}}}function Lg(l,u,m){var x=l.tag;if(x===5||x===6)l=l.stateNode,u?$e(m,l,u):Ne(m,l);else if(x!==4&&(l=l.child,l!==null))for(Lg(l,u,m),l=l.sibling;l!==null;)Lg(l,u,m),l=l.sibling}function Ig(l,u,m){var x=l.tag;if(x===5||x===6)l=l.stateNode,u?je(m,l,u):nt(m,l);else if(x!==4&&(l=l.child,l!==null))for(Ig(l,u,m),l=l.sibling;l!==null;)Ig(l,u,m),l=l.sibling}function Bw(l,u,m){for(var x=u,M=!1,T,k;;){if(!M){M=x.return;e:for(;;){if(M===null)throw Error(o(160));switch(T=M.stateNode,M.tag){case 5:k=!1;break e;case 3:T=T.containerInfo,k=!0;break e;case 4:T=T.containerInfo,k=!0;break e}M=M.return}M=!0}if(x.tag===5||x.tag===6)Mw(l,x,m),k?X(T,x.stateNode):Je(T,x.stateNode);else if(x.tag===18)k?an(T,x.stateNode):wt(T,x.stateNode);else if(x.tag===4){if(x.child!==null){T=x.stateNode.containerInfo,k=!0,x.child.return=x,x=x.child;continue}}else if(Sw(l,x,m),x.child!==null){x.child.return=x,x=x.child;continue}if(x===u)break;for(;x.sibling===null;){if(x.return===null||x.return===u)return;x=x.return,x.tag===4&&(M=!1)}x.sibling.return=x.return,x=x.sibling}}function Dg(l,u){if(Re){switch(u.tag){case 0:case 11:case 14:case 15:zo(3,u,u.return),Gc(3,u),zo(5,u,u.return);return;case 1:return;case 5:var m=u.stateNode;if(m!=null){var x=u.memoizedProps;l=l!==null?l.memoizedProps:x;var M=u.type,T=u.updateQueue;u.updateQueue=null,T!==null&&it(m,T,M,l,x,u)}return;case 6:if(u.stateNode===null)throw Error(o(162));m=u.memoizedProps,ve(u.stateNode,l!==null?l.memoizedProps:m,m);return;case 3:ae&&l!==null&&l.memoizedState.isDehydrated&&St(u.stateNode.containerInfo);return;case 12:return;case 13:Tf(u);return;case 19:Tf(u);return;case 17:return}throw Error(o(163))}switch(u.tag){case 0:case 11:case 14:case 15:zo(3,u,u.return),Gc(3,u),zo(5,u,u.return);return;case 12:return;case 13:Tf(u);return;case 19:Tf(u);return;case 3:ae&&l!==null&&l.memoizedState.isDehydrated&&St(u.stateNode.containerInfo);break;case 22:case 23:return}e:if(fe){switch(u.tag){case 1:case 5:case 6:break e;case 3:case 4:u=u.stateNode,ii(u.containerInfo,u.pendingChildren);break e}throw Error(o(163))}}function Tf(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var m=l.stateNode;m===null&&(m=l.stateNode=new pP),u.forEach(function(x){var M=EP.bind(null,l,x);m.has(x)||(m.add(x),x.then(M,M))})}}function gP(l,u){for(Ie=u;Ie!==null;){u=Ie;var m=u.deletions;if(m!==null)for(var x=0;x<m.length;x++){var M=m[x];try{var T=l;Re?Bw(T,M,u):Mw(T,M,u);var k=M.alternate;k!==null&&(k.return=null),M.return=null}catch(qe){xi(M,u,qe)}}if(m=u.child,u.subtreeFlags&12854&&m!==null)m.return=u,Ie=m;else for(;Ie!==null;){u=Ie;try{var q=u.flags;if(q&32&&Re&&xe(u.stateNode),q&512){var de=u.alternate;if(de!==null){var Ce=de.ref;Ce!==null&&(typeof Ce=="function"?Ce(null):Ce.current=null)}}if(q&8192)switch(u.tag){case 13:if(u.memoizedState!==null){var Ge=u.alternate;(Ge===null||Ge.memoizedState===null)&&(Gg=In())}break;case 22:var at=u.memoizedState!==null,tt=u.alternate,zt=tt!==null&&tt.memoizedState!==null;if(m=u,Re){e:if(x=m,M=at,T=null,Re)for(var Qe=x;;){if(Qe.tag===5){if(T===null){T=Qe;var Kn=Qe.stateNode;M?ke(Kn):se(Qe.stateNode,Qe.memoizedProps)}}else if(Qe.tag===6){if(T===null){var Zi=Qe.stateNode;M?V(Zi):_e(Zi,Qe.memoizedProps)}}else if((Qe.tag!==22&&Qe.tag!==23||Qe.memoizedState===null||Qe===x)&&Qe.child!==null){Qe.child.return=Qe,Qe=Qe.child;continue}if(Qe===x)break;for(;Qe.sibling===null;){if(Qe.return===null||Qe.return===x)break e;T===Qe&&(T=null),Qe=Qe.return}T===Qe&&(T=null),Qe.sibling.return=Qe.return,Qe=Qe.sibling}}if(at&&!zt&&m.mode&1){Ie=m;for(var re=m.child;re!==null;){for(m=Ie=re;Ie!==null;){x=Ie;var K=x.child;switch(x.tag){case 0:case 11:case 14:case 15:zo(4,x,x.return);break;case 1:bf(x,x.return);var le=x.stateNode;if(typeof le.componentWillUnmount=="function"){var Fe=x.return;try{le.props=x.memoizedProps,le.state=x.memoizedState,le.componentWillUnmount()}catch(qe){xi(x,Fe,qe)}}break;case 5:bf(x,x.return);break;case 22:if(x.memoizedState!==null){Lw(m);continue}}K!==null?(K.return=x,Ie=K):Lw(m)}re=re.sibling}}}switch(q&4102){case 2:Tw(u),u.flags&=-3;break;case 6:Tw(u),u.flags&=-3,Dg(u.alternate,u);break;case 4096:u.flags&=-4097;break;case 4100:u.flags&=-4097,Dg(u.alternate,u);break;case 4:Dg(u.alternate,u)}}catch(qe){xi(u,u.return,qe)}if(m=u.sibling,m!==null){m.return=u.return,Ie=m;break}Ie=u.return}}}function vP(l,u,m){Ie=l,Pw(l)}function Pw(l,u,m){for(var x=(l.mode&1)!==0;Ie!==null;){var M=Ie,T=M.child;if(M.tag===22&&x){var k=M.memoizedState!==null||Cf;if(!k){var q=M.alternate,de=q!==null&&q.memoizedState!==null||ko;q=Cf;var Ce=ko;if(Cf=k,(ko=de)&&!Ce)for(Ie=M;Ie!==null;)k=Ie,de=k.child,k.tag===22&&k.memoizedState!==null?Iw(M):de!==null?(de.return=k,Ie=de):Iw(M);for(;T!==null;)Ie=T,Pw(T),T=T.sibling;Ie=M,Cf=q,ko=Ce}Rw(l)}else M.subtreeFlags&8772&&T!==null?(T.return=M,Ie=T):Rw(l)}}function Rw(l){for(;Ie!==null;){var u=Ie;if(u.flags&8772){var m=u.alternate;try{if(u.flags&8772)switch(u.tag){case 0:case 11:case 15:ko||Gc(5,u);break;case 1:var x=u.stateNode;if(u.flags&4&&!ko)if(m===null)x.componentDidMount();else{var M=u.elementType===u.type?m.memoizedProps:hr(u.type,m.memoizedProps);x.componentDidUpdate(M,m.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var T=u.updateQueue;T!==null&&E1(u,T,x);break;case 3:var k=u.updateQueue;if(k!==null){if(m=null,u.child!==null)switch(u.child.tag){case 5:m=ce(u.child.stateNode);break;case 1:m=u.child.stateNode}E1(u,k,m)}break;case 5:var q=u.stateNode;m===null&&u.flags&4&&Ye(q,u.type,u.memoizedProps,u);break;case 6:break;case 4:break;case 12:break;case 13:if(ae&&u.memoizedState===null){var de=u.alternate;if(de!==null){var Ce=de.memoizedState;if(Ce!==null){var Ge=Ce.dehydrated;Ge!==null&&_t(Ge)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}ko||u.flags&512&&Rg(u)}catch(at){xi(u,u.return,at)}}if(u===l){Ie=null;break}if(m=u.sibling,m!==null){m.return=u.return,Ie=m;break}Ie=u.return}}function Lw(l){for(;Ie!==null;){var u=Ie;if(u===l){Ie=null;break}var m=u.sibling;if(m!==null){m.return=u.return,Ie=m;break}Ie=u.return}}function Iw(l){for(;Ie!==null;){var u=Ie;try{switch(u.tag){case 0:case 11:case 15:var m=u.return;try{Gc(4,u)}catch(de){xi(u,m,de)}break;case 1:var x=u.stateNode;if(typeof x.componentDidMount=="function"){var M=u.return;try{x.componentDidMount()}catch(de){xi(u,M,de)}}var T=u.return;try{Rg(u)}catch(de){xi(u,T,de)}break;case 5:var k=u.return;try{Rg(u)}catch(de){xi(u,k,de)}}}catch(de){xi(u,u.return,de)}if(u===l){Ie=null;break}var q=u.sibling;if(q!==null){q.return=u.return,Ie=q;break}Ie=u.return}}var Bf=0,Pf=1,Rf=2,Lf=3,If=4;if(typeof Symbol=="function"&&Symbol.for){var Hc=Symbol.for;Bf=Hc("selector.component"),Pf=Hc("selector.has_pseudo_class"),Rf=Hc("selector.role"),Lf=Hc("selector.test_id"),If=Hc("selector.text")}function Ng(l){var u=Me(l);if(u!=null){if(typeof u.memoizedProps["data-testname"]!="string")throw Error(o(364));return u}if(l=yt(l),l===null)throw Error(o(362));return l.stateNode.current}function Fg(l,u){switch(u.$$typeof){case Bf:if(l.type===u.value)return!0;break;case Pf:e:{u=u.value,l=[l,0];for(var m=0;m<l.length;){var x=l[m++],M=l[m++],T=u[M];if(x.tag!==5||!oe(x)){for(;T!=null&&Fg(x,T);)M++,T=u[M];if(M===u.length){u=!0;break e}else for(x=x.child;x!==null;)l.push(x,M),x=x.sibling}}u=!1}return u;case Rf:if(l.tag===5&&Ae(l.stateNode,u.value))return!0;break;case If:if((l.tag===5||l.tag===6)&&(l=N(l),l!==null&&0<=l.indexOf(u.value)))return!0;break;case Lf:if(l.tag===5&&(l=l.memoizedProps["data-testname"],typeof l=="string"&&l.toLowerCase()===u.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Og(l){switch(l.$$typeof){case Bf:return"<"+(L(l.value)||"Unknown")+">";case Pf:return":has("+(Og(l)||"")+")";case Rf:return'[role="'+l.value+'"]';case If:return'"'+l.value+'"';case Lf:return'[data-testname="'+l.value+'"]';default:throw Error(o(365))}}function Dw(l,u){var m=[];l=[l,0];for(var x=0;x<l.length;){var M=l[x++],T=l[x++],k=u[T];if(M.tag!==5||!oe(M)){for(;k!=null&&Fg(M,k);)T++,k=u[T];if(T===u.length)m.push(M);else for(M=M.child;M!==null;)l.push(M,T),M=M.sibling}}return m}function kg(l,u){if(!vt)throw Error(o(363));l=Ng(l),l=Dw(l,u),u=[],l=Array.from(l);for(var m=0;m<l.length;){var x=l[m++];if(x.tag===5)oe(x)||u.push(x.stateNode);else for(x=x.child;x!==null;)l.push(x),x=x.sibling}return u}var yP=Math.ceil,Df=a.ReactCurrentDispatcher,zg=a.ReactCurrentOwner,pn=a.ReactCurrentBatchConfig,gt=0,yn=null,xn=null,Gn=0,Pi=0,Qa=ji(0),En=0,jc=null,Za=0,Nf=0,Ug=0,Vc=null,vi=null,Gg=0,Hg=1/0;function $a(){Hg=In()+500}var Ff=!1,jg=null,Os=null,Of=!1,ks=null,kf=0,Wc=0,Vg=null,zf=-1,Uf=0;function oi(){return gt&6?In():zf!==-1?zf:zf=In()}function zs(l){return l.mode&1?gt&2&&Gn!==0?Gn&-Gn:eP.transition!==null?(Uf===0&&(l=Zd,Zd<<=1,!(Zd&4194240)&&(Zd=64),Uf=l),Uf):(l=Pt,l!==0?l:Te()):1}function Yi(l,u,m){if(50<Wc)throw Wc=0,Vg=null,Error(o(185));var x=Gf(l,u);return x===null?null:(Tc(x,u,m),(!(gt&2)||x!==yn)&&(x===yn&&(!(gt&2)&&(Nf|=u),En===4&&Us(x,Gn)),yi(x,m),u===1&&gt===0&&!(l.mode&1)&&($a(),nf&&Nr())),x)}function Gf(l,u){l.lanes|=u;var m=l.alternate;for(m!==null&&(m.lanes|=u),m=l,l=l.return;l!==null;)l.childLanes|=u,m=l.alternate,m!==null&&(m.childLanes|=u),m=l,l=l.return;return m.tag===3?m.stateNode:null}function yi(l,u){var m=l.callbackNode;WB(l,u);var x=ef(l,l===yn?Gn:0);if(x===0)m!==null&&_1(m),l.callbackNode=null,l.callbackPriority=0;else if(u=x&-x,l.callbackPriority!==u){if(m!=null&&_1(m),u===1)l.tag===0?$B(Fw.bind(null,l)):w1(Fw.bind(null,l)),Ke?We(function(){gt===0&&Nr()}):Zm($m,Nr),m=null;else{switch(x1(x)){case 1:m=$m;break;case 4:m=KB;break;case 16:m=eg;break;case 536870912:m=YB;break;default:m=eg}m=Ww(m,Nw.bind(null,l))}l.callbackPriority=u,l.callbackNode=m}}function Nw(l,u){if(zf=-1,Uf=0,gt&6)throw Error(o(327));var m=l.callbackNode;if(Ho()&&l.callbackNode!==m)return null;var x=ef(l,l===yn?Gn:0);if(x===0)return null;if(x&30||x&l.expiredLanes||u)u=Hf(l,x);else{u=x;var M=gt;gt|=2;var T=zw();(yn!==l||Gn!==u)&&($a(),Uo(l,u));do try{wP();break}catch(q){kw(l,q)}while(1);ig(),Df.current=T,gt=M,xn!==null?u=0:(yn=null,Gn=0,u=En)}if(u!==0){if(u===2&&(M=Km(l),M!==0&&(x=M,u=Wg(l,M))),u===1)throw m=jc,Uo(l,0),Us(l,x),yi(l,In()),m;if(u===6)Us(l,x);else{if(M=l.current.alternate,!(x&30)&&!xP(M)&&(u=Hf(l,x),u===2&&(T=Km(l),T!==0&&(x=T,u=Wg(l,T))),u===1))throw m=jc,Uo(l,0),Us(l,x),yi(l,In()),m;switch(l.finishedWork=M,l.finishedLanes=x,u){case 0:case 1:throw Error(o(345));case 2:Go(l,vi);break;case 3:if(Us(l,x),(x&130023424)===x&&(u=Gg+500-In(),10<u)){if(ef(l,0)!==0)break;if(M=l.suspendedLanes,(M&x)!==x){oi(),l.pingedLanes|=l.suspendedLanes&M;break}l.timeoutHandle=Pe(Go.bind(null,l,vi),u);break}Go(l,vi);break;case 4:if(Us(l,x),(x&4194240)===x)break;for(u=l.eventTimes,M=-1;0<x;){var k=31-fr(x);T=1<<k,k=u[k],k>M&&(M=k),x&=~T}if(x=M,x=In()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*yP(x/1960))-x,10<x){l.timeoutHandle=Pe(Go.bind(null,l,vi),x);break}Go(l,vi);break;case 5:Go(l,vi);break;default:throw Error(o(329))}}}return yi(l,In()),l.callbackNode===m?Nw.bind(null,l):null}function Wg(l,u){var m=Vc;return l.current.memoizedState.isDehydrated&&(Uo(l,u).flags|=256),l=Hf(l,u),l!==2&&(u=vi,vi=m,u!==null&&Jg(u)),l}function Jg(l){vi===null?vi=l:vi.push.apply(vi,l)}function xP(l){for(var u=l;;){if(u.flags&16384){var m=u.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var x=0;x<m.length;x++){var M=m[x],T=M.getSnapshot;M=M.value;try{if(!Dr(T(),M))return!1}catch{return!1}}}if(m=u.child,u.subtreeFlags&16384&&m!==null)m.return=u,u=m;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Us(l,u){for(u&=~Ug,u&=~Nf,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var m=31-fr(u),x=1<<m;l[m]=-1,u&=~x}}function Fw(l){if(gt&6)throw Error(o(327));Ho();var u=ef(l,0);if(!(u&1))return yi(l,In()),null;var m=Hf(l,u);if(l.tag!==0&&m===2){var x=Km(l);x!==0&&(u=x,m=Wg(l,x))}if(m===1)throw m=jc,Uo(l,0),Us(l,u),yi(l,In()),m;if(m===6)throw Error(o(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,Go(l,vi),yi(l,In()),null}function Ow(l){ks!==null&&ks.tag===0&&!(gt&6)&&Ho();var u=gt;gt|=1;var m=pn.transition,x=Pt;try{if(pn.transition=null,Pt=1,l)return l()}finally{Pt=x,pn.transition=m,gt=u,!(gt&6)&&Nr()}}function Xg(){Pi=Qa.current,ut(Qa)}function Uo(l,u){l.finishedWork=null,l.finishedLanes=0;var m=l.timeoutHandle;if(m!==He&&(l.timeoutHandle=He,Oe(m)),xn!==null)for(m=xn.return;m!==null;){var x=m;switch(ug(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&Yd();break;case 3:Ka(),ut(Ln),ut(Nt),vg();break;case 5:mg(x);break;case 4:Ka();break;case 13:ut(Zt);break;case 19:ut(Zt);break;case 10:rg(x.type._context);break;case 22:case 23:Xg()}m=m.return}if(yn=l,xn=l=Gs(l.current,null),Gn=Pi=u,En=0,jc=null,Ug=Nf=Za=0,vi=Vc=null,Fr!==null){for(u=0;u<Fr.length;u++)if(m=Fr[u],x=m.interleaved,x!==null){m.interleaved=null;var M=x.next,T=m.pending;if(T!==null){var k=T.next;T.next=M,x.next=k}m.pending=x}Fr=null}return l}function kw(l,u){do{var m=xn;try{if(ig(),pf.current=_f,mf){for(var x=cn.memoizedState;x!==null;){var M=x.queue;M!==null&&(M.pending=null),x=x.next}mf=!1}if(Ya=0,Dn=Jn=cn=null,Dc=!1,Nc=0,zg.current=null,m===null||m.return===null){En=1,jc=u,xn=null;break}e:{var T=l,k=m.return,q=m,de=u;if(u=Gn,q.flags|=32768,de!==null&&typeof de=="object"&&typeof de.then=="function"){var Ce=de,Ge=q,at=Ge.tag;if(!(Ge.mode&1)&&(at===0||at===11||at===15)){var tt=Ge.alternate;tt?(Ge.updateQueue=tt.updateQueue,Ge.memoizedState=tt.memoizedState,Ge.lanes=tt.lanes):(Ge.updateQueue=null,Ge.memoizedState=null)}var zt=sw(k);if(zt!==null){zt.flags&=-257,ow(zt,k,q,T,u),zt.mode&1&&rw(T,Ce,u),u=zt,de=Ce;var Qe=u.updateQueue;if(Qe===null){var Kn=new Set;Kn.add(de),u.updateQueue=Kn}else Qe.add(de);break e}else{if(!(u&1)){rw(T,Ce,u),qg();break e}de=Error(o(426))}}else if(qt&&q.mode&1){var Zi=sw(k);if(Zi!==null){!(Zi.flags&65536)&&(Zi.flags|=256),ow(Zi,k,q,T,u),hg(de);break e}}T=de,En!==4&&(En=2),Vc===null?Vc=[T]:Vc.push(T),de=Mg(de,q),q=k;do{switch(q.tag){case 3:q.flags|=65536,u&=-u,q.lanes|=u;var re=nw(q,de,u);M1(q,re);break e;case 1:T=de;var K=q.type,le=q.stateNode;if(!(q.flags&128)&&(typeof K.getDerivedStateFromError=="function"||le!==null&&typeof le.componentDidCatch=="function"&&(Os===null||!Os.has(le)))){q.flags|=65536,u&=-u,q.lanes|=u;var Fe=iw(q,T,u);M1(q,Fe);break e}}q=q.return}while(q!==null)}Gw(m)}catch(qe){u=qe,xn===m&&m!==null&&(xn=m=m.return);continue}break}while(1)}function zw(){var l=Df.current;return Df.current=_f,l===null?_f:l}function qg(){(En===0||En===3||En===2)&&(En=4),yn===null||!(Za&268435455)&&!(Nf&268435455)||Us(yn,Gn)}function Hf(l,u){var m=gt;gt|=2;var x=zw();yn===l&&Gn===u||Uo(l,u);do try{_P();break}catch(M){kw(l,M)}while(1);if(ig(),gt=m,Df.current=x,xn!==null)throw Error(o(261));return yn=null,Gn=0,En}function _P(){for(;xn!==null;)Uw(xn)}function wP(){for(;xn!==null&&!XB();)Uw(xn)}function Uw(l){var u=Vw(l.alternate,l,Pi);l.memoizedProps=l.pendingProps,u===null?Gw(l):xn=u,zg.current=null}function Gw(l){var u=l;do{var m=u.alternate;if(l=u.return,u.flags&32768){if(m=hP(m,u),m!==null){m.flags&=32767,xn=m;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{En=6,xn=null;return}}else if(m=uP(m,u,Pi),m!==null){xn=m;return}if(u=u.sibling,u!==null){xn=u;return}xn=u=l}while(u!==null);En===0&&(En=5)}function Go(l,u){var m=Pt,x=pn.transition;try{pn.transition=null,Pt=1,AP(l,u,m)}finally{pn.transition=x,Pt=m}return null}function AP(l,u,m){do Ho();while(ks!==null);if(gt&6)throw Error(o(327));var x=l.finishedWork,M=l.finishedLanes;if(x===null)return null;if(l.finishedWork=null,l.finishedLanes=0,x===l.current)throw Error(o(177));l.callbackNode=null,l.callbackPriority=0;var T=x.lanes|x.childLanes;if(JB(l,T),l===yn&&(xn=yn=null,Gn=0),!(x.subtreeFlags&2064)&&!(x.flags&2064)||Of||(Of=!0,Ww(eg,function(){return Ho(),null})),T=(x.flags&15990)!==0,x.subtreeFlags&15990||T){T=pn.transition,pn.transition=null;var k=Pt;Pt=1;var q=gt;gt|=4,zg.current=null,mP(l,x),gP(l,x),j(l.containerInfo),l.current=x,vP(x),qB(),gt=q,Pt=k,pn.transition=T}else l.current=x;if(Of&&(Of=!1,ks=l,kf=M),T=l.pendingLanes,T===0&&(Os=null),QB(x.stateNode),yi(l,In()),u!==null)for(m=l.onRecoverableError,x=0;x<u.length;x++)m(u[x]);if(Ff)throw Ff=!1,l=jg,jg=null,l;return kf&1&&l.tag!==0&&Ho(),T=l.pendingLanes,T&1?l===Vg?Wc++:(Wc=0,Vg=l):Wc=0,Nr(),null}function Ho(){if(ks!==null){var l=x1(kf),u=pn.transition,m=Pt;try{if(pn.transition=null,Pt=16>l?16:l,ks===null)var x=!1;else{if(l=ks,ks=null,kf=0,gt&6)throw Error(o(331));var M=gt;for(gt|=4,Ie=l.current;Ie!==null;){var T=Ie,k=T.child;if(Ie.flags&16){var q=T.deletions;if(q!==null){for(var de=0;de<q.length;de++){var Ce=q[de];for(Ie=Ce;Ie!==null;){var Ge=Ie;switch(Ge.tag){case 0:case 11:case 15:zo(8,Ge,T)}var at=Ge.child;if(at!==null)at.return=Ge,Ie=at;else for(;Ie!==null;){Ge=Ie;var tt=Ge.sibling,zt=Ge.return;if(Ew(Ge),Ge===Ce){Ie=null;break}if(tt!==null){tt.return=zt,Ie=tt;break}Ie=zt}}}var Qe=T.alternate;if(Qe!==null){var Kn=Qe.child;if(Kn!==null){Qe.child=null;do{var Zi=Kn.sibling;Kn.sibling=null,Kn=Zi}while(Kn!==null)}}Ie=T}}if(T.subtreeFlags&2064&&k!==null)k.return=T,Ie=k;else e:for(;Ie!==null;){if(T=Ie,T.flags&2048)switch(T.tag){case 0:case 11:case 15:zo(9,T,T.return)}var re=T.sibling;if(re!==null){re.return=T.return,Ie=re;break e}Ie=T.return}}var K=l.current;for(Ie=K;Ie!==null;){k=Ie;var le=k.child;if(k.subtreeFlags&2064&&le!==null)le.return=k,Ie=le;else e:for(k=K;Ie!==null;){if(q=Ie,q.flags&2048)try{switch(q.tag){case 0:case 11:case 15:Gc(9,q)}}catch(qe){xi(q,q.return,qe)}if(q===k){Ie=null;break e}var Fe=q.sibling;if(Fe!==null){Fe.return=q.return,Ie=Fe;break e}Ie=q.return}}if(gt=M,Nr(),Ir&&typeof Ir.onPostCommitFiberRoot=="function")try{Ir.onPostCommitFiberRoot(tf,l)}catch{}x=!0}return x}finally{Pt=m,pn.transition=u}}return!1}function Hw(l,u,m){u=Mg(m,u),u=nw(l,u,1),Fs(l,u),u=oi(),l=Gf(l,1),l!==null&&(Tc(l,1,u),yi(l,u))}function xi(l,u,m){if(l.tag===3)Hw(l,l,m);else for(;u!==null;){if(u.tag===3){Hw(u,l,m);break}else if(u.tag===1){var x=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Os===null||!Os.has(x))){l=Mg(m,l),l=iw(u,l,1),Fs(u,l),l=oi(),u=Gf(u,1),u!==null&&(Tc(u,1,l),yi(u,l));break}}u=u.return}}function SP(l,u,m){var x=l.pingCache;x!==null&&x.delete(u),u=oi(),l.pingedLanes|=l.suspendedLanes&m,yn===l&&(Gn&m)===m&&(En===4||En===3&&(Gn&130023424)===Gn&&500>In()-Gg?Uo(l,0):Ug|=m),yi(l,u)}function jw(l,u){u===0&&(l.mode&1?(u=$d,$d<<=1,!($d&130023424)&&($d=4194304)):u=1);var m=oi();l=Gf(l,u),l!==null&&(Tc(l,u,m),yi(l,m))}function MP(l){var u=l.memoizedState,m=0;u!==null&&(m=u.retryLane),jw(l,m)}function EP(l,u){var m=0;switch(l.tag){case 13:var x=l.stateNode,M=l.memoizedState;M!==null&&(m=M.retryLane);break;case 19:x=l.stateNode;break;default:throw Error(o(314))}x!==null&&x.delete(u),jw(l,m)}var Vw;Vw=function(l,u,m){if(l!==null)if(l.memoizedProps!==u.pendingProps||Ln.current)Bi=!0;else{if(!(l.lanes&m)&&!(u.flags&128))return Bi=!1,fP(l,u,m);Bi=!!(l.flags&131072)}else Bi=!1,qt&&u.flags&1048576&&P1(u,df,u.index);switch(u.lanes=0,u.tag){case 2:var x=u.type;l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2),l=u.pendingProps;var M=is(u,Nt.current);ja(u,m),M=xg(null,u,x,l,M,m);var T=_g();return u.flags|=1,typeof M=="object"&&M!==null&&typeof M.render=="function"&&M.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,gi(x)?(T=!0,Qd(u)):T=!1,u.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,og(u),M.updater=cf,u.stateNode=M,M._reactInternals=u,lg(u,x,l,m),u=bg(null,u,x,!0,T,m)):(u.tag=0,qt&&T&&cg(u),si(null,u,M,m),u=u.child),u;case 16:x=u.elementType;e:{switch(l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2),l=u.pendingProps,M=x._init,x=M(x._payload),u.type=x,M=u.tag=bP(x),l=hr(x,l),M){case 0:u=Cg(null,u,x,l,m);break e;case 1:u=pw(null,u,x,l,m);break e;case 11:u=cw(null,u,x,l,m);break e;case 14:u=uw(null,u,x,hr(x.type,l),m);break e}throw Error(o(306,x,""))}return u;case 0:return x=u.type,M=u.pendingProps,M=u.elementType===x?M:hr(x,M),Cg(l,u,x,M,m);case 1:return x=u.type,M=u.pendingProps,M=u.elementType===x?M:hr(x,M),pw(l,u,x,M,m);case 3:e:{if(mw(u),l===null)throw Error(o(387));x=u.pendingProps,T=u.memoizedState,M=T.element,S1(l,u),lf(u,x,null,m);var k=u.memoizedState;if(x=k.element,ae&&T.isDehydrated)if(T={element:x,isDehydrated:!1,cache:k.cache,transitions:k.transitions},u.updateQueue.baseState=T,u.memoizedState=T,u.flags&256){M=Error(o(423)),u=gw(l,u,x,m,M);break e}else if(x!==M){M=Error(o(424)),u=gw(l,u,x,m,M);break e}else for(ae&&(Ti=ee(u.stateNode.containerInfo),bi=u,qt=!0,pr=null,Bc=!1),m=F1(u,null,x,m),u.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(Ja(),x===M){u=cs(l,u,m);break e}si(l,u,x,m)}u=u.child}return u;case 5:return O1(u),l===null&&fg(u),x=u.type,M=u.pendingProps,T=l!==null?l.memoizedProps:null,k=M.children,ye(x,M)?k=null:T!==null&&ye(x,T)&&(u.flags|=32),hw(l,u),si(l,u,k,m),u.child;case 6:return l===null&&fg(u),null;case 13:return vw(l,u,m);case 4:return pg(u,u.stateNode.containerInfo),x=u.pendingProps,l===null?u.child=Xa(u,null,x,m):si(l,u,x,m),u.child;case 11:return x=u.type,M=u.pendingProps,M=u.elementType===x?M:hr(x,M),cw(l,u,x,M,m);case 7:return si(l,u,u.pendingProps,m),u.child;case 8:return si(l,u,u.pendingProps.children,m),u.child;case 12:return si(l,u,u.pendingProps.children,m),u.child;case 10:e:{if(x=u.type._context,M=u.pendingProps,T=u.memoizedProps,k=M.value,A1(u,x,k),T!==null)if(Dr(T.value,k)){if(T.children===M.children&&!Ln.current){u=cs(l,u,m);break e}}else for(T=u.child,T!==null&&(T.return=u);T!==null;){var q=T.dependencies;if(q!==null){k=T.child;for(var de=q.firstContext;de!==null;){if(de.context===x){if(T.tag===1){de=ss(-1,m&-m),de.tag=2;var Ce=T.updateQueue;if(Ce!==null){Ce=Ce.shared;var Ge=Ce.pending;Ge===null?de.next=de:(de.next=Ge.next,Ge.next=de),Ce.pending=de}}T.lanes|=m,de=T.alternate,de!==null&&(de.lanes|=m),sg(T.return,m,u),q.lanes|=m;break}de=de.next}}else if(T.tag===10)k=T.type===u.type?null:T.child;else if(T.tag===18){if(k=T.return,k===null)throw Error(o(341));k.lanes|=m,q=k.alternate,q!==null&&(q.lanes|=m),sg(k,m,u),k=T.sibling}else k=T.child;if(k!==null)k.return=T;else for(k=T;k!==null;){if(k===u){k=null;break}if(T=k.sibling,T!==null){T.return=k.return,k=T;break}k=k.return}T=k}si(l,u,M.children,m),u=u.child}return u;case 9:return M=u.type,x=u.pendingProps.children,ja(u,m),M=Wi(M),x=x(M),u.flags|=1,si(l,u,x,m),u.child;case 14:return x=u.type,M=hr(x,u.pendingProps),M=hr(x.type,M),uw(l,u,x,M,m);case 15:return dw(l,u,u.type,u.pendingProps,m);case 17:return x=u.type,M=u.pendingProps,M=u.elementType===x?M:hr(x,M),l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2),u.tag=1,gi(x)?(l=!0,Qd(u)):l=!1,ja(u,m),T1(u,x,M),lg(u,x,M,m),bg(null,u,x,!0,l,m);case 19:return ww(l,u,m);case 22:return fw(l,u,m)}throw Error(o(156,u.tag))};function Ww(l,u){return Zm(l,u)}function CP(l,u,m,x){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qi(l,u,m,x){return new CP(l,u,m,x)}function Kg(l){return l=l.prototype,!(!l||!l.isReactComponent)}function bP(l){if(typeof l=="function")return Kg(l)?1:0;if(l!=null){if(l=l.$$typeof,l===v)return 11;if(l===A)return 14}return 2}function Gs(l,u){var m=l.alternate;return m===null?(m=Qi(l.tag,u,l.key,l.mode),m.elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=u,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=l.flags&14680064,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,u=l.dependencies,m.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m}function jf(l,u,m,x,M,T){var k=2;if(x=l,typeof l=="function")Kg(l)&&(k=1);else if(typeof l=="string")k=5;else e:switch(l){case f:return jo(m.children,M,T,u);case h:k=8,M|=8;break;case p:return l=Qi(12,m,u,M|2),l.elementType=p,l.lanes=T,l;case _:return l=Qi(13,m,u,M),l.elementType=_,l.lanes=T,l;case w:return l=Qi(19,m,u,M),l.elementType=w,l.lanes=T,l;case E:return Vf(m,M,T,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case g:k=10;break e;case y:k=9;break e;case v:k=11;break e;case A:k=14;break e;case S:k=16,x=null;break e}throw Error(o(130,l==null?l:typeof l,""))}return u=Qi(k,m,u,M),u.elementType=l,u.type=x,u.lanes=T,u}function jo(l,u,m,x){return l=Qi(7,l,x,u),l.lanes=m,l}function Vf(l,u,m,x){return l=Qi(22,l,x,u),l.elementType=E,l.lanes=m,l.stateNode={},l}function Yg(l,u,m){return l=Qi(6,l,null,u),l.lanes=m,l}function Qg(l,u,m){return u=Qi(4,l.children!==null?l.children:[],l.key,u),u.lanes=m,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function TP(l,u,m,x,M){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=He,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ym(0),this.expirationTimes=Ym(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ym(0),this.identifierPrefix=x,this.onRecoverableError=M,ae&&(this.mutableSourceEagerHydrationData=null)}function Jw(l,u,m,x,M,T,k,q,de){return l=new TP(l,u,m,q,de),u===1?(u=1,T===!0&&(u|=8)):u=0,T=Qi(3,null,null,u),l.current=T,T.stateNode=l,T.memoizedState={element:x,isDehydrated:m,cache:null,transitions:null},og(T),l}function Xw(l){if(!l)return Vi;l=l._reactInternals;e:{if(R(l)!==l||l.tag!==1)throw Error(o(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(gi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(o(171))}if(l.tag===1){var m=l.type;if(gi(m))return v1(l,m,u)}return u}function qw(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(o(188)):(l=Object.keys(l).join(","),Error(o(268,l)));return l=Z(u),l===null?null:l.stateNode}function Kw(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<u?m:u}}function Zg(l,u){Kw(l,u),(l=l.alternate)&&Kw(l,u)}function BP(l){return l=Z(l),l===null?null:l.stateNode}function PP(){return null}return t.attemptContinuousHydration=function(l){if(l.tag===13){var u=oi();Yi(l,134217728,u),Zg(l,134217728)}},t.attemptHydrationAtCurrentPriority=function(l){if(l.tag===13){var u=oi(),m=zs(l);Yi(l,m,u),Zg(l,m)}},t.attemptSynchronousHydration=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var m=bc(u.pendingLanes);m!==0&&(Qm(u,m|1),yi(u,In()),!(gt&6)&&($a(),Nr()))}break;case 13:var x=oi();Ow(function(){return Yi(l,1,x)}),Zg(l,1)}},t.batchedUpdates=function(l,u){var m=gt;gt|=1;try{return l(u)}finally{gt=m,gt===0&&($a(),nf&&Nr())}},t.createComponentSelector=function(l){return{$$typeof:Bf,value:l}},t.createContainer=function(l,u,m,x,M,T,k){return Jw(l,u,!1,null,m,x,M,T,k)},t.createHasPseudoClassSelector=function(l){return{$$typeof:Pf,value:l}},t.createHydrationContainer=function(l,u,m,x,M,T,k,q,de){return l=Jw(m,x,!0,l,M,T,k,q,de),l.context=Xw(null),m=l.current,x=oi(),M=zs(m),T=ss(x,M),T.callback=u??null,Fs(m,T),l.current.lanes=M,Tc(l,M,x),yi(l,x),l},t.createPortal=function(l,u,m){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:x==null?null:""+x,children:l,containerInfo:u,implementation:m}},t.createRoleSelector=function(l){return{$$typeof:Rf,value:l}},t.createTestNameSelector=function(l){return{$$typeof:Lf,value:l}},t.createTextSelector=function(l){return{$$typeof:If,value:l}},t.deferredUpdates=function(l){var u=Pt,m=pn.transition;try{return pn.transition=null,Pt=16,l()}finally{Pt=u,pn.transition=m}},t.discreteUpdates=function(l,u,m,x,M){var T=Pt,k=pn.transition;try{return pn.transition=null,Pt=1,l(u,m,x,M)}finally{Pt=T,pn.transition=k,gt===0&&$a()}},t.findAllNodes=kg,t.findBoundingRects=function(l,u){if(!vt)throw Error(o(363));u=kg(l,u),l=[];for(var m=0;m<u.length;m++)l.push(z(u[m]));for(u=l.length-1;0<u;u--){m=l[u];for(var x=m.x,M=x+m.width,T=m.y,k=T+m.height,q=u-1;0<=q;q--)if(u!==q){var de=l[q],Ce=de.x,Ge=Ce+de.width,at=de.y,tt=at+de.height;if(x>=Ce&&T>=at&&M<=Ge&&k<=tt){l.splice(u,1);break}else if(x!==Ce||m.width!==de.width||tt<T||at>k){if(!(T!==at||m.height!==de.height||Ge<x||Ce>M)){Ce>x&&(de.width+=Ce-x,de.x=x),Ge<M&&(de.width=M-Ce),l.splice(u,1);break}}else{at>T&&(de.height+=at-T,de.y=T),tt<k&&(de.height=k-at),l.splice(u,1);break}}}return l},t.findHostInstance=qw,t.findHostInstanceWithNoPortals=function(l){return l=U(l),l=l!==null?J(l):null,l===null?null:l.stateNode},t.findHostInstanceWithWarning=function(l){return qw(l)},t.flushControlled=function(l){var u=gt;gt|=1;var m=pn.transition,x=Pt;try{pn.transition=null,Pt=1,l()}finally{Pt=x,pn.transition=m,gt=u,gt===0&&($a(),Nr())}},t.flushPassiveEffects=Ho,t.flushSync=Ow,t.focusWithin=function(l,u){if(!vt)throw Error(o(363));for(l=Ng(l),u=Dw(l,u),u=Array.from(u),l=0;l<u.length;){var m=u[l++];if(!oe(m)){if(m.tag===5&&Ee(m.stateNode))return!0;for(m=m.child;m!==null;)u.push(m),m=m.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Pt},t.getFindAllNodesFailureDescription=function(l,u){if(!vt)throw Error(o(363));var m=0,x=[];l=[Ng(l),0];for(var M=0;M<l.length;){var T=l[M++],k=l[M++],q=u[k];if((T.tag!==5||!oe(T))&&(Fg(T,q)&&(x.push(Og(q)),k++,k>m&&(m=k)),k<u.length))for(T=T.child;T!==null;)l.push(T,k),T=T.sibling}if(m<u.length){for(l=[];m<u.length;m++)l.push(Og(u[m]));return`findAllNodes was able to match part of the selector:
  `+(x.join(" > ")+`

No matching component was found for:
  `)+l.join(" > ")}return null},t.getPublicRootInstance=function(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return ce(l.child.stateNode);default:return l.child.stateNode}},t.injectIntoDevTools=function(l){if(l={bundleType:l.bundleType,version:l.version,rendererPackageName:l.rendererPackageName,rendererConfig:l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:BP,findFiberByHostInstance:l.findFiberByHostInstance||PP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")l=!1;else{var u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(u.isDisabled||!u.supportsFiber)l=!0;else{try{tf=u.inject(l),Ir=u}catch{}l=!!u.checkDCE}}return l},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(l,u,m,x){if(!vt)throw Error(o(363));l=kg(l,u);var M=be(l,m,x).disconnect;return{disconnect:function(){M()}}},t.registerMutableSourceForHydration=function(l,u){var m=u._getVersion;m=m(u._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[u,m]:l.mutableSourceEagerHydrationData.push(u,m)},t.runWithPriority=function(l,u){var m=Pt;try{return Pt=l,u()}finally{Pt=m}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(l,u,m,x){var M=u.current,T=oi(),k=zs(M);return m=Xw(m),u.context===null?u.context=m:u.pendingContext=m,u=ss(T,k),u.payload={element:l},x=x===void 0?null:x,x!==null&&(u.callback=x),Fs(M,u),l=Yi(M,k,T),l!==null&&af(l,M,k),k},t};X2.exports=s4;var o4=X2.exports;const a4=px(o4);var q2={exports:{}},K2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(I,G){var j=I.length;I.push(G);e:for(;0<j;){var ne=j-1>>>1,H=I[ne];if(0<r(H,G))I[ne]=G,I[j]=H,j=ne;else break e}}function t(I){return I.length===0?null:I[0]}function i(I){if(I.length===0)return null;var G=I[0],j=I.pop();if(j!==G){I[0]=j;e:for(var ne=0,H=I.length,te=H>>>1;ne<te;){var ge=2*(ne+1)-1,ye=I[ge],Q=ge+1,Pe=I[Q];if(0>r(ye,j))Q<H&&0>r(Pe,ye)?(I[ne]=Pe,I[Q]=j,ne=Q):(I[ne]=ye,I[ge]=j,ne=ge);else if(Q<H&&0>r(Pe,j))I[ne]=Pe,I[Q]=j,ne=Q;else break e}}return G}function r(I,G){var j=I.sortIndex-G.sortIndex;return j!==0?j:I.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var c=[],d=[],f=1,h=null,p=3,g=!1,y=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(I){for(var G=t(d);G!==null;){if(G.callback===null)i(d);else if(G.startTime<=I)i(d),G.sortIndex=G.expirationTime,e(c,G);else break;G=t(d)}}function E(I){if(v=!1,S(I),!y)if(t(c)!==null)y=!0,ce(C);else{var G=t(d);G!==null&&ue(E,G.startTime-I)}}function C(I,G){y=!1,v&&(v=!1,w(b),b=-1),g=!0;var j=p;try{for(S(G),h=t(c);h!==null&&(!(h.expirationTime>G)||I&&!U());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,p=h.priorityLevel;var H=ne(h.expirationTime<=G);G=n.unstable_now(),typeof H=="function"?h.callback=H:h===t(c)&&i(c),S(G)}else i(c);h=t(c)}if(h!==null)var te=!0;else{var ge=t(d);ge!==null&&ue(E,ge.startTime-G),te=!1}return te}finally{h=null,p=j,g=!1}}var B=!1,L=null,b=-1,R=5,D=-1;function U(){return!(n.unstable_now()-D<R)}function Z(){if(L!==null){var I=n.unstable_now();D=I;var G=!0;try{G=L(!0,I)}finally{G?W():(B=!1,L=null)}}else B=!1}var W;if(typeof A=="function")W=function(){A(Z)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,$=J.port2;J.port1.onmessage=Z,W=function(){$.postMessage(null)}}else W=function(){_(Z,0)};function ce(I){L=I,B||(B=!0,W())}function ue(I,G){b=_(function(){I(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(I){I.callback=null},n.unstable_continueExecution=function(){y||g||(y=!0,ce(C))},n.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<I?Math.floor(1e3/I):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(I){switch(p){case 1:case 2:case 3:var G=3;break;default:G=p}var j=p;p=G;try{return I()}finally{p=j}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(I,G){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var j=p;p=I;try{return G()}finally{p=j}},n.unstable_scheduleCallback=function(I,G,j){var ne=n.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?ne+j:ne):j=ne,I){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=j+H,I={id:f++,callback:G,priorityLevel:I,startTime:j,expirationTime:H,sortIndex:-1},j>ne?(I.sortIndex=j,e(d,I),t(c)===null&&I===t(d)&&(v?(w(b),b=-1):v=!0,ue(E,j-ne))):(I.sortIndex=H,e(c,I),y||g||(y=!0,ce(C))),I},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(I){var G=p;return function(){var j=p;p=G;try{return I.apply(this,arguments)}finally{p=j}}}})(K2);q2.exports=K2;var NM=q2.exports;const l4=n=>typeof n=="object"&&typeof n.then=="function",ma=[];function Y2(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}function Q2(n,e=null,t=!1,i={}){e===null&&(e=[n]);for(const s of ma)if(Y2(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return i.lifespan&&i.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,i.lifespan)),s.response;if(!t)throw s.promise}const r={keys:e,equal:i.equal,remove:()=>{const s=ma.indexOf(r);s!==-1&&ma.splice(s,1)},promise:(l4(n)?n:n(...e)).then(s=>{r.response=s,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(s=>r.error=s)};if(ma.push(r),!t)throw r.promise}const c4=(n,e,t)=>Q2(n,e,!1,t),u4=(n,e,t)=>void Q2(n,e,!0,t),d4=n=>{if(n===void 0||n.length===0)ma.splice(0,ma.length);else{const e=ma.find(t=>Y2(n,t.keys,t.equal));e&&e.remove()}},i1={},f4=n=>void Object.assign(i1,n);function h4(n,e){function t(f,{args:h=[],attach:p,...g},y){let v=`${f[0].toUpperCase()}${f.slice(1)}`,_;if(f==="primitive"){if(g.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const w=g.object;_=wl(w,{type:f,root:y,attach:p,primitive:!0})}else{const w=i1[v];if(!w)throw new Error(`R3F: ${v} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(h))throw new Error("R3F: The args prop must be an array!");_=wl(new w(...h),{type:f,root:y,attach:p,memoizedProps:{args:h}})}return _.__r3f.attach===void 0&&(_ instanceof ct?_.__r3f.attach="geometry":_ instanceof Sn&&(_.__r3f.attach="material")),v!=="inject"&&uv(_,g),_}function i(f,h){let p=!1;if(h){var g,y;(g=h.__r3f)!=null&&g.attach?cv(f,h,h.__r3f.attach):h.isObject3D&&f.isObject3D&&(f.add(h),p=!0),p||(y=f.__r3f)==null||y.objects.push(h),h.__r3f||wl(h,{}),h.__r3f.parent=f,ax(h),Al(h)}}function r(f,h,p){let g=!1;if(h){var y,v;if((y=h.__r3f)!=null&&y.attach)cv(f,h,h.__r3f.attach);else if(h.isObject3D&&f.isObject3D){h.parent=f,h.dispatchEvent({type:"added"});const _=f.children.filter(A=>A!==h),w=_.indexOf(p);f.children=[..._.slice(0,w),h,..._.slice(w)],g=!0}g||(v=f.__r3f)==null||v.objects.push(h),h.__r3f||wl(h,{}),h.__r3f.parent=f,ax(h),Al(h)}}function s(f,h,p=!1){f&&[...f].forEach(g=>o(h,g,p))}function o(f,h,p){if(h){var g,y,v;if(h.__r3f&&(h.__r3f.parent=null),(g=f.__r3f)!=null&&g.objects&&(f.__r3f.objects=f.__r3f.objects.filter(E=>E!==h)),(y=h.__r3f)!=null&&y.attach)UM(f,h,h.__r3f.attach);else if(h.isObject3D&&f.isObject3D){var _;f.remove(h),(_=h.__r3f)!=null&&_.root&&A4(h.__r3f.root,h)}const A=(v=h.__r3f)==null?void 0:v.primitive,S=p===void 0?h.dispose!==null&&!A:p;if(!A){var w;s((w=h.__r3f)==null?void 0:w.objects,h,S),s(h.children,h,S)}delete h.__r3f,S&&h.dispose&&h.type!=="Scene"&&NM.unstable_scheduleCallback(NM.unstable_IdlePriority,()=>{try{h.dispose()}catch{}}),Al(f)}}function a(f,h,p,g){var y;const v=(y=f.__r3f)==null?void 0:y.parent;if(!v)return;const _=t(h,p,f.__r3f.root);if(f.children){for(const w of f.children)w.__r3f&&i(_,w);f.children=f.children.filter(w=>!w.__r3f)}f.__r3f.objects.forEach(w=>i(_,w)),f.__r3f.objects=[],f.__r3f.autoRemovedBeforeAppend||o(v,f),_.parent&&(_.__r3f.autoRemovedBeforeAppend=!0),i(v,_),_.raycast&&_.__r3f.eventCount&&_.__r3f.root.getState().internal.interaction.push(_),[g,g.alternate].forEach(w=>{w!==null&&(w.stateNode=_,w.ref&&(typeof w.ref=="function"?w.ref(_):w.ref.current=_))})}const c=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:a4({createInstance:t,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(f,h)=>{if(!h)return;const p=f.getState().scene;p.__r3f&&(p.__r3f.root=f,i(p,h))},removeChildFromContainer:(f,h)=>{h&&o(f.getState().scene,h)},insertInContainerBefore:(f,h,p)=>{if(!h||!p)return;const g=f.getState().scene;g.__r3f&&r(g,h,p)},getRootHostContext:()=>null,getChildHostContext:f=>f,finalizeInitialChildren(f){var h;return!!((h=f==null?void 0:f.__r3f)!=null?h:{}).handlers},prepareUpdate(f,h,p,g){var y;if(((y=f==null?void 0:f.__r3f)!=null?y:{}).primitive&&g.object&&g.object!==f)return[!0];{const{args:_=[],children:w,...A}=g,{args:S=[],children:E,...C}=p;if(!Array.isArray(_))throw new Error("R3F: the args prop must be an array!");if(_.some((L,b)=>L!==S[b]))return[!0];const B=rB(f,A,C,!0);return B.changes.length?[!1,B]:null}},commitUpdate(f,[h,p],g,y,v,_){h?a(f,g,v,_):uv(f,p)},commitMount(f,h,p,g){var y;const v=(y=f.__r3f)!=null?y:{};f.raycast&&v.handlers&&v.eventCount&&f.__r3f.root.getState().internal.interaction.push(f)},getPublicInstance:f=>f,prepareForCommit:()=>null,preparePortalMount:f=>wl(f.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(f){var h;const{attach:p,parent:g}=(h=f.__r3f)!=null?h:{};p&&g&&UM(g,f,p),f.isObject3D&&(f.visible=!1),Al(f)},unhideInstance(f,h){var p;const{attach:g,parent:y}=(p=f.__r3f)!=null?p:{};g&&y&&cv(y,f,g),(f.isObject3D&&h.visible==null||h.visible)&&(f.visible=!0),Al(f)},createTextInstance:c,hideTextInstance:c,unhideTextInstance:c,getCurrentEventPriority:()=>e?e():zl.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Vt.fun(performance.now)?performance.now:Vt.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Vt.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Vt.fun(clearTimeout)?clearTimeout:void 0}),applyProps:uv}}var FM,OM;const lv=n=>"colorSpace"in n||"outputColorSpace"in n,Z2=()=>{var n;return(n=i1.ColorManagement)!=null?n:null},$2=n=>n&&n.isOrthographicCamera,p4=n=>n&&n.hasOwnProperty("current"),kd=typeof window<"u"&&((FM=window.document)!=null&&FM.createElement||((OM=window.navigator)==null?void 0:OM.product)==="ReactNative")?Y.useLayoutEffect:Y.useEffect;function eB(n){const e=Y.useRef(n);return kd(()=>void(e.current=n),[n]),e}function m4({set:n}){return kd(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class tB extends Y.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}tB.getDerivedStateFromError=()=>({error:!0});const nB="__default",kM=new Map,g4=n=>n&&!!n.memoized&&!!n.changes;function iB(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const fu=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},Vt={obj:n=>n===Object(n)&&!Vt.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Vt.str(n)||Vt.num(n))return n===e;const s=Vt.obj(n);if(s&&i==="reference")return n===e;const o=Vt.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(a in r?e:n)if(!Vt.equ(n[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:n)if(n[a]!==e[a])return!1;if(Vt.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function v4(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function y4(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function wl(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function ox(n,e){let t=n;if(e.includes("-")){const i=e.split("-"),r=i.pop();return t=i.reduce((s,o)=>s[o],n),{target:t,key:r}}else return{target:t,key:e}}const zM=/-\d+$/;function cv(n,e,t){if(Vt.str(t)){if(zM.test(t)){const s=t.replace(zM,""),{target:o,key:a}=ox(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:i,key:r}=ox(n,t);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=t(n,e)}function UM(n,e,t){var i,r;if(Vt.str(t)){const{target:s,key:o}=ox(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(n,e);(r=e.__r3f)==null||delete r.previousAttach}function rB(n,{children:e,key:t,ref:i,...r},{children:s,key:o,ref:a,...c}={},d=!1){var f;const h=(f=n==null?void 0:n.__r3f)!=null?f:{},p=Object.entries(r),g=[];if(d){const v=Object.keys(c);for(let _=0;_<v.length;_++)r.hasOwnProperty(v[_])||p.unshift([v[_],nB+"remove"])}p.forEach(([v,_])=>{var w;if((w=n.__r3f)!=null&&w.primitive&&v==="object"||Vt.equ(_,c[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return g.push([v,_,!0,[]]);let A=[];v.includes("-")&&(A=v.split("-")),g.push([v,_,!1,A]);for(const S in r){const E=r[S];S.startsWith(`${v}-`)&&g.push([S,E,!1,S.split("-")])}});const y={...r};return h.memoizedProps&&h.memoizedProps.args&&(y.args=h.memoizedProps.args),h.memoizedProps&&h.memoizedProps.attach&&(y.attach=h.memoizedProps.attach),{memoized:y,changes:g}}const x4=typeof process<"u"&&!1;function uv(n,e){var t,i,r;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(i=o==null||o.getState==null?void 0:o.getState())!=null?i:{},{memoized:c,changes:d}=g4(e)?e:rB(n,e),f=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=c);for(let p=0;p<d.length;p++){let[g,y,v,_]=d[p];if(lv(n)){const E="srgb",C="srgb-linear";g==="encoding"?(g="colorSpace",y=y===3001?E:C):g==="outputEncoding"&&(g="outputColorSpace",y=y===3001?E:C)}let w=n,A=w[g];if(_.length&&(A=_.reduce((S,E)=>S[E],n),!(A&&A.set))){const[S,...E]=_.reverse();w=E.reverse().reduce((C,B)=>C[B],n),g=S}if(y===nB+"remove")if(w.constructor){let S=kM.get(w.constructor);S||(S=new w.constructor,kM.set(w.constructor,S)),y=S[g]}else y=0;if(v)y?s.handlers[g]=y:delete s.handlers[g],s.eventCount=Object.keys(s.handlers).length;else if(A&&A.set&&(A.copy||A instanceof Aa)){if(Array.isArray(y))A.fromArray?A.fromArray(y):A.set(...y);else if(A.copy&&y&&y.constructor&&(x4?A.constructor.name===y.constructor.name:A.constructor===y.constructor))A.copy(y);else if(y!==void 0){const S=A instanceof De;!S&&A.setScalar?A.setScalar(y):A instanceof Aa&&y instanceof Aa?A.mask=y.mask:A.set(y),!Z2()&&!a.linear&&S&&A.convertSRGBToLinear()}}else if(w[g]=y,w[g]instanceof Qt&&w[g].format===wi&&w[g].type===Rs){const S=w[g];lv(S)&&lv(a.gl)?S.colorSpace=a.gl.outputColorSpace:S.encoding=a.gl.outputEncoding}Al(n)}if(s.parent&&a.internal&&n.raycast&&f!==s.eventCount){const p=a.internal.interaction.indexOf(n);p>-1&&a.internal.interaction.splice(p,1),s.eventCount&&a.internal.interaction.push(n)}return!(d.length===1&&d[0][0]==="onUpdate")&&d.length&&(r=n.__r3f)!=null&&r.parent&&ax(n),n}function Al(n){var e,t;const i=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();i&&i.internal.frames===0&&i.invalidate()}function ax(n){n.onUpdate==null||n.onUpdate(n)}function _4(n,e){n.manual||($2(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function Kh(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function w4(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return zl.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return zl.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return zl.ContinuousEventPriority;default:return zl.DefaultEventPriority}}function sB(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function A4(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{sB(t.capturedMap,e,i,r)})}function S4(n){function e(c){const{internal:d}=n.getState(),f=c.offsetX-d.initialClick[0],h=c.offsetY-d.initialClick[1];return Math.round(Math.sqrt(f*f+h*h))}function t(c){return c.filter(d=>["Move","Over","Enter","Out","Leave"].some(f=>{var h;return(h=d.__r3f)==null?void 0:h.handlers["onPointer"+f]}))}function i(c,d){const f=n.getState(),h=new Set,p=[],g=d?d(f.internal.interaction):f.internal.interaction;for(let w=0;w<g.length;w++){const A=fu(g[w]);A&&(A.raycaster.camera=void 0)}f.previousRoot||f.events.compute==null||f.events.compute(c,f);function y(w){const A=fu(w);if(!A||!A.events.enabled||A.raycaster.camera===null)return[];if(A.raycaster.camera===void 0){var S;A.events.compute==null||A.events.compute(c,A,(S=A.previousRoot)==null?void 0:S.getState()),A.raycaster.camera===void 0&&(A.raycaster.camera=null)}return A.raycaster.camera?A.raycaster.intersectObject(w,!0):[]}let v=g.flatMap(y).sort((w,A)=>{const S=fu(w.object),E=fu(A.object);return!S||!E?w.distance-A.distance:E.events.priority-S.events.priority||w.distance-A.distance}).filter(w=>{const A=Kh(w);return h.has(A)?!1:(h.add(A),!0)});f.events.filter&&(v=f.events.filter(v,f));for(const w of v){let A=w.object;for(;A;){var _;(_=A.__r3f)!=null&&_.eventCount&&p.push({...w,eventObject:A}),A=A.parent}}if("pointerId"in c&&f.internal.capturedMap.has(c.pointerId))for(let w of f.internal.capturedMap.get(c.pointerId).values())h.has(Kh(w.intersection))||p.push(w.intersection);return p}function r(c,d,f,h){const p=n.getState();if(c.length){const g={stopped:!1};for(const y of c){const v=fu(y.object)||p,{raycaster:_,pointer:w,camera:A,internal:S}=v,E=new F(w.x,w.y,0).unproject(A),C=D=>{var U,Z;return(U=(Z=S.capturedMap.get(D))==null?void 0:Z.has(y.eventObject))!=null?U:!1},B=D=>{const U={intersection:y,target:d.target};S.capturedMap.has(D)?S.capturedMap.get(D).set(y.eventObject,U):S.capturedMap.set(D,new Map([[y.eventObject,U]])),d.target.setPointerCapture(D)},L=D=>{const U=S.capturedMap.get(D);U&&sB(S.capturedMap,y.eventObject,U,D)};let b={};for(let D in d){let U=d[D];typeof U!="function"&&(b[D]=U)}let R={...y,...b,pointer:w,intersections:c,stopped:g.stopped,delta:f,unprojectedPoint:E,ray:_.ray,camera:A,stopPropagation(){const D="pointerId"in d&&S.capturedMap.get(d.pointerId);if((!D||D.has(y.eventObject))&&(R.stopped=g.stopped=!0,S.hovered.size&&Array.from(S.hovered.values()).find(U=>U.eventObject===y.eventObject))){const U=c.slice(0,c.indexOf(y));s([...U,y])}},target:{hasPointerCapture:C,setPointerCapture:B,releasePointerCapture:L},currentTarget:{hasPointerCapture:C,setPointerCapture:B,releasePointerCapture:L},nativeEvent:d};if(h(R),g.stopped===!0)break}}return c}function s(c){const{internal:d}=n.getState();for(const f of d.hovered.values())if(!c.length||!c.find(h=>h.object===f.object&&h.index===f.index&&h.instanceId===f.instanceId)){const p=f.eventObject.__r3f,g=p==null?void 0:p.handlers;if(d.hovered.delete(Kh(f)),p!=null&&p.eventCount){const y={...f,intersections:c};g.onPointerOut==null||g.onPointerOut(y),g.onPointerLeave==null||g.onPointerLeave(y)}}}function o(c,d){for(let f=0;f<d.length;f++){const h=d[f].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(c)}}function a(c){switch(c){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return d=>{const{internal:f}=n.getState();"pointerId"in d&&f.capturedMap.has(d.pointerId)&&requestAnimationFrame(()=>{f.capturedMap.has(d.pointerId)&&(f.capturedMap.delete(d.pointerId),s([]))})}}return function(f){const{onPointerMissed:h,internal:p}=n.getState();p.lastEvent.current=f;const g=c==="onPointerMove",y=c==="onClick"||c==="onContextMenu"||c==="onDoubleClick",_=i(f,g?t:void 0),w=y?e(f):0;c==="onPointerDown"&&(p.initialClick=[f.offsetX,f.offsetY],p.initialHits=_.map(S=>S.eventObject)),y&&!_.length&&w<=2&&(o(f,p.interaction),h&&h(f)),g&&s(_);function A(S){const E=S.eventObject,C=E.__r3f,B=C==null?void 0:C.handlers;if(C!=null&&C.eventCount)if(g){if(B.onPointerOver||B.onPointerEnter||B.onPointerOut||B.onPointerLeave){const L=Kh(S),b=p.hovered.get(L);b?b.stopped&&S.stopPropagation():(p.hovered.set(L,S),B.onPointerOver==null||B.onPointerOver(S),B.onPointerEnter==null||B.onPointerEnter(S))}B.onPointerMove==null||B.onPointerMove(S)}else{const L=B[c];L?(!y||p.initialHits.includes(E))&&(o(f,p.interaction.filter(b=>!p.initialHits.includes(b))),L(S)):y&&p.initialHits.includes(E)&&o(f,p.interaction.filter(b=>!p.initialHits.includes(b)))}}r(_,f,w,A)}}return{handlePointer:a}}const oB=n=>!!(n!=null&&n.render),aB=Y.createContext(null),M4=(n,e)=>{const t=J2((a,c)=>{const d=new F,f=new F,h=new F;function p(w=c().camera,A=f,S=c().size){const{width:E,height:C,top:B,left:L}=S,b=E/C;A instanceof F?h.copy(A):h.set(...A);const R=w.getWorldPosition(d).distanceTo(h);if($2(w))return{width:E/w.zoom,height:C/w.zoom,top:B,left:L,factor:1,distance:R,aspect:b};{const D=w.fov*Math.PI/180,U=2*Math.tan(D/2)*R,Z=U*(E/C);return{width:Z,height:U,top:B,left:L,factor:E/Z,distance:R,aspect:b}}}let g;const y=w=>a(A=>({performance:{...A.performance,current:w}})),v=new pe;return{set:a,get:c,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(w=1)=>n(c(),w),advance:(w,A)=>e(w,A,c()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new $_,pointer:v,mouse:v,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const w=c();g&&clearTimeout(g),w.performance.current!==w.performance.min&&y(w.performance.min),g=setTimeout(()=>y(c().performance.max),w.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:w=>a(A=>({...A,events:{...A.events,...w}})),setSize:(w,A,S,E,C)=>{const B=c().camera,L={width:w,height:A,top:E||0,left:C||0,updateStyle:S};a(b=>({size:L,viewport:{...b.viewport,...p(B,f,L)}}))},setDpr:w=>a(A=>{const S=iB(w);return{viewport:{...A.viewport,dpr:S,initialDpr:A.viewport.initialDpr||S}}}),setFrameloop:(w="always")=>{const A=c().clock;A.stop(),A.elapsedTime=0,w!=="never"&&(A.start(),A.elapsedTime=0),a(()=>({frameloop:w}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:Y.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(w,A,S)=>{const E=c().internal;return E.priority=E.priority+(A>0?1:0),E.subscribers.push({ref:w,priority:A,store:S}),E.subscribers=E.subscribers.sort((C,B)=>C.priority-B.priority),()=>{const C=c().internal;C!=null&&C.subscribers&&(C.priority=C.priority-(A>0?1:0),C.subscribers=C.subscribers.filter(B=>B.ref!==w))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:a,size:c,viewport:d,gl:f,set:h}=t.getState();if(c.width!==r.width||c.height!==r.height||d.dpr!==s){var p;r=c,s=d.dpr,_4(a,c),f.setPixelRatio(d.dpr);const g=(p=c.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&f.domElement instanceof HTMLCanvasElement;f.setSize(c.width,c.height,g)}a!==o&&(o=a,h(g=>({viewport:{...g.viewport,...g.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let Yh,E4=new Set,C4=new Set,b4=new Set;function dv(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function hu(n,e){switch(n){case"before":return dv(E4,e);case"after":return dv(C4,e);case"tail":return dv(b4,e)}}let fv,hv;function pv(n,e,t){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),fv=e.internal.subscribers,Yh=0;Yh<fv.length;Yh++)hv=fv[Yh],hv.ref.current(hv.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function T4(n){let e=!1,t,i,r;function s(c){i=requestAnimationFrame(s),e=!0,t=0,hu("before",c);for(const f of n.values()){var d;r=f.store.getState(),r.internal.active&&(r.frameloop==="always"||r.internal.frames>0)&&!((d=r.gl.xr)!=null&&d.isPresenting)&&(t+=pv(c,r))}if(hu("after",c),t===0)return hu("tail",c),e=!1,cancelAnimationFrame(i)}function o(c,d=1){var f;if(!c)return n.forEach(h=>o(h.store.getState()),d);(f=c.gl.xr)!=null&&f.isPresenting||!c.internal.active||c.frameloop==="never"||(c.internal.frames=Math.min(60,c.internal.frames+d),e||(e=!0,requestAnimationFrame(s)))}function a(c,d=!0,f,h){if(d&&hu("before",c),f)pv(c,f,h);else for(const p of n.values())pv(c,p.store.getState());d&&hu("after",c)}return{loop:s,invalidate:o,advance:a}}function lB(){const n=Y.useContext(aB);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function nr(n=t=>t,e){return lB()(n,e)}function r1(n,e=0){const t=lB(),i=t.getState().internal.subscribe,r=eB(n);return kd(()=>i(r,e,t),[e,i,t]),null}const GM=new WeakMap;function cB(n,e){return function(t,...i){let r=GM.get(t);return r||(r=new t,GM.set(t,r)),n&&n(r),Promise.all(i.map(s=>new Promise((o,a)=>r.load(s,c=>{c.scene&&Object.assign(c,v4(c.scene)),o(c)},e,c=>a(new Error(`Could not load ${s}: ${c==null?void 0:c.message}`)))))).finally(()=>r.dispose==null?void 0:r.dispose())}}function zd(n,e,t,i){const r=Array.isArray(e)?e:[e],s=c4(cB(t,i),[n,...r],{equal:Vt.equ});return Array.isArray(e)?s:s[0]}zd.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return u4(cB(t),[n,...i])};zd.clear=function(n,e){const t=Array.isArray(e)?e:[e];return d4([n,...t])};const dc=new Map,{invalidate:HM,advance:jM}=T4(dc),{reconciler:sm,applyProps:xl}=h4(dc,w4),_l={objects:"shallow",strict:!1},B4=(n,e)=>{const t=typeof n=="function"?n(e):n;return oB(t)?t:new P_({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function P4(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:i,height:r,top:s,left:o,updateStyle:a=t}=e;return{width:i,height:r,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:i,height:r,top:s,left:o}=n.parentElement.getBoundingClientRect();return{width:i,height:r,top:s,left:o,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function R4(n){const e=dc.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||M4(HM,jM),o=t||sm.createContainer(s,zl.ConcurrentRoot,null,!1,null,"",r,null);e||dc.set(n,{fiber:o,store:s});let a,c=!1,d;return{configure(f={}){let{gl:h,size:p,scene:g,events:y,onCreated:v,shadows:_=!1,linear:w=!1,flat:A=!1,legacy:S=!1,orthographic:E=!1,frameloop:C="always",dpr:B=[1,2],performance:L,raycaster:b,camera:R,onPointerMissed:D}=f,U=s.getState(),Z=U.gl;U.gl||U.set({gl:Z=B4(h,n)});let W=U.raycaster;W||U.set({raycaster:W=new j2});const{params:J,...$}=b||{};if(Vt.equ($,W,_l)||xl(W,{...$}),Vt.equ(J,W.params,_l)||xl(W,{params:{...W.params,...J}}),!U.camera||U.camera===d&&!Vt.equ(d,R,_l)){d=R;const H=R instanceof wd,te=H?R:E?new ar(0,0,0,0,.1,1e3):new Wt(75,0,.1,1e3);H||(te.position.z=5,R&&xl(te,R),!U.camera&&!(R!=null&&R.rotation)&&te.lookAt(0,0,0)),U.set({camera:te}),W.camera=te}if(!U.scene){let H;g instanceof rm?H=g:(H=new rm,g&&xl(H,g)),U.set({scene:wl(H)})}if(!U.xr){var ce;const H=(ye,Q)=>{const Pe=s.getState();Pe.frameloop!=="never"&&jM(ye,!0,Pe,Q)},te=()=>{const ye=s.getState();ye.gl.xr.enabled=ye.gl.xr.isPresenting,ye.gl.xr.setAnimationLoop(ye.gl.xr.isPresenting?H:null),ye.gl.xr.isPresenting||HM(ye)},ge={connect(){const ye=s.getState().gl;ye.xr.addEventListener("sessionstart",te),ye.xr.addEventListener("sessionend",te)},disconnect(){const ye=s.getState().gl;ye.xr.removeEventListener("sessionstart",te),ye.xr.removeEventListener("sessionend",te)}};typeof((ce=Z.xr)==null?void 0:ce.addEventListener)=="function"&&ge.connect(),U.set({xr:ge})}if(Z.shadowMap){const H=Z.shadowMap.enabled,te=Z.shadowMap.type;if(Z.shadowMap.enabled=!!_,Vt.boo(_))Z.shadowMap.type=Ru;else if(Vt.str(_)){var ue;const ge={basic:Zb,percentage:Mm,soft:Ru,variance:ua};Z.shadowMap.type=(ue=ge[_])!=null?ue:Ru}else Vt.obj(_)&&Object.assign(Z.shadowMap,_);(H!==Z.shadowMap.enabled||te!==Z.shadowMap.type)&&(Z.shadowMap.needsUpdate=!0)}const I=Z2();I&&("enabled"in I?I.enabled=!S:"legacyMode"in I&&(I.legacyMode=S)),xl(Z,{outputEncoding:w?3e3:3001,toneMapping:A?br:g_}),U.legacy!==S&&U.set(()=>({legacy:S})),U.linear!==w&&U.set(()=>({linear:w})),U.flat!==A&&U.set(()=>({flat:A})),h&&!Vt.fun(h)&&!oB(h)&&!Vt.equ(h,Z,_l)&&xl(Z,h),y&&!U.events.handlers&&U.set({events:y(s)});const ne=P4(n,p);return Vt.equ(ne,U.size,_l)||U.setSize(ne.width,ne.height,ne.updateStyle,ne.top,ne.left),B&&U.viewport.dpr!==iB(B)&&U.setDpr(B),U.frameloop!==C&&U.setFrameloop(C),U.onPointerMissed||U.set({onPointerMissed:D}),L&&!Vt.equ(L,U.performance,_l)&&U.set(H=>({performance:{...H.performance,...L}})),a=v,c=!0,this},render(f){return c||this.configure(),sm.updateContainer(Y.createElement(L4,{store:s,children:f,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){uB(n)}}}function L4({store:n,children:e,onCreated:t,rootElement:i}){return kd(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),Y.createElement(aB.Provider,{value:n},e)}function uB(n,e){const t=dc.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),sm.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,a,c;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(c=r.gl)!=null&&c.xr&&r.xr.disconnect(),y4(r),dc.delete(n),e&&e(n)}catch{}},500)})}}sm.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:Y.version});function fc(){return fc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},fc.apply(this,arguments)}function lx(n,e,t){var i,r,s,o,a;e==null&&(e=100);function c(){var f=Date.now()-o;f<e&&f>=0?i=setTimeout(c,e-f):(i=null,t||(a=n.apply(s,r),s=r=null))}var d=function(){s=this,r=arguments,o=Date.now();var f=t&&!i;return i||(i=setTimeout(c,e)),f&&(a=n.apply(s,r),s=r=null),a};return d.clear=function(){i&&(clearTimeout(i),i=null)},d.flush=function(){i&&(a=n.apply(s,r),s=r=null,clearTimeout(i),i=null)},d}lx.debounce=lx;var I4=lx;const VM=px(I4);function D4(n){let{debounce:e,scroll:t,polyfill:i,offsetSize:r}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=i||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=Y.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),c=Y.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),d=e?typeof e=="number"?e:e.scroll:null,f=e?typeof e=="number"?e:e.resize:null,h=Y.useRef(!1);Y.useEffect(()=>(h.current=!0,()=>void(h.current=!1)));const[p,g,y]=Y.useMemo(()=>{const A=()=>{if(!c.current.element)return;const{left:S,top:E,width:C,height:B,bottom:L,right:b,x:R,y:D}=c.current.element.getBoundingClientRect(),U={left:S,top:E,width:C,height:B,bottom:L,right:b,x:R,y:D};c.current.element instanceof HTMLElement&&r&&(U.height=c.current.element.offsetHeight,U.width=c.current.element.offsetWidth),Object.freeze(U),h.current&&!k4(c.current.lastBounds,U)&&a(c.current.lastBounds=U)};return[A,f?VM(A,f):A,d?VM(A,d):A]},[a,r,d,f]);function v(){c.current.scrollContainers&&(c.current.scrollContainers.forEach(A=>A.removeEventListener("scroll",y,!0)),c.current.scrollContainers=null),c.current.resizeObserver&&(c.current.resizeObserver.disconnect(),c.current.resizeObserver=null)}function _(){c.current.element&&(c.current.resizeObserver=new s(y),c.current.resizeObserver.observe(c.current.element),t&&c.current.scrollContainers&&c.current.scrollContainers.forEach(A=>A.addEventListener("scroll",y,{capture:!0,passive:!0})))}const w=A=>{!A||A===c.current.element||(v(),c.current.element=A,c.current.scrollContainers=dB(A),_())};return F4(y,!!t),N4(g),Y.useEffect(()=>{v(),_()},[t,y,g]),Y.useEffect(()=>v,[]),[w,o,p]}function N4(n){Y.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function F4(n,e){Y.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function dB(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...dB(n.parentElement)]}const O4=["x","y","top","bottom","left","right","width","height"],k4=(n,e)=>O4.every(t=>n[t]===e[t]);var z4=Object.defineProperty,U4=Object.defineProperties,G4=Object.getOwnPropertyDescriptors,WM=Object.getOwnPropertySymbols,H4=Object.prototype.hasOwnProperty,j4=Object.prototype.propertyIsEnumerable,JM=(n,e,t)=>e in n?z4(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,XM=(n,e)=>{for(var t in e||(e={}))H4.call(e,t)&&JM(n,t,e[t]);if(WM)for(var t of WM(e))j4.call(e,t)&&JM(n,t,e[t]);return n},V4=(n,e)=>U4(n,G4(e));function fB(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=fB(i,e,t);if(r)return r;i=e?null:i.sibling}}function hB(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const s1=hB(Y.createContext(null));class pB extends Y.Component{render(){return Y.createElement(s1.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:qM,ReactCurrentDispatcher:KM}=Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function W4(){const n=Y.useContext(s1);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=Y.useId();return Y.useMemo(()=>{for(const i of[qM==null?void 0:qM.current,n,n==null?void 0:n.alternate]){if(!i)continue;const r=fB(i,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[n,e])}function J4(){var n,e;const t=W4(),[i]=Y.useState(()=>new Map);i.clear();let r=t;for(;r;){const s=(n=r.type)==null?void 0:n._context;s&&s!==s1&&!i.has(s)&&i.set(s,(e=KM==null?void 0:KM.current)==null?void 0:e.readContext(hB(s))),r=r.return}return i}function X4(){const n=J4();return Y.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>Y.createElement(e,null,Y.createElement(t.Provider,V4(XM({},i),{value:n.get(t)}))),e=>Y.createElement(pB,XM({},e))),[n])}const mv={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function q4(n){const{handlePointer:e}=S4(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(mv).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var i;const{set:r,events:s}=n.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:t}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,a])=>{const[c,d]=mv[o];t.addEventListener(c,a,{passive:d})})},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[a]=mv[s];i.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const K4=Y.forwardRef(function({children:e,fallback:t,resize:i,style:r,gl:s,events:o=q4,eventSource:a,eventPrefix:c,shadows:d,linear:f,flat:h,legacy:p,orthographic:g,frameloop:y,dpr:v,performance:_,raycaster:w,camera:A,scene:S,onPointerMissed:E,onCreated:C,...B},L){Y.useMemo(()=>f4(e4),[]);const b=X4(),[R,D]=D4({scroll:!0,debounce:{scroll:50,resize:0},...i}),U=Y.useRef(null),Z=Y.useRef(null);Y.useImperativeHandle(L,()=>U.current);const W=eB(E),[J,$]=Y.useState(!1),[ce,ue]=Y.useState(!1);if(J)throw J;if(ce)throw ce;const I=Y.useRef(null);kd(()=>{const j=U.current;D.width>0&&D.height>0&&j&&(I.current||(I.current=R4(j)),I.current.configure({gl:s,events:o,shadows:d,linear:f,flat:h,legacy:p,orthographic:g,frameloop:y,dpr:v,performance:_,raycaster:w,camera:A,scene:S,size:D,onPointerMissed:(...ne)=>W.current==null?void 0:W.current(...ne),onCreated:ne=>{ne.events.connect==null||ne.events.connect(a?p4(a)?a.current:a:Z.current),c&&ne.setEvents({compute:(H,te)=>{const ge=H[c+"X"],ye=H[c+"Y"];te.pointer.set(ge/te.size.width*2-1,-(ye/te.size.height)*2+1),te.raycaster.setFromCamera(te.pointer,te.camera)}}),C==null||C(ne)}}),I.current.render(Y.createElement(b,null,Y.createElement(tB,{set:ue},Y.createElement(Y.Suspense,{fallback:Y.createElement(m4,{set:$})},e)))))}),Y.useEffect(()=>{const j=U.current;if(j)return()=>uB(j)},[]);const G=a?"none":"auto";return Y.createElement("div",fc({ref:Z,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:G,...r}},B),Y.createElement("div",{ref:R,style:{width:"100%",height:"100%"}},Y.createElement("canvas",{ref:U,style:{display:"block"}},t)))}),Y4=Y.forwardRef(function(e,t){return Y.createElement(pB,null,Y.createElement(K4,fc({},e,{ref:t})))}),Ud=new F,o1=new F,Q4=new F;function Z4(n,e,t){const i=Ud.setFromMatrixPosition(n.matrixWorld);i.project(e);const r=t.width/2,s=t.height/2;return[i.x*r+r,-(i.y*s)+s]}function $4(n,e){const t=Ud.setFromMatrixPosition(n.matrixWorld),i=o1.setFromMatrixPosition(e.matrixWorld),r=t.sub(i),s=e.getWorldDirection(Q4);return r.angleTo(s)>Math.PI/2}function eG(n,e,t,i){const r=Ud.setFromMatrixPosition(n.matrixWorld),s=r.clone();s.project(e),t.setFromCamera(s,e);const o=t.intersectObjects(i,!0);if(o.length){const a=o[0].distance;return r.distanceTo(t.ray.origin)<a}return!0}function tG(n,e){if(e instanceof ar)return e.zoom;if(e instanceof Wt){const t=Ud.setFromMatrixPosition(n.matrixWorld),i=o1.setFromMatrixPosition(e.matrixWorld),r=e.fov*Math.PI/180,s=t.distanceTo(i);return 1/(2*Math.tan(r/2)*s)}else return 1}function nG(n,e,t){if(e instanceof Wt||e instanceof ar){const i=Ud.setFromMatrixPosition(n.matrixWorld),r=o1.setFromMatrixPosition(e.matrixWorld),s=i.distanceTo(r),o=(t[1]-t[0])/(e.far-e.near),a=t[1]-o*e.far;return Math.round(o*s+a)}}const cx=n=>Math.abs(n)<1e-10?0:n;function mB(n,e,t=""){let i="matrix3d(";for(let r=0;r!==16;r++)i+=cx(e[r]*n.elements[r])+(r!==15?",":")");return t+i}const iG=(n=>e=>mB(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),rG=(n=>(e,t)=>mB(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function sG(n){return n&&typeof n=="object"&&"current"in n}const oG=Y.forwardRef(({children:n,eps:e=.001,style:t,className:i,prepend:r,center:s,fullscreen:o,portal:a,distanceFactor:c,sprite:d=!1,transform:f=!1,occlude:h,onOcclude:p,castShadow:g,receiveShadow:y,material:v,geometry:_,zIndexRange:w=[16777271,0],calculatePosition:A=Z4,as:S="div",wrapperClass:E,pointerEvents:C="auto",...B},L)=>{const{gl:b,camera:R,scene:D,size:U,raycaster:Z,events:W,viewport:J}=nr(),[$]=Y.useState(()=>document.createElement(S)),ce=Y.useRef(),ue=Y.useRef(null),I=Y.useRef(0),G=Y.useRef([0,0]),j=Y.useRef(null),ne=Y.useRef(null),H=(a==null?void 0:a.current)||W.connected||b.domElement.parentNode,te=Y.useRef(null),ge=Y.useRef(!1),ye=Y.useMemo(()=>h&&h!=="blending"||Array.isArray(h)&&h.length&&sG(h[0]),[h]);Y.useLayoutEffect(()=>{const we=b.domElement;h&&h==="blending"?(we.style.zIndex=`${Math.floor(w[0]/2)}`,we.style.position="absolute",we.style.pointerEvents="none"):(we.style.zIndex=null,we.style.position=null,we.style.pointerEvents=null)},[h]),Y.useLayoutEffect(()=>{if(ue.current){const we=ce.current=kb($);if(D.updateMatrixWorld(),f)$.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const Re=A(ue.current,R,U);$.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${Re[0]}px,${Re[1]}px,0);transform-origin:0 0;`}return H&&(r?H.prepend($):H.appendChild($)),()=>{H&&H.removeChild($),we.unmount()}}},[H,f]),Y.useLayoutEffect(()=>{E&&($.className=E)},[E]);const Q=Y.useMemo(()=>f?{position:"absolute",top:0,left:0,width:U.width,height:U.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-U.height/2,left:-U.width/2,width:U.width,height:U.height},...t},[t,s,o,U,f]),Pe=Y.useMemo(()=>({position:"absolute",pointerEvents:C}),[C]);Y.useLayoutEffect(()=>{if(ge.current=!1,f){var we;(we=ce.current)==null||we.render(Y.createElement("div",{ref:j,style:Q},Y.createElement("div",{ref:ne,style:Pe},Y.createElement("div",{ref:L,className:i,style:t,children:n}))))}else{var Re;(Re=ce.current)==null||Re.render(Y.createElement("div",{ref:L,style:Q,className:i,children:n}))}});const Oe=Y.useRef(!0);r1(we=>{if(ue.current){R.updateMatrixWorld(),ue.current.updateWorldMatrix(!0,!1);const Re=f?G.current:A(ue.current,R,U);if(f||Math.abs(I.current-R.zoom)>e||Math.abs(G.current[0]-Re[0])>e||Math.abs(G.current[1]-Re[1])>e){const fe=$4(ue.current,R);let ae=!1;ye&&(Array.isArray(h)?ae=h.map(Ze=>Ze.current):h!=="blending"&&(ae=[D]));const Me=Oe.current;if(ae){const Ze=eG(ue.current,R,Z,ae);Oe.current=Ze&&!fe}else Oe.current=!fe;Me!==Oe.current&&(p?p(!Oe.current):$.style.display=Oe.current?"block":"none");const ze=Math.floor(w[0]/2),Te=h?ye?[w[0],ze]:[ze-1,0]:w;if($.style.zIndex=`${nG(ue.current,R,Te)}`,f){const[Ze,Ke]=[U.width/2,U.height/2],We=R.projectionMatrix.elements[5]*Ke,{isOrthographicCamera:vt,top:yt,left:z,bottom:N,right:oe}=R,Ae=iG(R.matrixWorldInverse),Ee=vt?`scale(${We})translate(${cx(-(oe+z)/2)}px,${cx((yt+N)/2)}px)`:`translateZ(${We}px)`;let be=ue.current.matrixWorld;d&&(be=R.matrixWorldInverse.clone().transpose().copyPosition(be).scale(ue.current.scale),be.elements[3]=be.elements[7]=be.elements[11]=0,be.elements[15]=1),$.style.width=U.width+"px",$.style.height=U.height+"px",$.style.perspective=vt?"":`${We}px`,j.current&&ne.current&&(j.current.style.transform=`${Ee}${Ae}translate(${Ze}px,${Ke}px)`,ne.current.style.transform=rG(be,1/((c||10)/400)))}else{const Ze=c===void 0?1:tG(ue.current,R)*c;$.style.transform=`translate3d(${Re[0]}px,${Re[1]}px,0) scale(${Ze})`}G.current=Re,I.current=R.zoom}}if(!ye&&te.current&&!ge.current)if(f){if(j.current){const Re=j.current.children[0];if(Re!=null&&Re.clientWidth&&Re!=null&&Re.clientHeight){const{isOrthographicCamera:fe}=R;if(fe||_)B.scale&&(Array.isArray(B.scale)?B.scale instanceof F?te.current.scale.copy(B.scale.clone().divideScalar(1)):te.current.scale.set(1/B.scale[0],1/B.scale[1],1/B.scale[2]):te.current.scale.setScalar(1/B.scale));else{const ae=(c||10)/400,Me=Re.clientWidth*ae,ze=Re.clientHeight*ae;te.current.scale.set(Me,ze,1)}ge.current=!0}}}else{const Re=$.children[0];if(Re!=null&&Re.clientWidth&&Re!=null&&Re.clientHeight){const fe=1/J.factor,ae=Re.clientWidth*fe,Me=Re.clientHeight*fe;te.current.scale.set(ae,Me,1),ge.current=!0}te.current.lookAt(we.camera.position)}});const He=Y.useMemo(()=>({vertexShader:f?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[f]);return Y.createElement("group",fc({},B,{ref:ue}),h&&!ye&&Y.createElement("mesh",{castShadow:g,receiveShadow:y,ref:te},_||Y.createElement("planeGeometry",null),v||Y.createElement("shaderMaterial",{side:Mr,vertexShader:He.vertexShader,fragmentShader:He.fragmentShader})))});let pu=0;const aG=J2(n=>(kl.onStart=(e,t,i)=>{n({active:!0,item:e,loaded:t,total:i,progress:(t-pu)/(i-pu)*100})},kl.onLoad=()=>{n({active:!1})},kl.onError=e=>n(t=>({errors:[...t.errors,e]})),kl.onProgress=(e,t,i)=>{t===i&&(pu=i),n({active:!0,item:e,loaded:t,total:i,progress:(t-pu)/(i-pu)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function YM(n,e){if(e===HT)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===tm||e===x_){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let c=0;c<a.count;c++)o.push(c);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,r=[];if(t)if(e===tm)for(let o=1;o<=i;o++)r.push(t.getX(0)),r.push(t.getX(o)),r.push(t.getX(o+1));else for(let o=0;o<i;o++)o%2===0?(r.push(t.getX(o)),r.push(t.getX(o+1)),r.push(t.getX(o+2))):(r.push(t.getX(o+2)),r.push(t.getX(o+1)),r.push(t.getX(o)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(r),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}const lG=parseInt(yd.replace(/\D+/g,""));var cG=Object.defineProperty,uG=(n,e,t)=>e in n?cG(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,rt=(n,e,t)=>(uG(n,typeof e!="symbol"?e+"":e,t),t);const Qh=new yc,QM=new ys,dG=Math.cos(70*(Math.PI/180)),ZM=(n,e)=>(n%e+e)%e;let fG=class extends Qr{constructor(e,t){super(),rt(this,"object"),rt(this,"domElement"),rt(this,"enabled",!0),rt(this,"target",new F),rt(this,"minDistance",0),rt(this,"maxDistance",1/0),rt(this,"minZoom",0),rt(this,"maxZoom",1/0),rt(this,"minPolarAngle",0),rt(this,"maxPolarAngle",Math.PI),rt(this,"minAzimuthAngle",-1/0),rt(this,"maxAzimuthAngle",1/0),rt(this,"enableDamping",!1),rt(this,"dampingFactor",.05),rt(this,"enableZoom",!0),rt(this,"zoomSpeed",1),rt(this,"enableRotate",!0),rt(this,"rotateSpeed",1),rt(this,"enablePan",!0),rt(this,"panSpeed",1),rt(this,"screenSpacePanning",!0),rt(this,"keyPanSpeed",7),rt(this,"zoomToCursor",!1),rt(this,"autoRotate",!1),rt(this,"autoRotateSpeed",2),rt(this,"reverseOrbit",!1),rt(this,"reverseHorizontalOrbit",!1),rt(this,"reverseVerticalOrbit",!1),rt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),rt(this,"mouseButtons",{LEFT:na.ROTATE,MIDDLE:na.DOLLY,RIGHT:na.PAN}),rt(this,"touches",{ONE:ia.ROTATE,TWO:ia.DOLLY_PAN}),rt(this,"target0"),rt(this,"position0"),rt(this,"zoom0"),rt(this,"_domElementKeyEvents",null),rt(this,"getPolarAngle"),rt(this,"getAzimuthalAngle"),rt(this,"setPolarAngle"),rt(this,"setAzimuthalAngle"),rt(this,"getDistance"),rt(this,"listenToKeyEvents"),rt(this,"stopListenToKeyEvents"),rt(this,"saveState"),rt(this,"reset"),rt(this,"update"),rt(this,"connect"),rt(this,"dispose"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>f.phi,this.getAzimuthalAngle=()=>f.theta,this.setPolarAngle=X=>{let xe=ZM(X,2*Math.PI),ke=f.phi;ke<0&&(ke+=2*Math.PI),xe<0&&(xe+=2*Math.PI);let V=Math.abs(xe-ke);2*Math.PI-V<V&&(xe<ke?xe+=2*Math.PI:ke+=2*Math.PI),h.phi=xe-ke,i.update()},this.setAzimuthalAngle=X=>{let xe=ZM(X,2*Math.PI),ke=f.theta;ke<0&&(ke+=2*Math.PI),xe<0&&(xe+=2*Math.PI);let V=Math.abs(xe-ke);2*Math.PI-V<V&&(xe<ke?xe+=2*Math.PI:ke+=2*Math.PI),h.theta=xe-ke,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=X=>{X.addEventListener("keydown",nt),this._domElementKeyEvents=X},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",nt),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),c=a.NONE},this.update=(()=>{const X=new F,xe=new F(0,1,0),ke=new Un().setFromUnitVectors(e.up,xe),V=ke.clone().invert(),se=new F,_e=new Un,Le=2*Math.PI;return function(){const xt=i.object.position;ke.setFromUnitVectors(e.up,xe),V.copy(ke).invert(),X.copy(xt).sub(i.target),X.applyQuaternion(ke),f.setFromVector3(X),i.autoRotate&&c===a.NONE&&J(Z()),i.enableDamping?(f.theta+=h.theta*i.dampingFactor,f.phi+=h.phi*i.dampingFactor):(f.theta+=h.theta,f.phi+=h.phi);let Dt=i.minAzimuthAngle,kt=i.maxAzimuthAngle;isFinite(Dt)&&isFinite(kt)&&(Dt<-Math.PI?Dt+=Le:Dt>Math.PI&&(Dt-=Le),kt<-Math.PI?kt+=Le:kt>Math.PI&&(kt-=Le),Dt<=kt?f.theta=Math.max(Dt,Math.min(kt,f.theta)):f.theta=f.theta>(Dt+kt)/2?Math.max(Dt,f.theta):Math.min(kt,f.theta)),f.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,f.phi)),f.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(g,i.dampingFactor):i.target.add(g),i.zoomToCursor&&R||i.object.isOrthographicCamera?f.radius=H(f.radius):f.radius=H(f.radius*p),X.setFromSpherical(f),X.applyQuaternion(V),xt.copy(i.target).add(X),i.object.lookAt(i.target),i.enableDamping===!0?(h.theta*=1-i.dampingFactor,h.phi*=1-i.dampingFactor,g.multiplyScalar(1-i.dampingFactor)):(h.set(0,0,0),g.set(0,0,0));let ii=!1;if(i.zoomToCursor&&R){let Tt=null;if(i.object instanceof Wt&&i.object.isPerspectiveCamera){const Rn=X.length();Tt=H(Rn*p);const Mn=Rn-Tt;i.object.position.addScaledVector(L,Mn),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const Rn=new F(b.x,b.y,0);Rn.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/p)),i.object.updateProjectionMatrix(),ii=!0;const Mn=new F(b.x,b.y,0);Mn.unproject(i.object),i.object.position.sub(Mn).add(Rn),i.object.updateMatrixWorld(),Tt=X.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;Tt!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(Tt).add(i.object.position):(Qh.origin.copy(i.object.position),Qh.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(Qh.direction))<dG?e.lookAt(i.target):(QM.setFromNormalAndCoplanarPoint(i.object.up,i.target),Qh.intersectPlane(QM,i.target))))}else i.object instanceof ar&&i.object.isOrthographicCamera&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/p)),i.object.updateProjectionMatrix(),ii=!0);return p=1,R=!1,ii||se.distanceToSquared(i.object.position)>d||8*(1-_e.dot(i.object.quaternion))>d?(i.dispatchEvent(r),se.copy(i.object.position),_e.copy(i.object.quaternion),ii=!1,!0):!1}})(),this.connect=X=>{X===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),i.domElement=X,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",Ye),i.domElement.addEventListener("pointerdown",yt),i.domElement.addEventListener("pointercancel",oe),i.domElement.addEventListener("wheel",be)},this.dispose=()=>{var X,xe,ke,V,se,_e;(X=i.domElement)==null||X.removeEventListener("contextmenu",Ye),(xe=i.domElement)==null||xe.removeEventListener("pointerdown",yt),(ke=i.domElement)==null||ke.removeEventListener("pointercancel",oe),(V=i.domElement)==null||V.removeEventListener("wheel",be),(se=i.domElement)==null||se.ownerDocument.removeEventListener("pointermove",z),(_e=i.domElement)==null||_e.ownerDocument.removeEventListener("pointerup",N),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",nt)};const i=this,r={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let c=a.NONE;const d=1e-6,f=new sx,h=new sx;let p=1;const g=new F,y=new pe,v=new pe,_=new pe,w=new pe,A=new pe,S=new pe,E=new pe,C=new pe,B=new pe,L=new F,b=new pe;let R=!1;const D=[],U={};function Z(){return 2*Math.PI/60/60*i.autoRotateSpeed}function W(){return Math.pow(.95,i.zoomSpeed)}function J(X){i.reverseOrbit||i.reverseHorizontalOrbit?h.theta+=X:h.theta-=X}function $(X){i.reverseOrbit||i.reverseVerticalOrbit?h.phi+=X:h.phi-=X}const ce=(()=>{const X=new F;return function(ke,V){X.setFromMatrixColumn(V,0),X.multiplyScalar(-ke),g.add(X)}})(),ue=(()=>{const X=new F;return function(ke,V){i.screenSpacePanning===!0?X.setFromMatrixColumn(V,1):(X.setFromMatrixColumn(V,0),X.crossVectors(i.object.up,X)),X.multiplyScalar(ke),g.add(X)}})(),I=(()=>{const X=new F;return function(ke,V){const se=i.domElement;if(se&&i.object instanceof Wt&&i.object.isPerspectiveCamera){const _e=i.object.position;X.copy(_e).sub(i.target);let Le=X.length();Le*=Math.tan(i.object.fov/2*Math.PI/180),ce(2*ke*Le/se.clientHeight,i.object.matrix),ue(2*V*Le/se.clientHeight,i.object.matrix)}else se&&i.object instanceof ar&&i.object.isOrthographicCamera?(ce(ke*(i.object.right-i.object.left)/i.object.zoom/se.clientWidth,i.object.matrix),ue(V*(i.object.top-i.object.bottom)/i.object.zoom/se.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function G(X){i.object instanceof Wt&&i.object.isPerspectiveCamera||i.object instanceof ar&&i.object.isOrthographicCamera?p/=X:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function j(X){i.object instanceof Wt&&i.object.isPerspectiveCamera||i.object instanceof ar&&i.object.isOrthographicCamera?p*=X:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function ne(X){if(!i.zoomToCursor||!i.domElement)return;R=!0;const xe=i.domElement.getBoundingClientRect(),ke=X.clientX-xe.left,V=X.clientY-xe.top,se=xe.width,_e=xe.height;b.x=ke/se*2-1,b.y=-(V/_e)*2+1,L.set(b.x,b.y,1).unproject(i.object).sub(i.object.position).normalize()}function H(X){return Math.max(i.minDistance,Math.min(i.maxDistance,X))}function te(X){y.set(X.clientX,X.clientY)}function ge(X){ne(X),E.set(X.clientX,X.clientY)}function ye(X){w.set(X.clientX,X.clientY)}function Q(X){v.set(X.clientX,X.clientY),_.subVectors(v,y).multiplyScalar(i.rotateSpeed);const xe=i.domElement;xe&&(J(2*Math.PI*_.x/xe.clientHeight),$(2*Math.PI*_.y/xe.clientHeight)),y.copy(v),i.update()}function Pe(X){C.set(X.clientX,X.clientY),B.subVectors(C,E),B.y>0?G(W()):B.y<0&&j(W()),E.copy(C),i.update()}function Oe(X){A.set(X.clientX,X.clientY),S.subVectors(A,w).multiplyScalar(i.panSpeed),I(S.x,S.y),w.copy(A),i.update()}function He(X){ne(X),X.deltaY<0?j(W()):X.deltaY>0&&G(W()),i.update()}function we(X){let xe=!1;switch(X.code){case i.keys.UP:I(0,i.keyPanSpeed),xe=!0;break;case i.keys.BOTTOM:I(0,-i.keyPanSpeed),xe=!0;break;case i.keys.LEFT:I(i.keyPanSpeed,0),xe=!0;break;case i.keys.RIGHT:I(-i.keyPanSpeed,0),xe=!0;break}xe&&(X.preventDefault(),i.update())}function Re(){if(D.length==1)y.set(D[0].pageX,D[0].pageY);else{const X=.5*(D[0].pageX+D[1].pageX),xe=.5*(D[0].pageY+D[1].pageY);y.set(X,xe)}}function fe(){if(D.length==1)w.set(D[0].pageX,D[0].pageY);else{const X=.5*(D[0].pageX+D[1].pageX),xe=.5*(D[0].pageY+D[1].pageY);w.set(X,xe)}}function ae(){const X=D[0].pageX-D[1].pageX,xe=D[0].pageY-D[1].pageY,ke=Math.sqrt(X*X+xe*xe);E.set(0,ke)}function Me(){i.enableZoom&&ae(),i.enablePan&&fe()}function ze(){i.enableZoom&&ae(),i.enableRotate&&Re()}function Te(X){if(D.length==1)v.set(X.pageX,X.pageY);else{const ke=Je(X),V=.5*(X.pageX+ke.x),se=.5*(X.pageY+ke.y);v.set(V,se)}_.subVectors(v,y).multiplyScalar(i.rotateSpeed);const xe=i.domElement;xe&&(J(2*Math.PI*_.x/xe.clientHeight),$(2*Math.PI*_.y/xe.clientHeight)),y.copy(v)}function Ze(X){if(D.length==1)A.set(X.pageX,X.pageY);else{const xe=Je(X),ke=.5*(X.pageX+xe.x),V=.5*(X.pageY+xe.y);A.set(ke,V)}S.subVectors(A,w).multiplyScalar(i.panSpeed),I(S.x,S.y),w.copy(A)}function Ke(X){const xe=Je(X),ke=X.pageX-xe.x,V=X.pageY-xe.y,se=Math.sqrt(ke*ke+V*V);C.set(0,se),B.set(0,Math.pow(C.y/E.y,i.zoomSpeed)),G(B.y),E.copy(C)}function We(X){i.enableZoom&&Ke(X),i.enablePan&&Ze(X)}function vt(X){i.enableZoom&&Ke(X),i.enableRotate&&Te(X)}function yt(X){var xe,ke;i.enabled!==!1&&(D.length===0&&((xe=i.domElement)==null||xe.ownerDocument.addEventListener("pointermove",z),(ke=i.domElement)==null||ke.ownerDocument.addEventListener("pointerup",N)),it(X),X.pointerType==="touch"?Ne(X):Ae(X))}function z(X){i.enabled!==!1&&(X.pointerType==="touch"?ve(X):Ee(X))}function N(X){var xe,ke,V;je(X),D.length===0&&((xe=i.domElement)==null||xe.releasePointerCapture(X.pointerId),(ke=i.domElement)==null||ke.ownerDocument.removeEventListener("pointermove",z),(V=i.domElement)==null||V.ownerDocument.removeEventListener("pointerup",N)),i.dispatchEvent(o),c=a.NONE}function oe(X){je(X)}function Ae(X){let xe;switch(X.button){case 0:xe=i.mouseButtons.LEFT;break;case 1:xe=i.mouseButtons.MIDDLE;break;case 2:xe=i.mouseButtons.RIGHT;break;default:xe=-1}switch(xe){case na.DOLLY:if(i.enableZoom===!1)return;ge(X),c=a.DOLLY;break;case na.ROTATE:if(X.ctrlKey||X.metaKey||X.shiftKey){if(i.enablePan===!1)return;ye(X),c=a.PAN}else{if(i.enableRotate===!1)return;te(X),c=a.ROTATE}break;case na.PAN:if(X.ctrlKey||X.metaKey||X.shiftKey){if(i.enableRotate===!1)return;te(X),c=a.ROTATE}else{if(i.enablePan===!1)return;ye(X),c=a.PAN}break;default:c=a.NONE}c!==a.NONE&&i.dispatchEvent(s)}function Ee(X){if(i.enabled!==!1)switch(c){case a.ROTATE:if(i.enableRotate===!1)return;Q(X);break;case a.DOLLY:if(i.enableZoom===!1)return;Pe(X);break;case a.PAN:if(i.enablePan===!1)return;Oe(X);break}}function be(X){i.enabled===!1||i.enableZoom===!1||c!==a.NONE&&c!==a.ROTATE||(X.preventDefault(),i.dispatchEvent(s),He(X),i.dispatchEvent(o))}function nt(X){i.enabled===!1||i.enablePan===!1||we(X)}function Ne(X){switch($e(X),D.length){case 1:switch(i.touches.ONE){case ia.ROTATE:if(i.enableRotate===!1)return;Re(),c=a.TOUCH_ROTATE;break;case ia.PAN:if(i.enablePan===!1)return;fe(),c=a.TOUCH_PAN;break;default:c=a.NONE}break;case 2:switch(i.touches.TWO){case ia.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Me(),c=a.TOUCH_DOLLY_PAN;break;case ia.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;ze(),c=a.TOUCH_DOLLY_ROTATE;break;default:c=a.NONE}break;default:c=a.NONE}c!==a.NONE&&i.dispatchEvent(s)}function ve(X){switch($e(X),c){case a.TOUCH_ROTATE:if(i.enableRotate===!1)return;Te(X),i.update();break;case a.TOUCH_PAN:if(i.enablePan===!1)return;Ze(X),i.update();break;case a.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;We(X),i.update();break;case a.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;vt(X),i.update();break;default:c=a.NONE}}function Ye(X){i.enabled!==!1&&X.preventDefault()}function it(X){D.push(X)}function je(X){delete U[X.pointerId];for(let xe=0;xe<D.length;xe++)if(D[xe].pointerId==X.pointerId){D.splice(xe,1);return}}function $e(X){let xe=U[X.pointerId];xe===void 0&&(xe=new pe,U[X.pointerId]=xe),xe.set(X.pageX,X.pageY)}function Je(X){const xe=X.pointerId===D[0].pointerId?D[1]:D[0];return U[xe.pointerId]}t!==void 0&&this.connect(t),this.update()}};class a1 extends mi{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new vG(t)}),this.register(function(t){return new EG(t)}),this.register(function(t){return new CG(t)}),this.register(function(t){return new bG(t)}),this.register(function(t){return new xG(t)}),this.register(function(t){return new _G(t)}),this.register(function(t){return new wG(t)}),this.register(function(t){return new AG(t)}),this.register(function(t){return new gG(t)}),this.register(function(t){return new SG(t)}),this.register(function(t){return new yG(t)}),this.register(function(t){return new MG(t)}),this.register(function(t){return new pG(t)}),this.register(function(t){return new TG(t)}),this.register(function(t){return new BG(t)})}load(e,t,i,r){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=Xr.extractUrlBase(e),this.manager.itemStart(e);const a=function(d){r?r(d):console.error(d),s.manager.itemError(e),s.manager.itemEnd(e)},c=new zi(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(d){try{s.parse(d,o,function(f){t(f),s.manager.itemEnd(e)},a)}catch(f){a(f)}},i,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(Xr.decodeText(new Uint8Array(e.slice(0,4)))===gB){try{o[Mt.KHR_BINARY_GLTF]=new PG(e)}catch(f){r&&r(f);return}s=JSON.parse(o[Mt.KHR_BINARY_GLTF].content)}else s=JSON.parse(Xr.decodeText(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const c=new jG(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let d=0;d<this.pluginCallbacks.length;d++){const f=this.pluginCallbacks[d](c);a[f.name]=f,o[f.name]=!0}if(s.extensionsUsed)for(let d=0;d<s.extensionsUsed.length;++d){const f=s.extensionsUsed[d],h=s.extensionsRequired||[];switch(f){case Mt.KHR_MATERIALS_UNLIT:o[f]=new mG;break;case Mt.KHR_DRACO_MESH_COMPRESSION:o[f]=new RG(s,this.dracoLoader);break;case Mt.KHR_TEXTURE_TRANSFORM:o[f]=new LG;break;case Mt.KHR_MESH_QUANTIZATION:o[f]=new IG;break;default:h.indexOf(f)>=0&&a[f]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+f+'".')}}c.setExtensions(o),c.setPlugins(a),c.parse(i,r)}parseAsync(e,t){const i=this;return new Promise(function(r,s){i.parse(e,t,r,s)})}}function hG(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Mt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class pG{constructor(e){this.parser=e,this.name=Mt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){const s=t[i];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let r=t.cache.get(i);if(r)return r;const s=t.json,c=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let d;const f=new De(16777215);c.color!==void 0&&f.fromArray(c.color);const h=c.range!==void 0?c.range:0;switch(c.type){case"directional":d=new Q_(f),d.target.position.set(0,0,-1),d.add(d.target);break;case"point":d=new Y_(f),d.distance=h;break;case"spot":d=new K_(f),d.distance=h,c.spot=c.spot||{},c.spot.innerConeAngle=c.spot.innerConeAngle!==void 0?c.spot.innerConeAngle:0,c.spot.outerConeAngle=c.spot.outerConeAngle!==void 0?c.spot.outerConeAngle:Math.PI/4,d.angle=c.spot.outerConeAngle,d.penumbra=1-c.spot.innerConeAngle/c.spot.outerConeAngle,d.target.position.set(0,0,-1),d.add(d.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+c.type)}return d.position.set(0,0,0),d.decay=2,eo(d,c),c.intensity!==void 0&&(d.intensity=c.intensity),d.name=t.createUniqueName(c.name||"light_"+e),r=Promise.resolve(d),t.cache.add(i,r),r}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,s=i.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(c){return i._getNodeRef(t.cache,a,c)})}}class mG{constructor(){this.name=Mt.KHR_MATERIALS_UNLIT}getMaterialType(){return Ni}extendParams(e,t,i){const r=[];e.color=new De(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",s.baseColorTexture,3001))}return Promise.all(r)}}class gG{constructor(e){this.parser=e,this.name=Mt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class vG{constructor(e){this.parser=e,this.name=Mt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Zr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(i.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new pe(a,a)}return Promise.all(s)}}class yG{constructor(e){this.parser=e,this.name=Mt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Zr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class xG{constructor(e){this.parser=e,this.name=Mt.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Zr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new De(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=r.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(i.assignTexture(t,"sheenColorMap",o.sheenColorTexture,3001)),o.sheenRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class _G{constructor(e){this.parser=e,this.name=Mt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Zr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(i.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class wG{constructor(e){this.parser=e,this.name=Mt.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Zr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(i.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new De(a[0],a[1],a[2]),Promise.all(s)}}class AG{constructor(e){this.parser=e,this.name=Mt.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Zr}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class SG{constructor(e){this.parser=e,this.name=Mt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Zr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(i.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new De(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(i.assignTexture(t,"specularColorMap",o.specularColorTexture,3001)),Promise.all(s)}}class MG{constructor(e){this.parser=e,this.name=Mt.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Zr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(i.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class EG{constructor(e){this.parser=e,this.name=Mt.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class CG{constructor(e){this.parser=e,this.name=Mt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let c=i.textureLoader;if(a.uri){const d=i.options.manager.getHandler(a.uri);d!==null&&(c=d)}return this.detectSupport().then(function(d){if(d)return i.loadTextureImage(e,o.source,c);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class bG{constructor(e){this.parser=e,this.name=Mt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let c=i.textureLoader;if(a.uri){const d=i.options.manager.getHandler(a.uri);d!==null&&(c=d)}return this.detectSupport().then(function(d){if(d)return i.loadTextureImage(e,o.source,c);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class TG{constructor(e){this.name=Mt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const c=r.byteOffset||0,d=r.byteLength||0,f=r.count,h=r.byteStride,p=new Uint8Array(a,c,d);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(f,h,p,r.mode,r.filter).then(function(g){return g.buffer}):o.ready.then(function(){const g=new ArrayBuffer(f*h);return o.decodeGltfBuffer(new Uint8Array(g),f,h,p,r.mode,r.filter),g})})}else return null}}class BG{constructor(e){this.name=Mt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const r=t.meshes[i.mesh];for(const d of r.primitives)if(d.mode!==er.TRIANGLES&&d.mode!==er.TRIANGLE_STRIP&&d.mode!==er.TRIANGLE_FAN&&d.mode!==void 0)return null;const o=i.extensions[this.name].attributes,a=[],c={};for(const d in o)a.push(this.parser.getDependency("accessor",o[d]).then(f=>(c[d]=f,c[d])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(d=>{const f=d.pop(),h=f.isGroup?f.children:[f],p=d[0].count,g=[];for(const y of h){const v=new st,_=new F,w=new Un,A=new F(1,1,1),S=new I_(y.geometry,y.material,p);for(let E=0;E<p;E++)c.TRANSLATION&&_.fromBufferAttribute(c.TRANSLATION,E),c.ROTATION&&w.fromBufferAttribute(c.ROTATION,E),c.SCALE&&A.fromBufferAttribute(c.SCALE,E),S.setMatrixAt(E,v.compose(_,w,A));for(const E in c)E!=="TRANSLATION"&&E!=="ROTATION"&&E!=="SCALE"&&y.geometry.setAttribute(E,c[E]);bt.prototype.copy.call(S,y),this.parser.assignFinalMaterial(S),g.push(S)}return f.isGroup?(f.clear(),f.add(...g),f):g[0]}))}}const gB="glTF",mu=12,$M={JSON:1313821514,BIN:5130562};class PG{constructor(e){this.name=Mt.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,mu);if(this.header={magic:Xr.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==gB)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-mu,r=new DataView(e,mu);let s=0;for(;s<i;){const o=r.getUint32(s,!0);s+=4;const a=r.getUint32(s,!0);if(s+=4,a===$M.JSON){const c=new Uint8Array(e,mu+s,o);this.content=Xr.decodeText(c)}else if(a===$M.BIN){const c=mu+s;this.body=e.slice(c,c+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class RG{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Mt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},c={},d={};for(const f in o){const h=ux[f]||f.toLowerCase();a[h]=o[f]}for(const f in e.attributes){const h=ux[f]||f.toLowerCase();if(o[f]!==void 0){const p=i.accessors[e.attributes[f]],g=ql[p.componentType];d[h]=g.name,c[h]=p.normalized===!0}}return t.getDependency("bufferView",s).then(function(f){return new Promise(function(h){r.decodeDracoFile(f,function(p){for(const g in p.attributes){const y=p.attributes[g],v=c[g];v!==void 0&&(y.normalized=v)}h(p)},a,d)})})}}class LG{constructor(){this.name=Mt.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class IG{constructor(){this.name=Mt.KHR_MESH_QUANTIZATION}}class vB extends Mc{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let o=0;o!==r;o++)t[o]=i[s+o];return t}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,c=a*2,d=a*3,f=r-t,h=(i-t)/f,p=h*h,g=p*h,y=e*d,v=y-d,_=-2*g+3*p,w=g-p,A=1-_,S=w-p+h;for(let E=0;E!==a;E++){const C=o[v+E+a],B=o[v+E+c]*f,L=o[y+E+a],b=o[y+E]*f;s[E]=A*C+S*B+_*L+w*b}return s}}const DG=new Un;class NG extends vB{interpolate_(e,t,i,r){const s=super.interpolate_(e,t,i,r);return DG.fromArray(s).normalize().toArray(s),s}}const er={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},ql={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},eE={9728:hn,9729:nn,9984:td,9985:Cm,9986:Jl,9987:Kr},tE={33071:jn,33648:nc,10497:Ao},gv={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ux={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...lG>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Ks={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},FG={CUBICSPLINE:void 0,LINEAR:Pa,STEP:rc},vv={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function OG(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new Od({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:qr})),n.DefaultMaterial}function Zo(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function eo(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function kG(n,e,t){let i=!1,r=!1,s=!1;for(let d=0,f=e.length;d<f;d++){const h=e[d];if(h.POSITION!==void 0&&(i=!0),h.NORMAL!==void 0&&(r=!0),h.COLOR_0!==void 0&&(s=!0),i&&r&&s)break}if(!i&&!r&&!s)return Promise.resolve(n);const o=[],a=[],c=[];for(let d=0,f=e.length;d<f;d++){const h=e[d];if(i){const p=h.POSITION!==void 0?t.getDependency("accessor",h.POSITION):n.attributes.position;o.push(p)}if(r){const p=h.NORMAL!==void 0?t.getDependency("accessor",h.NORMAL):n.attributes.normal;a.push(p)}if(s){const p=h.COLOR_0!==void 0?t.getDependency("accessor",h.COLOR_0):n.attributes.color;c.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(c)]).then(function(d){const f=d[0],h=d[1],p=d[2];return i&&(n.morphAttributes.position=f),r&&(n.morphAttributes.normal=h),s&&(n.morphAttributes.color=p),n.morphTargetsRelative=!0,n})}function zG(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function UG(n){let e;const t=n.extensions&&n.extensions[Mt.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+yv(t.attributes):e=n.indices+":"+yv(n.attributes)+":"+n.mode,n.targets!==void 0)for(let i=0,r=n.targets.length;i<r;i++)e+=":"+yv(n.targets[i]);return e}function yv(n){let e="";const t=Object.keys(n).sort();for(let i=0,r=t.length;i<r;i++)e+=t[i]+":"+n[t[i]]+";";return e}function dx(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function GG(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const HG=new st;class jG{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new hG,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,s=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||r&&s<98?this.textureLoader=new I2(this.options.manager):this.textureLoader=new U2(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new zi(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,r=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const a={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:i,userData:{}};Zo(s,a,r),eo(a,r),Promise.all(i._invokeAll(function(c){return c.afterRoot&&c.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,s=t.length;r<s;r++){const o=t[r].joints;for(let a=0,c=o.length;a<c;a++)e[o[a]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const o=e[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const r=i.clone(),s=(o,a)=>{const c=this.associations.get(o);c!=null&&this.associations.set(a,c);for(const[d,f]of o.children.entries())s(f,a.children[d])};return s(i,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const r=e(t[i]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let r=0;r<t.length;r++){const s=e(t[r]);s&&i.push(s)}return i}getDependency(e,t){const i=e+":"+t;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(s,o){return i.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Mt.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,o){i.load(Xr.resolveURL(t.uri,r.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const r=t.byteLength||0,s=t.byteOffset||0;return i.slice(s,s+r)})}loadAccessor(e){const t=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const o=gv[r.type],a=ql[r.componentType],c=r.normalized===!0,d=new a(r.count*o);return Promise.resolve(new It(d,o,c))}const s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],c=gv[r.type],d=ql[r.componentType],f=d.BYTES_PER_ELEMENT,h=f*c,p=r.byteOffset||0,g=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,y=r.normalized===!0;let v,_;if(g&&g!==h){const w=Math.floor(p/g),A="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+w+":"+r.count;let S=t.cache.get(A);S||(v=new d(a,w*g,r.count*g/f),S=new Sd(v,g/f),t.cache.add(A,S)),_=new Mo(S,c,p%g/f,y)}else a===null?v=new d(r.count*c):v=new d(a,p,r.count*c),_=new It(v,c,y);if(r.sparse!==void 0){const w=gv.SCALAR,A=ql[r.sparse.indices.componentType],S=r.sparse.indices.byteOffset||0,E=r.sparse.values.byteOffset||0,C=new A(o[1],S,r.sparse.count*w),B=new d(o[2],E,r.sparse.count*c);a!==null&&(_=new It(_.array.slice(),_.itemSize,_.normalized));for(let L=0,b=C.length;L<b;L++){const R=C[L];if(_.setX(R,B[L*c]),c>=2&&_.setY(R,B[L*c+1]),c>=3&&_.setZ(R,B[L*c+2]),c>=4&&_.setW(R,B[L*c+3]),c>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return _})}loadTexture(e){const t=this.json,i=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const c=i.manager.getHandler(o.uri);c!==null&&(a=c)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,i){const r=this,s=this.json,o=s.textures[e],a=s.images[t],c=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[c])return this.textureCache[c];const d=this.loadImageSource(t,i).then(function(f){f.flipY=!1,f.name=o.name||a.name||"",f.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(f.name=a.uri);const p=(s.samplers||{})[o.sampler]||{};return f.magFilter=eE[p.magFilter]||nn,f.minFilter=eE[p.minFilter]||Kr,f.wrapS=tE[p.wrapS]||Ao,f.wrapT=tE[p.wrapT]||Ao,r.associations.set(f,{textures:e}),f}).catch(function(){return null});return this.textureCache[c]=d,d}loadImageSource(e,t){const i=this,r=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(h=>h.clone());const o=r.images[e],a=self.URL||self.webkitURL;let c=o.uri||"",d=!1;if(o.bufferView!==void 0)c=i.getDependency("bufferView",o.bufferView).then(function(h){d=!0;const p=new Blob([h],{type:o.mimeType});return c=a.createObjectURL(p),c});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const f=Promise.resolve(c).then(function(h){return new Promise(function(p,g){let y=p;t.isImageBitmapLoader===!0&&(y=function(v){const _=new Qt(v);_.needsUpdate=!0,p(_)}),t.load(Xr.resolveURL(h,s.path),y,void 0,g)})}).then(function(h){return d===!0&&a.revokeObjectURL(c),h.userData.mimeType=o.mimeType||GG(o.uri),h}).catch(function(h){throw console.error("THREE.GLTFLoader: Couldn't load texture",c),h});return this.sourceCache[e]=f,f}assignTexture(e,t,i,r){const s=this;return this.getDependency("texture",i.index).then(function(o){if(!o)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(o=o.clone(),o.channel=i.texCoord),s.extensions[Mt.KHR_TEXTURE_TRANSFORM]){const a=i.extensions!==void 0?i.extensions[Mt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const c=s.associations.get(o);o=s.extensions[Mt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,c)}}return r!==void 0&&("colorSpace"in o?o.colorSpace=r===3001?"srgb":"srgb-linear":o.encoding=r),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const r=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+i.uuid;let c=this.cache.get(a);c||(c=new Dm,Sn.prototype.copy.call(c,i),c.color.copy(i.color),c.map=i.map,c.sizeAttenuation=!1,this.cache.add(a,c)),i=c}else if(e.isLine){const a="LineBasicMaterial:"+i.uuid;let c=this.cache.get(a);c||(c=new ni,Sn.prototype.copy.call(c,i),c.color.copy(i.color),c.map=i.map,this.cache.add(a,c)),i=c}if(r||s||o){let a="ClonedMaterial:"+i.uuid+":";r&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let c=this.cache.get(a);c||(c=i.clone(),s&&(c.vertexColors=!0),o&&(c.flatShading=!0),r&&(c.normalScale&&(c.normalScale.y*=-1),c.clearcoatNormalScale&&(c.clearcoatNormalScale.y*=-1)),this.cache.add(a,c),this.associations.set(c,this.associations.get(i))),i=c}e.material=i}getMaterialType(){return Od}loadMaterial(e){const t=this,i=this.json,r=this.extensions,s=i.materials[e];let o;const a={},c=s.extensions||{},d=[];if(c[Mt.KHR_MATERIALS_UNLIT]){const h=r[Mt.KHR_MATERIALS_UNLIT];o=h.getMaterialType(),d.push(h.extendParams(a,s,t))}else{const h=s.pbrMetallicRoughness||{};if(a.color=new De(1,1,1),a.opacity=1,Array.isArray(h.baseColorFactor)){const p=h.baseColorFactor;a.color.fromArray(p),a.opacity=p[3]}h.baseColorTexture!==void 0&&d.push(t.assignTexture(a,"map",h.baseColorTexture,3001)),a.metalness=h.metallicFactor!==void 0?h.metallicFactor:1,a.roughness=h.roughnessFactor!==void 0?h.roughnessFactor:1,h.metallicRoughnessTexture!==void 0&&(d.push(t.assignTexture(a,"metalnessMap",h.metallicRoughnessTexture)),d.push(t.assignTexture(a,"roughnessMap",h.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),d.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Mr);const f=s.alphaMode||vv.OPAQUE;if(f===vv.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,f===vv.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Ni&&(d.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new pe(1,1),s.normalTexture.scale!==void 0)){const h=s.normalTexture.scale;a.normalScale.set(h,h)}return s.occlusionTexture!==void 0&&o!==Ni&&(d.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Ni&&(a.emissive=new De().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==Ni&&d.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,3001)),Promise.all(d).then(function(){const h=new o(a);return s.name&&(h.name=s.name),eo(h,s),t.associations.set(h,{materials:e}),s.extensions&&Zo(r,h,s),h})}createUniqueName(e){const t=Ct.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,i=this.extensions,r=this.primitiveCache;function s(a){return i[Mt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(c){return nE(c,a,t)})}const o=[];for(let a=0,c=e.length;a<c;a++){const d=e[a],f=UG(d),h=r[f];if(h)o.push(h.promise);else{let p;d.extensions&&d.extensions[Mt.KHR_DRACO_MESH_COMPRESSION]?p=s(d):p=nE(new ct,d,t),r[f]={primitive:d,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const t=this,i=this.json,r=this.extensions,s=i.meshes[e],o=s.primitives,a=[];for(let c=0,d=o.length;c<d;c++){const f=o[c].material===void 0?OG(this.cache):this.getDependency("material",o[c].material);a.push(f)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(c){const d=c.slice(0,c.length-1),f=c[c.length-1],h=[];for(let g=0,y=f.length;g<y;g++){const v=f[g],_=o[g];let w;const A=d[g];if(_.mode===er.TRIANGLES||_.mode===er.TRIANGLE_STRIP||_.mode===er.TRIANGLE_FAN||_.mode===void 0)w=s.isSkinnedMesh===!0?new L_(v,A):new kn(v,A),w.isSkinnedMesh===!0&&w.normalizeSkinWeights(),_.mode===er.TRIANGLE_STRIP?w.geometry=YM(w.geometry,x_):_.mode===er.TRIANGLE_FAN&&(w.geometry=YM(w.geometry,tm));else if(_.mode===er.LINES)w=new Pr(v,A);else if(_.mode===er.LINE_STRIP)w=new Ls(v,A);else if(_.mode===er.LINE_LOOP)w=new D_(v,A);else if(_.mode===er.POINTS)w=new N_(v,A);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+_.mode);Object.keys(w.geometry.morphAttributes).length>0&&zG(w,s),w.name=t.createUniqueName(s.name||"mesh_"+e),eo(w,s),_.extensions&&Zo(r,w,_),t.assignFinalMaterial(w),h.push(w)}for(let g=0,y=h.length;g<y;g++)t.associations.set(h[g],{meshes:e,primitives:g});if(h.length===1)return s.extensions&&Zo(r,h[0],s),h[0];const p=new Ms;s.extensions&&Zo(r,p,s),t.associations.set(p,{meshes:e});for(let g=0,y=h.length;g<y;g++)p.add(h[g]);return p})}loadCamera(e){let t;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new Wt(qT.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(t=new ar(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),eo(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i=[];for(let r=0,s=t.joints.length;r<s;r++)i.push(this._loadNodeShallow(t.joints[r]));return t.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",t.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(r){const s=r.pop(),o=r,a=[],c=[];for(let d=0,f=o.length;d<f;d++){const h=o[d];if(h){a.push(h);const p=new st;s!==null&&p.fromArray(s.array,d*16),c.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[d])}return new Md(a,c)})}loadAnimation(e){const i=this.json.animations[e],r=i.name?i.name:"animation_"+e,s=[],o=[],a=[],c=[],d=[];for(let f=0,h=i.channels.length;f<h;f++){const p=i.channels[f],g=i.samplers[p.sampler],y=p.target,v=y.node,_=i.parameters!==void 0?i.parameters[g.input]:g.input,w=i.parameters!==void 0?i.parameters[g.output]:g.output;y.node!==void 0&&(s.push(this.getDependency("node",v)),o.push(this.getDependency("accessor",_)),a.push(this.getDependency("accessor",w)),c.push(g),d.push(y))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(c),Promise.all(d)]).then(function(f){const h=f[0],p=f[1],g=f[2],y=f[3],v=f[4],_=[];for(let w=0,A=h.length;w<A;w++){const S=h[w],E=p[w],C=g[w],B=y[w],L=v[w];if(S===void 0)continue;S.updateMatrix();let b;switch(Ks[L.path]){case Ks.weights:b=lc;break;case Ks.rotation:b=Eo;break;case Ks.position:case Ks.scale:default:b=cc;break}const R=S.name?S.name:S.uuid,D=B.interpolation!==void 0?FG[B.interpolation]:Pa,U=[];Ks[L.path]===Ks.weights?S.traverse(function(W){W.morphTargetInfluences&&U.push(W.name?W.name:W.uuid)}):U.push(R);let Z=C.array;if(C.normalized){const W=dx(Z.constructor),J=new Float32Array(Z.length);for(let $=0,ce=Z.length;$<ce;$++)J[$]=Z[$]*W;Z=J}for(let W=0,J=U.length;W<J;W++){const $=new b(U[W]+"."+Ks[L.path],E.array,Z,D);B.interpolation==="CUBICSPLINE"&&($.createInterpolant=function(ue){const I=this instanceof Eo?NG:vB;return new I(this.times,this.values,this.getValueSize()/3,ue)},$.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),_.push($)}}return new uc(r,void 0,_)})}createNodeMesh(e){const t=this.json,i=this,r=t.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(s){const o=i._getNodeRef(i.meshCache,r.mesh,s);return r.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let c=0,d=r.weights.length;c<d;c++)a.morphTargetInfluences[c]=r.weights[c]}),o})}loadNode(e){const t=this.json,i=this,r=t.nodes[e],s=i._loadNodeShallow(e),o=[],a=r.children||[];for(let d=0,f=a.length;d<f;d++)o.push(i.getDependency("node",a[d]));const c=r.skin===void 0?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([s,Promise.all(o),c]).then(function(d){const f=d[0],h=d[1],p=d[2];p!==null&&f.traverse(function(g){g.isSkinnedMesh&&g.bind(p,HG)});for(let g=0,y=h.length;g<y;g++)f.add(h[g]);return f})}_loadNodeShallow(e){const t=this.json,i=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?r.createUniqueName(s.name):"",a=[],c=r._invokeOne(function(d){return d.createNodeMesh&&d.createNodeMesh(e)});return c&&a.push(c),s.camera!==void 0&&a.push(r.getDependency("camera",s.camera).then(function(d){return r._getNodeRef(r.cameraCache,s.camera,d)})),r._invokeAll(function(d){return d.createNodeAttachment&&d.createNodeAttachment(e)}).forEach(function(d){a.push(d)}),this.nodeCache[e]=Promise.all(a).then(function(d){let f;if(s.isBone===!0?f=new Im:d.length>1?f=new Ms:d.length===1?f=d[0]:f=new bt,f!==d[0])for(let h=0,p=d.length;h<p;h++)f.add(d[h]);if(s.name&&(f.userData.name=s.name,f.name=o),eo(f,s),s.extensions&&Zo(i,f,s),s.matrix!==void 0){const h=new st;h.fromArray(s.matrix),f.applyMatrix4(h)}else s.translation!==void 0&&f.position.fromArray(s.translation),s.rotation!==void 0&&f.quaternion.fromArray(s.rotation),s.scale!==void 0&&f.scale.fromArray(s.scale);return r.associations.has(f)||r.associations.set(f,{}),r.associations.get(f).nodes=e,f}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],r=this,s=new Ms;i.name&&(s.name=r.createUniqueName(i.name)),eo(s,i),i.extensions&&Zo(t,s,i);const o=i.nodes||[],a=[];for(let c=0,d=o.length;c<d;c++)a.push(r.getDependency("node",o[c]));return Promise.all(a).then(function(c){for(let f=0,h=c.length;f<h;f++)s.add(c[f]);const d=f=>{const h=new Map;for(const[p,g]of r.associations)(p instanceof Sn||p instanceof Qt)&&h.set(p,g);return f.traverse(p=>{const g=r.associations.get(p);g!=null&&h.set(p,g)}),h};return r.associations=d(s),s})}}function VG(n,e,t){const i=e.attributes,r=new Po;if(i.POSITION!==void 0){const a=t.json.accessors[i.POSITION],c=a.min,d=a.max;if(c!==void 0&&d!==void 0){if(r.set(new F(c[0],c[1],c[2]),new F(d[0],d[1],d[2])),a.normalized){const f=dx(ql[a.componentType]);r.min.multiplyScalar(f),r.max.multiplyScalar(f)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new F,c=new F;for(let d=0,f=s.length;d<f;d++){const h=s[d];if(h.POSITION!==void 0){const p=t.json.accessors[h.POSITION],g=p.min,y=p.max;if(g!==void 0&&y!==void 0){if(c.setX(Math.max(Math.abs(g[0]),Math.abs(y[0]))),c.setY(Math.max(Math.abs(g[1]),Math.abs(y[1]))),c.setZ(Math.max(Math.abs(g[2]),Math.abs(y[2]))),p.normalized){const v=dx(ql[p.componentType]);c.multiplyScalar(v)}a.max(c)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}n.boundingBox=r;const o=new Ro;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,n.boundingSphere=o}function nE(n,e,t){const i=e.attributes,r=[];function s(o,a){return t.getDependency("accessor",o).then(function(c){n.setAttribute(a,c)})}for(const o in i){const a=ux[o]||o.toLowerCase();a in n.attributes||r.push(s(i[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});r.push(o)}return eo(n,e),VG(n,e,t),Promise.all(r).then(function(){return e.targets!==void 0?kG(n,e.targets,t):n})}const xv=new WeakMap;class WG extends mi{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,r){const s=new zi(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(r)},i,r)}decodeDracoFile(e,t,i,r){const s={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const c in t.attributeTypes){const d=t.attributeTypes[c];d.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[c]=d.name)}const i=JSON.stringify(t);if(xv.has(e)){const c=xv.get(e);if(c.key===i)return c.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(c=>(r=c,new Promise((d,f)=>{r._callbacks[s]={resolve:d,reject:f},r.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(c=>this._createGeometry(c.geometry));return a.catch(()=>!0).then(()=>{r&&s&&this._releaseTask(r,s)}),xv.set(e,{key:i,promise:a}),a}_createGeometry(e){const t=new ct;e.index&&t.setIndex(new It(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],s=r.name,o=r.array,a=r.itemSize;t.setAttribute(s,new It(o,a))}return t}_loadLibrary(e,t){const i=new zi(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((r,s)=>{i.load(e,r,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const s=JG.toString(),o=["/* draco decoder */",r,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(s){const o=s.data;switch(o.type){case"decode":r._callbacks[o.id].resolve(o);break;case"error":r._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,s){return r._taskLoad>s._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function JG(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(f){n.onModuleLoaded=function(h){f({draco:h})},DracoDecoderModule(n)});break;case"decode":const c=a.buffer,d=a.taskConfig;e.then(f=>{const h=f.draco,p=new h.Decoder,g=new h.DecoderBuffer;g.Init(new Int8Array(c),c.byteLength);try{const y=t(h,p,g,d),v=y.attributes.map(_=>_.array.buffer);y.index&&v.push(y.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:y},v)}catch(y){console.error(y),self.postMessage({type:"error",id:a.id,error:y.message})}finally{h.destroy(g),h.destroy(p)}});break}};function t(o,a,c,d){const f=d.attributeIDs,h=d.attributeTypes;let p,g;const y=a.GetEncodedGeometryType(c);if(y===o.TRIANGULAR_MESH)p=new o.Mesh,g=a.DecodeBufferToMesh(c,p);else if(y===o.POINT_CLOUD)p=new o.PointCloud,g=a.DecodeBufferToPointCloud(c,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!g.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+g.error_msg());const v={index:null,attributes:[]};for(const _ in f){const w=self[h[_]];let A,S;if(d.useUniqueIDs)S=f[_],A=a.GetAttributeByUniqueId(p,S);else{if(S=a.GetAttributeId(p,o[f[_]]),S===-1)continue;A=a.GetAttribute(p,S)}v.attributes.push(r(o,a,p,_,w,A))}return y===o.TRIANGULAR_MESH&&(v.index=i(o,a,p)),o.destroy(p),v}function i(o,a,c){const f=c.num_faces()*3,h=f*4,p=o._malloc(h);a.GetTrianglesUInt32Array(c,h,p);const g=new Uint32Array(o.HEAPF32.buffer,p,f).slice();return o._free(p),{array:g,itemSize:1}}function r(o,a,c,d,f,h){const p=h.num_components(),y=c.num_points()*p,v=y*f.BYTES_PER_ELEMENT,_=s(o,f),w=o._malloc(v);a.GetAttributeDataArrayForAllPoints(c,h,_,v,w);const A=new f(o.HEAPF32.buffer,w,y).slice();return o._free(w),{name:d,array:A,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let Zh;const _v=()=>{if(Zh)return Zh;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=n;WebAssembly.validate(t)&&(r=e);let s;const o=WebAssembly.instantiate(a(r),{}).then(h=>{s=h.instance,s.exports.__wasm_call_ctors()});function a(h){const p=new Uint8Array(h.length);for(let y=0;y<h.length;++y){const v=h.charCodeAt(y);p[y]=v>96?v-71:v>64?v-65:v>47?v+4:v>46?63:62}let g=0;for(let y=0;y<h.length;++y)p[g++]=p[y]<60?i[p[y]]:(p[y]-60)*64+p[++y];return p.buffer.slice(0,g)}function c(h,p,g,y,v,_){const w=s.exports.sbrk,A=g+3&-4,S=w(A*y),E=w(v.length),C=new Uint8Array(s.exports.memory.buffer);C.set(v,E);const B=h(S,g,y,E,v.length);if(B===0&&_&&_(S,A,y),p.set(C.subarray(S,S+g*y)),w(S-w(0)),B!==0)throw new Error(`Malformed buffer data: ${B}`)}const d={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},f={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Zh={ready:o,supported:!0,decodeVertexBuffer(h,p,g,y,v){c(s.exports.meshopt_decodeVertexBuffer,h,p,g,y,s.exports[d[v]])},decodeIndexBuffer(h,p,g,y){c(s.exports.meshopt_decodeIndexBuffer,h,p,g,y)},decodeIndexSequence(h,p,g,y){c(s.exports.meshopt_decodeIndexSequence,h,p,g,y)},decodeGltfBuffer(h,p,g,y,v,_){c(s.exports[f[v]],h,p,g,y,s.exports[d[_]])}},Zh};let $h=null,yB="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function xB(n,e,t){return i=>{t&&t(i),n&&($h||($h=new WG),$h.setDecoderPath(typeof n=="string"?n:yB),i.setDRACOLoader($h)),e&&i.setMeshoptDecoder(typeof _v=="function"?_v():_v)}}function Um(n,e=!0,t=!0,i){return zd(a1,n,xB(e,t,i))}Um.preload=(n,e=!0,t=!0,i)=>zd.preload(a1,n,xB(e,t,i));Um.clear=n=>zd.clear(a1,n);Um.setDecoderPath=n=>{yB=n};const XG=Y.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:c,...d},f)=>{const h=nr(B=>B.invalidate),p=nr(B=>B.camera),g=nr(B=>B.gl),y=nr(B=>B.events),v=nr(B=>B.setEvents),_=nr(B=>B.set),w=nr(B=>B.get),A=nr(B=>B.performance),S=e||p,E=i||y.connected||g.domElement,C=Y.useMemo(()=>new fG(S),[S]);return r1(()=>{C.enabled&&C.update()},-1),Y.useEffect(()=>(s&&C.connect(s===!0?E:s),C.connect(E),()=>void C.dispose()),[s,E,t,C,h]),Y.useEffect(()=>{const B=R=>{h(),t&&A.regress(),o&&o(R)},L=R=>{a&&a(R)},b=R=>{c&&c(R)};return C.addEventListener("change",B),C.addEventListener("start",L),C.addEventListener("end",b),()=>{C.removeEventListener("start",L),C.removeEventListener("end",b),C.removeEventListener("change",B)}},[o,a,c,C,h,v]),Y.useEffect(()=>{if(n){const B=w().controls;return _({controls:C}),()=>_({controls:B})}},[n,C]),Y.createElement("primitive",fc({ref:f,object:C,enableDamping:r},d))});var _B={exports:{}},qG="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",KG=qG,YG=KG;function wB(){}function AB(){}AB.resetWarningCache=wB;var QG=function(){function n(i,r,s,o,a,c){if(c!==YG){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:AB,resetWarningCache:wB};return t.PropTypes=t,t};_B.exports=QG();var Gm=_B.exports;function ZG({all:n,scene:e,camera:t}){const i=nr(({gl:o})=>o),r=nr(({camera:o})=>o),s=nr(({scene:o})=>o);return Y.useLayoutEffect(()=>{const o=[];n&&(e||s).traverse(d=>{d.visible===!1&&(o.push(d),d.visible=!0)}),i.compile(e||s,t||r);const a=new C_(128);new E_(.01,1e5,a).update(i,e||s),a.dispose(),o.forEach(d=>d.visible=!1)},[]),null}const $G=()=>{const{progress:n}=aG();return P.jsxs(oG,{children:[P.jsx("span",{className:"canvas-load"}),P.jsxs("p",{style:{fontSize:14,color:"#f1f1f1",fontWeight:800,marginTop:40},children:[n.toFixed(2),"%"]})]})},eH=()=>{const n=Um("/prueba4/prueba4.gltf"),e=xx.useRef(null);return r1(({clock:t})=>{const i=t.getElapsedTime();e.current.rotation.y=i}),P.jsxs("mesh",{ref:e,children:[P.jsx("spotLight",{position:[-20,50,10],angle:.12,penumbra:1,intensity:1,castShadow:!0,"shadow-mapSize":1024}),P.jsx("hemisphereLight",{intensity:.15,groundColor:"black"}),P.jsx("pointLight",{intensity:1}),P.jsx("primitive",{object:n.scene,scale:.025,position:[0,0,0],rotation:[0,-.45,0]})]})},tH=()=>P.jsxs(Y4,{shadows:!0,camera:{position:[20,3,5],fov:25},gl:{preserveDrawingBuffer:!0},children:[P.jsxs(Y.Suspense,{fallback:P.jsx($G,{}),children:[P.jsx(XG,{enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),P.jsx(eH,{})]}),P.jsx(ZG,{all:!0})]}),nH=()=>P.jsxs("main",{className:"top-0 mt-10 w-10/12 ",children:[P.jsxs("div",{className:"flex flex-row h-[80vh] justify-center translate-y-[-5rem]",id:"statement",children:[P.jsxs("div",{className:"flex flex-col w-5/12 ml-10 h-3/6 translate-y-[20rem]",children:[P.jsx("h3",{className:"writingTitle text-4xl mb-10 font-semibold italic font-sans",children:"Statement"}),P.jsx("article",{className:"max-w-5xl ml-12",children:P.jsxs("p",{className:"writingBody first-letter:text-4xl text-left text-2xl font-normal",children:["In my artistic work, I feel a persistent attraction towards objects of cultural heritage, where history becomes an emotional connection between the individual and the cultural elements that shape their identity. Through my work, I explore concepts such as the legibility of objects in their process of becoming ruins and the application of techniques from disciplines such as archaeology, museum conservation, and digital transformations.",P.jsx("br",{}),P.jsx("br",{}),"My main focus is to work on projects that materialize into sculptures and installations. Allowing formal exploration and studio work to guide me towards unexpected paths, different from what I originally planned, is essential to me. In this sense, mystery acts as a stimulus to investigate and develop new perspectives, while maintaining a sensitivity that preserves blind spots against overly literal interpretations."]})})]}),P.jsx("div",{className:"w-6/12",children:P.jsx(tH,{})})]}),P.jsxs("div",{className:"mx-12",id:"heeee",children:[P.jsxs("div",{className:"h-[80vh] flex flex-row mb-20",children:[P.jsx("div",{className:"w-6/12 h-6/6 flex justify-end items-center"}),P.jsx("div",{className:"w-6/12 h-6/6 flex justify-start items-center",children:P.jsx("h2",{className:"text-7xl -translate-y-5",children:"HEEEE"})})]}),P.jsxs("div",{className:"h-[80vh] flex flex-row mb-20",children:[P.jsx("div",{className:"w-6/12 h-6/6",children:P.jsx("img",{src:"imgs\\HEEEE\\HEEEE-9compressed.webp",alt:"foto de la obra HEEEE",title:"HEEEE 1 de 4 ",className:"w-full h-full object-contain"})}),P.jsxs("div",{className:"w-6/12 h-6/6 flex flex-col justify-center",children:[P.jsx("img",{src:"imgs\\HEEEE\\HEEEE-16compressed.webp",alt:"foto de la obra HEEEE",title:"HEEEE 2 de 4 ",className:"w-full h-auto object-contain mb-8"}),P.jsxs("p",{className:"w-5/12 h-auto ml-20 text-start",children:['In "HEEEE", I explore various denaturalized heritage elements from the city of Valencia by equating written language with visual language and bringing them closer to the concept of illegibility present in ruins.',P.jsx("br",{}),P.jsx("br",{}),"This artwork is part of the exhibition “PAMPAM!”, an award organized by the Master’s in Artistic Production at the Polytechnic University of Valencia."]})]})]}),P.jsxs("div",{className:"h-[80vh] flex flex-row mb-20",children:[P.jsx("div",{className:"w-6/12 h-6/6",children:P.jsx("img",{src:"imgs\\HEEEE\\HEEEE-6compressed.webp",alt:"foto de la obra HEEEE",title:"HEEEE 3 de 4 ",className:"w-full h-full object-contain"})}),P.jsxs("div",{className:"w-6/12 h-6/6 flex flex-col justify-center",children:[P.jsx("img",{src:"imgs\\HEEEE\\HEEEE-1compressed.webp",alt:"foto de la obra HEEEE",title:"HEEEE 4 de 4 ",className:"w-full h-auto object-contain mb-8"}),P.jsxs("div",{className:"w-5/12 h-auto ml-20 text-start",children:[P.jsx("h4",{className:"font-bold mb-2",children:" HEEEE, 2018"}),P.jsxs("p",{children:["Polystyrene, steel mesh, aluminum, plaster, glass ",P.jsx("br",{}),"600x300x430 cm. ",P.jsx("br",{}),"Reales Atarazanas de Valencia"]})]})]})]})]}),P.jsxs("div",{className:"mx-12",id:"sinvuestrohierrocaerialanoche",children:[P.jsxs("div",{className:"h-[80vh] flex flex-row mb-20",children:[P.jsx("div",{className:"w-6/12 h-6/6"}),P.jsx("div",{className:"w-6/12 h-6/6 flex justify-start items-center",children:P.jsx("h2",{className:"text-6xl -translate-y-5 whitespace-nowrap",children:"Sin vuestro hierro caería la noche"})})]}),P.jsxs("div",{className:"h-[80vh] flex flex-row mb-20",children:[P.jsx("div",{className:"w-6/12 h-6/6",children:P.jsxs("p",{className:"w-5/12 h-auto ml-20 mt-24 text-start",children:["In collaboration with the Zamora Museum, I sought to establish a dialogue with the preserved heritage objects there to reflect on aspects as museological assembly and the archaeological site. My research and search for guidance focused on reproducing ceramic production techniques from the Paleolithic era. ",P.jsx("br",{}),P.jsx("br",{}),"Additionally, I created drawings using a drawbot and combined them with steel plates, thus merging elements of technical blueprint drawings with oil stains."]})}),P.jsx("div",{className:"w-6/12 h-6/6",children:P.jsx("img",{src:"imgs\\sinvuestrohierrocaerialanoche\\sin vuestro hierro-15.webp",alt:"foto de la obra Sin vuestro hierro caería la noche",title:"Sin vuestro hierro caería la noche 1 de 4 ",className:"w-full h-full object-contain"})})]}),P.jsxs("div",{className:"h-[80vh] flex flex-row mb-20",children:[P.jsx("div",{className:"w-6/12 h-6/6",children:P.jsx("img",{src:"imgs\\sinvuestrohierrocaerialanoche\\sin-vuestro-hierro-23.webp",alt:"foto de la obra Sin vuestro hierro caería la noche",title:"Sin vuestro hierro caería la noche 2 de 4 ",className:"w-full h-full object-contain ml-10"})}),P.jsx("div",{className:"w-6/12 h-6/6",children:P.jsx("img",{src:"imgs\\sinvuestrohierrocaerialanoche\\sin-vuestro-hierro-20.webp",alt:"foto de la obra Sin vuestro hierro caería la noche",title:"Sin vuestro hierro caería la noche 2 de 4 ",className:"w-full h-full object-contain -ml-10"})})]}),P.jsx("div",{className:"h-[80vh] flex flex-row mb-20",children:P.jsx("img",{src:"imgs\\sinvuestrohierrocaerialanoche\\sin vuestro hierro-14.webp",alt:"foto de la obra Sin vuestro hierro caería la noche",title:"Sin vuestro hierro caería la noche 2 de 4 ",className:"w-full h-full object-contain"})}),P.jsxs("div",{className:"h-[80vh] flex flex-row mb-20",children:[P.jsx("div",{className:"w-6/12 h-6/6",children:P.jsx("img",{src:"imgs\\sinvuestrohierrocaerialanoche\\sin vuestro hierro-3.webp",alt:"foto de la obra Sin vuestro hierro caería la noche",title:"Sin vuestro hierro caería la noche 2 de 4 ",className:"w-11/12 h-full object-contain"})}),P.jsxs("div",{className:"w-6/12 h-6/6 flex flex-col justify-between",children:[P.jsx("div",{className:"w-auto h-[45%] flex flex-row justify-end",children:P.jsx("img",{src:"imgs\\sinvuestrohierrocaerialanoche\\sin vuestro hierro-5.webp",alt:"foto de la obra Sin vuestro hierro caería la noche",title:"Sin vuestro hierro caería la noche 2 de 4 ",className:" object-contain"})}),P.jsx("div",{className:"w-11/12 h-[45%] flex flex-row justify-start",children:P.jsx("img",{src:"imgs\\sinvuestrohierrocaerialanoche\\sin vuestro hierro-9.webp",alt:"foto de la obra Sin vuestro hierro caería la noche",title:"Sin vuestro hierro caería la noche 2 de 4 ",className:"object-contain"})})]})]}),P.jsxs("div",{className:"h-[80vh] flex flex-row mb-20",children:[P.jsxs("div",{className:"w-6/12 h-6/6 flex flex-col justify-center",children:[P.jsx("img",{src:"imgs\\sinvuestrohierrocaerialanoche\\sin-vuestro-hierro-32.webp",alt:"foto de la obra HEEEE",title:"HEEEE 2 de 4 ",className:"w-full h-auto object-contain mb-8"}),P.jsxs("div",{className:"w-5/12 h-auto ml-20 text-start",children:[P.jsx("h4",{className:"font-bold mb-2",children:"Sin vuestro hierro caería la noche, 2019"}),P.jsxs("p",{children:["Ceramics, steel, tracing paper, vegetable oil ",P.jsx("br",{}),"600x300x430 cm. ",P.jsx("br",{}),"Museo de Zamora"]})]})]}),P.jsx("div",{className:"w-6/12 h-6/6 flex justify-center",children:P.jsx("img",{src:"imgs\\sinvuestrohierrocaerialanoche\\sin-vuestro-hierro-34.webp",alt:"foto de la obra Sin vuestro hierro caería la noche",title:"Sin vuestro hierro caería la noche 2 de 4 ",className:"w-12/12 h-full object-contain"})})]})]}),P.jsxs("div",{className:"mx-12",id:"escombroyruina",children:[P.jsxs("div",{className:"h-[80vh] flex flex-row mb-20 ",children:[P.jsx("div",{className:"w-6/12 h-6/6  "}),P.jsx("div",{className:"w-6/12 h-6/6  flex justify-start items-center",children:P.jsx("h2",{className:"text-6xl -translate-y-5 whitespace-nowrap",children:"Escombro y Ruina"})})]}),P.jsxs("div",{className:"h-[80vh] flex flex-row mb-20",children:[P.jsx("div",{className:"w-6/12 h-6/6 ",children:P.jsx("img",{src:"imgs\\escombroyruina\\IMG_7182 (1).webp",alt:"foto de la obra Sin vuestro hierro caería la noche",title:"Sin vuestro hierro caería la noche 2 de 4 ",className:"w-7/12 object-contain"})}),P.jsxs("div",{className:"w-6/12 h-6/6 flex flex-col justify-center",children:[P.jsx("img",{src:"imgs\\escombroyruina\\IMG_7289 2 (1).webp",alt:"foto de la obra HEEEE",title:"HEEEE 2 de 4 ",className:"w-full h-auto object-contain  mb-8"}),P.jsxs("div",{className:"w-5/12 h-auto ml-20 text-start",children:[P.jsx("h4",{className:"font-bold mb-2",children:"Escombro y ruina, 2017"}),P.jsxs("p",{children:["ABS plastic, plaster, lightbox, backlit canvas ",P.jsx("br",{}),"230x327x172 cm. ",P.jsx("br",{}),"Facultad de Bellas Artes de Valencia"]})]})]})]})]}),P.jsxs("div",{className:" mx-12",id:"funda",children:[P.jsxs("div",{className:"h-[80vh] flex flex-row mb-20 ",children:[P.jsx("div",{className:"w-6/12 h-6/6  "}),P.jsx("div",{className:"w-6/12 h-6/6 flex justify-start items-center",children:P.jsx("h2",{className:"text-6xl -translate-y-5 whitespace-nowrap",children:"Funda"})})]}),P.jsxs("div",{className:"h-[80vh] flex flex-row mb-20",children:[P.jsxs("div",{className:"w-6/12 h-6/6 flex flex-col justify-center",children:[P.jsx("img",{src:"imgs\\funda\\funda-2.webp",alt:"foto de la obra HEEEE",title:"HEEEE 2 de 4 ",className:"w-11/12 h-auto object-contain mb-8"}),P.jsxs("div",{className:"w-5/12 h-auto ml-20 text-start",children:[P.jsx("h4",{className:"font-bold mb-2",children:"Funda, 2018"}),P.jsxs("p",{children:["A5 publication",P.jsx("br",{}),P.jsx("a",{href:`https://www.dropbox.com/\r
s/2rb7cyevli6gsaa/funda.pdf?dl=0)`,className:"font-semibold",target:"_blank",children:"Download"})]})]})]}),P.jsxs("div",{className:"w-6/12 h-6/6  flex flex-col justify-between",children:[P.jsx("div",{className:"w-auto h-[50%] flex flex-row justify-end",children:P.jsx("img",{src:"imgs\\funda\\funda-4.webp",alt:"foto de la obra Sin vuestro hierro caería la noche",title:"Sin vuestro hierro caería la noche 2 de 4 ",className:" object-contain"})}),P.jsx("div",{className:"w-11/12 h-[35%] flex flex-row justify-start",children:P.jsx("img",{src:"imgs\\funda\\funda-3.webp",alt:"foto de la obra Sin vuestro hierro caería la noche",title:"Sin vuestro hierro caería la noche 2 de 4 ",className:"object-contain"})})]})]})]}),P.jsxs("div",{className:" mx-12",id:"bilbaoarteresidency",children:[P.jsxs("div",{className:"h-[80vh] flex flex-row mb-20 ",children:[P.jsx("div",{className:"w-6/12 h-6/6  "}),P.jsx("div",{className:"w-6/12 h-6/6 flex justify-start items-center",children:P.jsx("h2",{className:"text-6xl -translate-y-5 whitespace-nowrap",children:"Bilbaoarte residency"})})]}),P.jsxs("div",{className:"h-[80vh] flex flex-row mb-20",children:[P.jsxs("div",{className:"w-6/12 h-6/6 flex flex-col justify-between",children:[P.jsx("div",{className:"w-auto h-[45%] flex flex-row justify-start",children:P.jsx("img",{src:"imgs\\bilbaoarteresidency\\bilbaoarte-2.webp",alt:"foto de la obra Sin vuestro hierro caería la noche",title:"Sin vuestro hierro caería la noche 2 de 4 ",className:" object-contain"})}),P.jsxs("div",{className:"flex flex-row h-[35%] w-full",children:[P.jsxs("div",{className:"w-5/12 h-auto ml-20 text-start",children:[P.jsx("h4",{className:"font-bold mb-2 whitespace-nowrap",children:"Open doors, residence at Bilbaoarte, 2018"}),P.jsxs("p",{className:"whitespace-nowrap",children:["Glazed ceramics, printed photography, ",P.jsx("br",{}),"cement, earth, pine wood, polyester resin ",P.jsx("br",{}),"450x325x195 cm. ",P.jsx("br",{}),"Bilbaoarte"]})]}),P.jsx("div",{className:"w-auto h-[100%] flex flex-row justify-end",children:P.jsx("img",{src:"imgs\\bilbaoarteresidency\\bilbaoarte-5.webp",alt:"foto de la obra Sin vuestro hierro caería la noche",title:"Sin vuestro hierro caería la noche 2 de 4 ",className:"object-contain"})})]})]}),P.jsx("div",{className:"w-6/12 h-6/6 flex justify-end",children:P.jsx("img",{src:"imgs\\bilbaoarteresidency\\bilbaoarte-16.webp",alt:"foto de la obra Sin vuestro hierro caería la noche",title:"Sin vuestro hierro caería la noche 2 de 4 ",className:"w-11/12 h-full object-contain"})})]})]}),P.jsxs("div",{className:"mx-12",id:"untodoahora",children:[P.jsxs("div",{className:"h-[80vh] flex flex-row mb-20",children:[P.jsx("div",{className:"w-6/12 h-6/6 "}),P.jsx("div",{className:"w-6/12 h-6/6  flex justify-start items-center",children:P.jsx("h2",{className:"text-6xl -translate-y-5 whitespace-nowrap",children:"Un todo ahora"})})]}),P.jsxs("div",{className:"h-[80vh] flex flex-row mb-20",children:[P.jsx("div",{className:"w-3/12 h-6/6 flex flex-row justify-start",children:P.jsxs("p",{className:"w-9/12 h-auto mt-[3.7rem] ml-20",children:["“Un Todo Ahora” was the exhibition that marked the inauguration of the Saceca space in Valencia. This artistic proposal was a collaboration between the artist Carlos Peris and myself, in which we explored an extensive archive of sculptural digitizations from various eras and cultures. ",P.jsx("br",{}),P.jsx("br",{}),"Through the use of 3D printing, we carried out reproductions and copies on molds, aiming to investigate how the digital footprint endures in these processes of translation to different languages and materials. ",P.jsx("br",{}),P.jsx("br",{}),"“Un Todo Ahora” opens a field of research that brings together themes such as museum display and conservation, material substitution, copying, and deception."]})}),P.jsx("div",{className:"w-9/12 h-6/6",children:P.jsx("img",{src:"imgs\\untodoahora\\_GH_4838 (1).webp",alt:"foto de la obra Sin vuestro hierro caería la noche",title:"Sin vuestro hierro caería la noche 2 de 4 ",className:"w-12/12 h-full object-contain"})})]}),P.jsxs("div",{className:"h-[80vh] flex flex-row mb-20",children:[P.jsx("div",{className:"w-6/12 h-6/6",children:P.jsx("img",{src:"imgs\\untodoahora\\_GH_4913 (1).webp",alt:"foto de la obra Sin vuestro hierro caería la noche",title:"Sin vuestro hierro caería la noche 2 de 4 ",className:"w-11/12 h-full object-contain"})}),P.jsx("div",{className:"w-6/12 h-6/6 flex justify-end",children:P.jsx("img",{src:"imgs\\untodoahora\\_GH_4804 (1).webp",alt:"foto de la obra Sin vuestro hierro caería la noche",title:"Sin vuestro hierro caería la noche 2 de 4 ",className:"w-11/12 h-full object-contain"})})]}),P.jsx("div",{className:"h-[80vh] flex flex-row mb-20",children:P.jsx("img",{src:"imgs\\untodoahora\\_GH_4730 (1).webp",alt:"foto de la obra Sin vuestro hierro caería la noche",title:"Sin vuestro hierro caería la noche 2 de 4 ",className:"w-full h-full object-contain"})}),P.jsxs("div",{className:"h-[80vh] flex flex-row mb-20",children:[P.jsxs("div",{className:"w-6/12 h-6/6 flex flex-col justify-between",children:[P.jsx("div",{className:"w-auto h-[45%] flex flex-row justify-start",children:P.jsx("img",{src:"imgs\\untodoahora\\_GH_4936 (1).webp",alt:"foto de la obra Sin vuestro hierro caería la noche",title:"Sin vuestro hierro caería la noche 2 de 4 ",className:" object-contain"})}),P.jsxs("div",{className:"flex flex-row h-[35%] w-full",children:[P.jsxs("div",{className:"w-5/12 h-auto ml-20 text-start",children:[P.jsx("h4",{className:"font-bold mb-2 whitespace-nowrap",children:"Un todo ahora, 2021"}),P.jsxs("p",{className:"whitespace-nowrap",children:["Polystyrene, printed PLA, plaster, steel ",P.jsx("br",{}),"1730x932x356 cm. ",P.jsx("br",{}),"Saceca, Sagunto (Valencia)"]})]}),P.jsx("div",{className:"w-auto h-[100%] flex flex-row justify-end",children:P.jsx("img",{src:"imgs\\untodoahora\\_GH_4795 (1).webp",alt:"foto de la obra Sin vuestro hierro caería la noche",title:"Sin vuestro hierro caería la noche 2 de 4 ",className:"object-contain"})})]})]}),P.jsx("div",{className:"w-6/12 h-6/6 flex justify-end",children:P.jsx("img",{src:"imgs\\untodoahora\\_GH_4821 (1).webp",alt:"foto de la obra Sin vuestro hierro caería la noche",title:"Sin vuestro hierro caería la noche 2 de 4 ",className:"w-11/12 h-full object-contain"})})]})]}),P.jsxs("div",{className:"mx-12",id:"unperfumesinsoporteungastopuro",children:[P.jsxs("div",{className:"h-[80vh] flex flex-row mb-20",children:[P.jsx("div",{className:"w-6/12 h-6/6"}),P.jsx("div",{className:"w-6/12 h-6/6 flex justify-start items-center",children:P.jsx("h2",{className:"text-5xl -translate-y-5 whitespace-nowrap",children:"Un perfume sin soporte un gasto puro"})})]}),P.jsxs("div",{className:"h-[80vh] flex flex-row mb-20",children:[P.jsx("div",{className:"w-6/12 h-6/6",children:P.jsx("img",{src:"imgs\\unperfumesinsoporteungastopuro\\Un perfume sin soporte, un gasto puro-26.webp",alt:"foto de la obra Sin vuestro hierro caería la noche",title:"Sin vuestro hierro caería la noche 1 de 4 ",className:"w-full h-full object-contain"})}),P.jsxs("div",{className:"w-6/12 h-6/6 flex flex-col justify-center",children:[P.jsx("img",{src:"imgs\\unperfumesinsoporteungastopuro\\Un perfume sin soporte, un gasto puro-2.webp",alt:"foto de la obra HEEEE",title:"HEEEE 2 de 4 ",className:"w-full h-auto object-contain mb-8"}),P.jsxs("p",{className:"w-[51%] h-auto ml-20 text-start",children:["“Un perfume sin soporte, un gasto puro” was a duo collaboration I conducted with the artist Marina González Guerreiro at the Estrany de la Mota gallery for the Blueproject Foundation. The exhibition became a meeting point of our shared personal journey as artists.",P.jsx("br",{}),P.jsx("br",{}),"For this show, I dedicated myself to creating a series of steel sculptures and a series of works called “Derrame.” These sculptures, resembling steel canvases, incorporated material from other melted metals onto their surface, subjecting the objects to the violence of metallurgical processes that leave a trace and receive these incidents in a pictorial way."]})]})]}),P.jsxs("div",{className:"h-[80vh] flex flex-row mb-20",children:[P.jsx("div",{className:"w-6/12 h-6/6",children:P.jsx("img",{src:"imgs\\unperfumesinsoporteungastopuro\\Un perfume sin soporte, un gasto puro-24.webp",alt:"foto de la obra Sin vuestro hierro caería la noche",title:"Sin vuestro hierro caería la noche 1 de 4 ",className:"w-full h-full object-contain ml-10"})}),P.jsx("div",{className:"w-6/12 h-6/6",children:P.jsx("img",{src:"imgs\\unperfumesinsoporteungastopuro\\Un perfume sin soporte, un gasto puro-13.webp",alt:"foto de la obra Sin vuestro hierro caería la noche",title:"Sin vuestro hierro caería la noche 1 de 4 ",className:"w-full h-full object-contain -ml-10"})})]}),P.jsxs("div",{className:"h-[80vh] flex flex-row mb-20",children:[P.jsx("div",{className:"w-6/12 h-6/6",children:P.jsx("img",{src:"imgs\\unperfumesinsoporteungastopuro\\Un perfume sin soporte, un gasto puro-30.webp",alt:"foto de la obra Sin vuestro hierro caería la noche",title:"Sin vuestro hierro caería la noche 2 de 4 ",className:"w-full h-full object-contain"})}),P.jsx("div",{className:"w-6/12 h-6/6",children:P.jsx("img",{src:"imgs\\unperfumesinsoporteungastopuro\\Un perfume sin soporte, un gasto puro-9.webp",alt:"foto de la obra Sin vuestro hierro caería la noche",title:"Sin vuestro hierro caería la noche 1 de 4 ",className:"w-full h-full object-contain"})})]}),P.jsxs("div",{className:"h-[80vh] flex flex-row mb-20",children:[P.jsx("div",{className:"w-6/12 h-6/6",children:P.jsx("img",{src:"imgs\\unperfumesinsoporteungastopuro\\Un perfume sin soporte, un gasto puro-25.webp",alt:"foto de la obra Sin vuestro hierro caería la noche",title:"Sin vuestro hierro caería la noche 1 de 4 ",className:"w-full h-full object-contain"})}),P.jsxs("div",{className:"w-6/12 h-6/6 flex flex-col justify-center",children:[P.jsx("img",{src:"imgs\\unperfumesinsoporteungastopuro\\Un perfume sin soporte, un gasto puro-3.webp",alt:"foto de la obra HEEEE",title:"HEEEE 2 de 4 ",className:"w-full h-auto object-contain mb-8"}),P.jsxs("div",{className:"w-5/12 h-auto ml-20 text-start mb-8",children:[P.jsx("h4",{className:"font-bold mb-2",children:"Un perfume sin soporte, un gasto puro, 2023"}),P.jsx("p",{children:"Steel, copper, brass, nickel, cotton, printed PLA"})]}),P.jsxs("div",{className:"w-5/12 h-auto ml-20 text-start mb-8",children:[P.jsx("h4",{className:"font-bold mb-2",children:"Derrame series, 2023"}),P.jsxs("p",{children:["Metal canvases ",P.jsx("br",{}),"various sizes, ranging from 100x66 cm to 30x20 cm."]})]}),P.jsx("div",{className:"w-5/12 h-auto ml-20 text-start mb-8",children:P.jsx("p",{children:"Estrany de la Mota Gallery, Barcelona"})})]})]})]}),P.jsx("section",{className:"pseudoFooter h-28 w-full"})]});var dn={},l1={},Gd={},Hd={},SB="Expected a function",iE=0/0,iH="[object Symbol]",rH=/^\s+|\s+$/g,sH=/^[-+]0x[0-9a-f]+$/i,oH=/^0b[01]+$/i,aH=/^0o[0-7]+$/i,lH=parseInt,cH=typeof Wf=="object"&&Wf&&Wf.Object===Object&&Wf,uH=typeof self=="object"&&self&&self.Object===Object&&self,dH=cH||uH||Function("return this")(),fH=Object.prototype,hH=fH.toString,pH=Math.max,mH=Math.min,wv=function(){return dH.Date.now()};function gH(n,e,t){var i,r,s,o,a,c,d=0,f=!1,h=!1,p=!0;if(typeof n!="function")throw new TypeError(SB);e=rE(e)||0,om(t)&&(f=!!t.leading,h="maxWait"in t,s=h?pH(rE(t.maxWait)||0,e):s,p="trailing"in t?!!t.trailing:p);function g(B){var L=i,b=r;return i=r=void 0,d=B,o=n.apply(b,L),o}function y(B){return d=B,a=setTimeout(w,e),f?g(B):o}function v(B){var L=B-c,b=B-d,R=e-L;return h?mH(R,s-b):R}function _(B){var L=B-c,b=B-d;return c===void 0||L>=e||L<0||h&&b>=s}function w(){var B=wv();if(_(B))return A(B);a=setTimeout(w,v(B))}function A(B){return a=void 0,p&&i?g(B):(i=r=void 0,o)}function S(){a!==void 0&&clearTimeout(a),d=0,i=c=r=a=void 0}function E(){return a===void 0?o:A(wv())}function C(){var B=wv(),L=_(B);if(i=arguments,r=this,c=B,L){if(a===void 0)return y(c);if(h)return a=setTimeout(w,e),g(c)}return a===void 0&&(a=setTimeout(w,e)),o}return C.cancel=S,C.flush=E,C}function vH(n,e,t){var i=!0,r=!0;if(typeof n!="function")throw new TypeError(SB);return om(t)&&(i="leading"in t?!!t.leading:i,r="trailing"in t?!!t.trailing:r),gH(n,e,{leading:i,maxWait:e,trailing:r})}function om(n){var e=typeof n;return!!n&&(e=="object"||e=="function")}function yH(n){return!!n&&typeof n=="object"}function xH(n){return typeof n=="symbol"||yH(n)&&hH.call(n)==iH}function rE(n){if(typeof n=="number")return n;if(xH(n))return iE;if(om(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=om(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=n.replace(rH,"");var t=oH.test(n);return t||aH.test(n)?lH(n.slice(2),t?2:8):sH.test(n)?iE:+n}var _H=vH,jd={};Object.defineProperty(jd,"__esModule",{value:!0});jd.addPassiveEventListener=function(e,t,i){var r=function(){var s=!1;try{var o=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("test",null,o)}catch{}return s}();e.addEventListener(t,i,r?{passive:!0}:!1)};jd.removePassiveEventListener=function(e,t,i){e.removeEventListener(t,i)};Object.defineProperty(Hd,"__esModule",{value:!0});var wH=_H,AH=MH(wH),SH=jd;function MH(n){return n&&n.__esModule?n:{default:n}}var EH=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:66;return(0,AH.default)(e,t)},$t={spyCallbacks:[],spySetState:[],scrollSpyContainers:[],mount:function(e,t){if(e){var i=EH(function(r){$t.scrollHandler(e)},t);$t.scrollSpyContainers.push(e),(0,SH.addPassiveEventListener)(e,"scroll",i)}},isMounted:function(e){return $t.scrollSpyContainers.indexOf(e)!==-1},currentPositionX:function(e){if(e===document){var t=window.pageYOffset!==void 0,i=(document.compatMode||"")==="CSS1Compat";return t?window.pageXOffset:i?document.documentElement.scrollLeft:document.body.scrollLeft}else return e.scrollLeft},currentPositionY:function(e){if(e===document){var t=window.pageXOffset!==void 0,i=(document.compatMode||"")==="CSS1Compat";return t?window.pageYOffset:i?document.documentElement.scrollTop:document.body.scrollTop}else return e.scrollTop},scrollHandler:function(e){var t=$t.scrollSpyContainers[$t.scrollSpyContainers.indexOf(e)].spyCallbacks||[];t.forEach(function(i){return i($t.currentPositionX(e),$t.currentPositionY(e))})},addStateHandler:function(e){$t.spySetState.push(e)},addSpyHandler:function(e,t){var i=$t.scrollSpyContainers[$t.scrollSpyContainers.indexOf(t)];i.spyCallbacks||(i.spyCallbacks=[]),i.spyCallbacks.push(e),e($t.currentPositionX(t),$t.currentPositionY(t))},updateStates:function(){$t.spySetState.forEach(function(e){return e()})},unmount:function(e,t){$t.scrollSpyContainers.forEach(function(i){return i.spyCallbacks&&i.spyCallbacks.length&&i.spyCallbacks.indexOf(t)>-1&&i.spyCallbacks.splice(i.spyCallbacks.indexOf(t),1)}),$t.spySetState&&$t.spySetState.length&&$t.spySetState.indexOf(e)>-1&&$t.spySetState.splice($t.spySetState.indexOf(e),1),document.removeEventListener("scroll",$t.scrollHandler)},update:function(){return $t.scrollSpyContainers.forEach(function(e){return $t.scrollHandler(e)})}};Hd.default=$t;var Ec={},Vd={};Object.defineProperty(Vd,"__esModule",{value:!0});var CH=function(e,t){var i=e.indexOf("#")===0?e.substring(1):e,r=i?"#"+i:"",s=window&&window.location,o=r?s.pathname+s.search+r:s.pathname+s.search;t?history.pushState(history.state,"",o):history.replaceState(history.state,"",o)},bH=function(){return window.location.hash.replace(/^#/,"")},TH=function(e){return function(t){return e.contains?e!=t&&e.contains(t):!!(e.compareDocumentPosition(t)&16)}},BH=function(e){return getComputedStyle(e).position!=="static"},Av=function(e,t){for(var i=e.offsetTop,r=e.offsetParent;r&&!t(r);)i+=r.offsetTop,r=r.offsetParent;return{offsetTop:i,offsetParent:r}},PH=function(e,t,i){if(i)return e===document?t.getBoundingClientRect().left+(window.scrollX||window.pageXOffset):getComputedStyle(e).position!=="static"?t.offsetLeft:t.offsetLeft-e.offsetLeft;if(e===document)return t.getBoundingClientRect().top+(window.scrollY||window.pageYOffset);if(BH(e)){if(t.offsetParent!==e){var r=function(f){return f===e||f===document},s=Av(t,r),o=s.offsetTop,a=s.offsetParent;if(a!==e)throw new Error("Seems containerElement is not an ancestor of the Element");return o}return t.offsetTop}if(t.offsetParent===e.offsetParent)return t.offsetTop-e.offsetTop;var c=function(f){return f===document};return Av(t,c).offsetTop-Av(e,c).offsetTop};Vd.default={updateHash:CH,getHash:bH,filterElementInContainer:TH,scrollOffset:PH};var Hm={},c1={};Object.defineProperty(c1,"__esModule",{value:!0});c1.default={defaultEasing:function(e){return e<.5?Math.pow(e*2,2)/2:1-Math.pow((1-e)*2,2)/2},linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}};var u1={};Object.defineProperty(u1,"__esModule",{value:!0});var RH=jd,LH=["mousedown","mousewheel","touchmove","keydown"];u1.default={subscribe:function(e){return typeof document<"u"&&LH.forEach(function(t){return(0,RH.addPassiveEventListener)(document,t,e)})}};var Wd={};Object.defineProperty(Wd,"__esModule",{value:!0});var fx={registered:{},scrollEvent:{register:function(e,t){fx.registered[e]=t},remove:function(e){fx.registered[e]=null}}};Wd.default=fx;Object.defineProperty(Hm,"__esModule",{value:!0});var IH=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},DH=Vd;jm(DH);var NH=c1,sE=jm(NH),FH=u1,OH=jm(FH),kH=Wd,Hr=jm(kH);function jm(n){return n&&n.__esModule?n:{default:n}}var MB=function(e){return sE.default[e.smooth]||sE.default.defaultEasing},zH=function(e){return typeof e=="function"?e:function(){return e}},UH=function(){if(typeof window<"u")return window.requestAnimationFrame||window.webkitRequestAnimationFrame},hx=function(){return UH()||function(n,e,t){window.setTimeout(n,t||1e3/60,new Date().getTime())}}(),EB=function(){return{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null}},CB=function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollLeft;var i=window.pageXOffset!==void 0,r=(document.compatMode||"")==="CSS1Compat";return i?window.pageXOffset:r?document.documentElement.scrollLeft:document.body.scrollLeft},bB=function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollTop;var i=window.pageXOffset!==void 0,r=(document.compatMode||"")==="CSS1Compat";return i?window.pageYOffset:r?document.documentElement.scrollTop:document.body.scrollTop},GH=function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollWidth-t.offsetWidth;var i=document.body,r=document.documentElement;return Math.max(i.scrollWidth,i.offsetWidth,r.clientWidth,r.scrollWidth,r.offsetWidth)},HH=function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollHeight-t.offsetHeight;var i=document.body,r=document.documentElement;return Math.max(i.scrollHeight,i.offsetHeight,r.clientHeight,r.scrollHeight,r.offsetHeight)},jH=function n(e,t,i){var r=t.data;if(!t.ignoreCancelEvents&&r.cancel){Hr.default.registered.end&&Hr.default.registered.end(r.to,r.target,r.currentPositionY);return}if(r.delta=Math.round(r.targetPosition-r.startPosition),r.start===null&&(r.start=i),r.progress=i-r.start,r.percent=r.progress>=r.duration?1:e(r.progress/r.duration),r.currentPosition=r.startPosition+Math.ceil(r.delta*r.percent),r.containerElement&&r.containerElement!==document&&r.containerElement!==document.body?t.horizontal?r.containerElement.scrollLeft=r.currentPosition:r.containerElement.scrollTop=r.currentPosition:t.horizontal?window.scrollTo(r.currentPosition,0):window.scrollTo(0,r.currentPosition),r.percent<1){var s=n.bind(null,e,t);hx.call(window,s);return}Hr.default.registered.end&&Hr.default.registered.end(r.to,r.target,r.currentPosition)},d1=function(e){e.data.containerElement=e?e.containerId?document.getElementById(e.containerId):e.container&&e.container.nodeType?e.container:document:null},Jd=function(e,t,i,r){if(t.data=t.data||EB(),window.clearTimeout(t.data.delayTimeout),OH.default.subscribe(function(){t.data.cancel=!0}),d1(t),t.data.start=null,t.data.cancel=!1,t.data.startPosition=t.horizontal?CB(t):bB(t),t.data.targetPosition=t.absolute?e:e+t.data.startPosition,t.data.startPosition===t.data.targetPosition){Hr.default.registered.end&&Hr.default.registered.end(t.data.to,t.data.target,t.data.currentPosition);return}t.data.delta=Math.round(t.data.targetPosition-t.data.startPosition),t.data.duration=zH(t.duration)(t.data.delta),t.data.duration=isNaN(parseFloat(t.data.duration))?1e3:parseFloat(t.data.duration),t.data.to=i,t.data.target=r;var s=MB(t),o=jH.bind(null,s,t);if(t&&t.delay>0){t.data.delayTimeout=window.setTimeout(function(){Hr.default.registered.begin&&Hr.default.registered.begin(t.data.to,t.data.target),hx.call(window,o)},t.delay);return}Hr.default.registered.begin&&Hr.default.registered.begin(t.data.to,t.data.target),hx.call(window,o)},Vm=function(e){return e=IH({},e),e.data=e.data||EB(),e.absolute=!0,e},VH=function(e){Jd(0,Vm(e))},WH=function(e,t){Jd(e,Vm(t))},JH=function(e){e=Vm(e),d1(e),Jd(e.horizontal?GH(e):HH(e),e)},XH=function(e,t){t=Vm(t),d1(t);var i=t.horizontal?CB(t):bB(t);Jd(e+i,t)};Hm.default={animateTopScroll:Jd,getAnimationType:MB,scrollToTop:VH,scrollToBottom:JH,scrollTo:WH,scrollMore:XH};Object.defineProperty(Ec,"__esModule",{value:!0});var qH=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},KH=Vd,YH=f1(KH),QH=Hm,ZH=f1(QH),$H=Wd,ep=f1($H);function f1(n){return n&&n.__esModule?n:{default:n}}var tp={},oE=void 0;Ec.default={unmount:function(){tp={}},register:function(e,t){tp[e]=t},unregister:function(e){delete tp[e]},get:function(e){return tp[e]||document.getElementById(e)||document.getElementsByName(e)[0]||document.getElementsByClassName(e)[0]},setActiveLink:function(e){return oE=e},getActiveLink:function(){return oE},scrollTo:function(e,t){var i=this.get(e);if(!i){console.warn("target Element not found");return}t=qH({},t,{absolute:!1});var r=t.containerId,s=t.container,o=void 0;r?o=document.getElementById(r):s&&s.nodeType?o=s:o=document,t.absolute=!0;var a=t.horizontal,c=YH.default.scrollOffset(o,i,a)+(t.offset||0);if(!t.smooth){ep.default.registered.begin&&ep.default.registered.begin(e,i),o===document?t.horizontal?window.scrollTo(c,0):window.scrollTo(0,c):o.scrollTop=c,ep.default.registered.end&&ep.default.registered.end(e,i);return}ZH.default.animateTopScroll(c,t,e,i)}};var Wm={};Object.defineProperty(Wm,"__esModule",{value:!0});var e6=Vd,Sv=t6(e6);function t6(n){return n&&n.__esModule?n:{default:n}}var n6={mountFlag:!1,initialized:!1,scroller:null,containers:{},mount:function(e){this.scroller=e,this.handleHashChange=this.handleHashChange.bind(this),window.addEventListener("hashchange",this.handleHashChange),this.initStateFromHash(),this.mountFlag=!0},mapContainer:function(e,t){this.containers[e]=t},isMounted:function(){return this.mountFlag},isInitialized:function(){return this.initialized},initStateFromHash:function(){var e=this,t=this.getHash();t?window.setTimeout(function(){e.scrollTo(t,!0),e.initialized=!0},10):this.initialized=!0},scrollTo:function(e,t){var i=this.scroller,r=i.get(e);if(r&&(t||e!==i.getActiveLink())){var s=this.containers[e]||document;i.scrollTo(e,{container:s})}},getHash:function(){return Sv.default.getHash()},changeHash:function(e,t){this.isInitialized()&&Sv.default.getHash()!==e&&Sv.default.updateHash(e,t)},handleHashChange:function(){this.scrollTo(this.getHash())},unmount:function(){this.scroller=null,this.containers=null,window.removeEventListener("hashchange",this.handleHashChange)}};Wm.default=n6;Object.defineProperty(Gd,"__esModule",{value:!0});var np=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},i6=function(){function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),r6=Y,aE=Xd(r6),s6=Hd,ip=Xd(s6),o6=Ec,a6=Xd(o6),l6=Gm,Kt=Xd(l6),c6=Wm,Ys=Xd(c6);function Xd(n){return n&&n.__esModule?n:{default:n}}function u6(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function d6(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function f6(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var lE={to:Kt.default.string.isRequired,containerId:Kt.default.string,container:Kt.default.object,activeClass:Kt.default.string,activeStyle:Kt.default.object,spy:Kt.default.bool,horizontal:Kt.default.bool,smooth:Kt.default.oneOfType([Kt.default.bool,Kt.default.string]),offset:Kt.default.number,delay:Kt.default.number,isDynamic:Kt.default.bool,onClick:Kt.default.func,duration:Kt.default.oneOfType([Kt.default.number,Kt.default.func]),absolute:Kt.default.bool,onSetActive:Kt.default.func,onSetInactive:Kt.default.func,ignoreCancelEvents:Kt.default.bool,hashSpy:Kt.default.bool,saveHashHistory:Kt.default.bool,spyThrottle:Kt.default.number};Gd.default=function(n,e){var t=e||a6.default,i=function(s){f6(o,s);function o(a){u6(this,o);var c=d6(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,a));return r.call(c),c.state={active:!1},c}return i6(o,[{key:"getScrollSpyContainer",value:function(){var c=this.props.containerId,d=this.props.container;return c&&!d?document.getElementById(c):d&&d.nodeType?d:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var c=this.getScrollSpyContainer();ip.default.isMounted(c)||ip.default.mount(c,this.props.spyThrottle),this.props.hashSpy&&(Ys.default.isMounted()||Ys.default.mount(t),Ys.default.mapContainer(this.props.to,c)),ip.default.addSpyHandler(this.spyHandler,c),this.setState({container:c})}}},{key:"componentWillUnmount",value:function(){ip.default.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var c="";this.state&&this.state.active?c=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():c=this.props.className;var d={};this.state&&this.state.active?d=np({},this.props.style,this.props.activeStyle):d=np({},this.props.style);var f=np({},this.props);for(var h in lE)f.hasOwnProperty(h)&&delete f[h];return f.className=c,f.style=d,f.onClick=this.handleClick,aE.default.createElement(n,f)}}]),o}(aE.default.PureComponent),r=function(){var o=this;this.scrollTo=function(a,c){t.scrollTo(a,np({},o.state,c))},this.handleClick=function(a){o.props.onClick&&o.props.onClick(a),a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),o.scrollTo(o.props.to,o.props)},this.spyHandler=function(a,c){var d=o.getScrollSpyContainer();if(!(Ys.default.isMounted()&&!Ys.default.isInitialized())){var f=o.props.horizontal,h=o.props.to,p=null,g=void 0,y=void 0;if(f){var v=0,_=0,w=0;if(d.getBoundingClientRect){var A=d.getBoundingClientRect();w=A.left}if(!p||o.props.isDynamic){if(p=t.get(h),!p)return;var S=p.getBoundingClientRect();v=S.left-w+a,_=v+S.width}var E=a-o.props.offset;g=E>=Math.floor(v)&&E<Math.floor(_),y=E<Math.floor(v)||E>=Math.floor(_)}else{var C=0,B=0,L=0;if(d.getBoundingClientRect){var b=d.getBoundingClientRect();L=b.top}if(!p||o.props.isDynamic){if(p=t.get(h),!p)return;var R=p.getBoundingClientRect();C=R.top-L+c,B=C+R.height}var D=c-o.props.offset;g=D>=Math.floor(C)&&D<Math.floor(B),y=D<Math.floor(C)||D>=Math.floor(B)}var U=t.getActiveLink();if(y){if(h===U&&t.setActiveLink(void 0),o.props.hashSpy&&Ys.default.getHash()===h){var Z=o.props.saveHashHistory,W=Z===void 0?!1:Z;Ys.default.changeHash("",W)}o.props.spy&&o.state.active&&(o.setState({active:!1}),o.props.onSetInactive&&o.props.onSetInactive(h,p))}if(g&&(U!==h||o.state.active===!1)){t.setActiveLink(h);var J=o.props.saveHashHistory,$=J===void 0?!1:J;o.props.hashSpy&&Ys.default.changeHash(h,$),o.props.spy&&(o.setState({active:!0}),o.props.onSetActive&&o.props.onSetActive(h,p))}}}};return i.propTypes=lE,i.defaultProps={offset:0},i};Object.defineProperty(l1,"__esModule",{value:!0});var h6=Y,cE=TB(h6),p6=Gd,m6=TB(p6);function TB(n){return n&&n.__esModule?n:{default:n}}function g6(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function uE(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function v6(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var y6=function(n){v6(e,n);function e(){var t,i,r,s;g6(this,e);for(var o=arguments.length,a=Array(o),c=0;c<o;c++)a[c]=arguments[c];return s=(i=(r=uE(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),r),r.render=function(){return cE.default.createElement("a",r.props,r.props.children)},i),uE(r,s)}return e}(cE.default.Component);l1.default=(0,m6.default)(y6);var h1={};Object.defineProperty(h1,"__esModule",{value:!0});var x6=function(){function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),_6=Y,dE=BB(_6),w6=Gd,A6=BB(w6);function BB(n){return n&&n.__esModule?n:{default:n}}function S6(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function M6(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function E6(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var C6=function(n){E6(e,n);function e(){return S6(this,e),M6(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return x6(e,[{key:"render",value:function(){return dE.default.createElement("input",this.props,this.props.children)}}]),e}(dE.default.Component);h1.default=(0,A6.default)(C6);var p1={},Jm={};Object.defineProperty(Jm,"__esModule",{value:!0});var b6=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},T6=function(){function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),B6=Y,fE=Xm(B6),P6=Ob;Xm(P6);var R6=Ec,hE=Xm(R6),L6=Gm,pE=Xm(L6);function Xm(n){return n&&n.__esModule?n:{default:n}}function I6(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function D6(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function N6(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}Jm.default=function(n){var e=function(t){N6(i,t);function i(r){I6(this,i);var s=D6(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,r));return s.childBindings={domNode:null},s}return T6(i,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(s){this.props.name!==s.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;hE.default.unregister(this.props.name)}},{key:"registerElems",value:function(s){hE.default.register(s,this.childBindings.domNode)}},{key:"render",value:function(){return fE.default.createElement(n,b6({},this.props,{parentBindings:this.childBindings}))}}]),i}(fE.default.Component);return e.propTypes={name:pE.default.string,id:pE.default.string},e};Object.defineProperty(p1,"__esModule",{value:!0});var mE=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},F6=function(){function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),O6=Y,gE=m1(O6),k6=Jm,z6=m1(k6),U6=Gm,vE=m1(U6);function m1(n){return n&&n.__esModule?n:{default:n}}function G6(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function H6(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function j6(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var PB=function(n){j6(e,n);function e(){return G6(this,e),H6(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return F6(e,[{key:"render",value:function(){var i=this,r=mE({},this.props);return r.parentBindings&&delete r.parentBindings,gE.default.createElement("div",mE({},r,{ref:function(o){i.props.parentBindings.domNode=o}}),this.props.children)}}]),e}(gE.default.Component);PB.propTypes={name:vE.default.string,id:vE.default.string};p1.default=(0,z6.default)(PB);var Mv=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},yE=function(){function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}();function xE(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _E(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function wE(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var rp=Y,$o=Hd,Ev=Ec,en=Gm,Qs=Wm,AE={to:en.string.isRequired,containerId:en.string,container:en.object,activeClass:en.string,spy:en.bool,smooth:en.oneOfType([en.bool,en.string]),offset:en.number,delay:en.number,isDynamic:en.bool,onClick:en.func,duration:en.oneOfType([en.number,en.func]),absolute:en.bool,onSetActive:en.func,onSetInactive:en.func,ignoreCancelEvents:en.bool,hashSpy:en.bool,spyThrottle:en.number},V6={Scroll:function(e,t){console.warn("Helpers.Scroll is deprecated since v1.7.0");var i=t||Ev,r=function(o){wE(a,o);function a(c){xE(this,a);var d=_E(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,c));return s.call(d),d.state={active:!1},d}return yE(a,[{key:"getScrollSpyContainer",value:function(){var d=this.props.containerId,f=this.props.container;return d?document.getElementById(d):f&&f.nodeType?f:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var d=this.getScrollSpyContainer();$o.isMounted(d)||$o.mount(d,this.props.spyThrottle),this.props.hashSpy&&(Qs.isMounted()||Qs.mount(i),Qs.mapContainer(this.props.to,d)),this.props.spy&&$o.addStateHandler(this.stateHandler),$o.addSpyHandler(this.spyHandler,d),this.setState({container:d})}}},{key:"componentWillUnmount",value:function(){$o.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var d="";this.state&&this.state.active?d=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():d=this.props.className;var f=Mv({},this.props);for(var h in AE)f.hasOwnProperty(h)&&delete f[h];return f.className=d,f.onClick=this.handleClick,rp.createElement(e,f)}}]),a}(rp.Component),s=function(){var a=this;this.scrollTo=function(c,d){i.scrollTo(c,Mv({},a.state,d))},this.handleClick=function(c){a.props.onClick&&a.props.onClick(c),c.stopPropagation&&c.stopPropagation(),c.preventDefault&&c.preventDefault(),a.scrollTo(a.props.to,a.props)},this.stateHandler=function(){i.getActiveLink()!==a.props.to&&(a.state!==null&&a.state.active&&a.props.onSetInactive&&a.props.onSetInactive(),a.setState({active:!1}))},this.spyHandler=function(c){var d=a.getScrollSpyContainer();if(!(Qs.isMounted()&&!Qs.isInitialized())){var f=a.props.to,h=null,p=0,g=0,y=0;if(d.getBoundingClientRect){var v=d.getBoundingClientRect();y=v.top}if(!h||a.props.isDynamic){if(h=i.get(f),!h)return;var _=h.getBoundingClientRect();p=_.top-y+c,g=p+_.height}var w=c-a.props.offset,A=w>=Math.floor(p)&&w<Math.floor(g),S=w<Math.floor(p)||w>=Math.floor(g),E=i.getActiveLink();if(S)return f===E&&i.setActiveLink(void 0),a.props.hashSpy&&Qs.getHash()===f&&Qs.changeHash(),a.props.spy&&a.state.active&&(a.setState({active:!1}),a.props.onSetInactive&&a.props.onSetInactive()),$o.updateStates();if(A&&E!==f)return i.setActiveLink(f),a.props.hashSpy&&Qs.changeHash(f),a.props.spy&&(a.setState({active:!0}),a.props.onSetActive&&a.props.onSetActive(f)),$o.updateStates()}}};return r.propTypes=AE,r.defaultProps={offset:0},r},Element:function(e){console.warn("Helpers.Element is deprecated since v1.7.0");var t=function(i){wE(r,i);function r(s){xE(this,r);var o=_E(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,s));return o.childBindings={domNode:null},o}return yE(r,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(o){this.props.name!==o.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;Ev.unregister(this.props.name)}},{key:"registerElems",value:function(o){Ev.register(o,this.childBindings.domNode)}},{key:"render",value:function(){return rp.createElement(e,Mv({},this.props,{parentBindings:this.childBindings}))}}]),r}(rp.Component);return t.propTypes={name:en.string,id:en.string},t}},W6=V6;Object.defineProperty(dn,"__esModule",{value:!0});dn.Helpers=dn.ScrollElement=dn.ScrollLink=dn.animateScroll=dn.scrollSpy=dn.Events=dn.scroller=dn.Element=dn.Button=ui=dn.Link=void 0;var J6=l1,RB=$r(J6),X6=h1,LB=$r(X6),q6=p1,IB=$r(q6),K6=Ec,DB=$r(K6),Y6=Wd,NB=$r(Y6),Q6=Hd,FB=$r(Q6),Z6=Hm,OB=$r(Z6),$6=Gd,kB=$r($6),e5=Jm,zB=$r(e5),t5=W6,UB=$r(t5);function $r(n){return n&&n.__esModule?n:{default:n}}var ui=dn.Link=RB.default;dn.Button=LB.default;dn.Element=IB.default;dn.scroller=DB.default;dn.Events=NB.default;dn.scrollSpy=FB.default;dn.animateScroll=OB.default;dn.ScrollLink=kB.default;dn.ScrollElement=zB.default;dn.Helpers=UB.default;dn.default={Link:RB.default,Button:LB.default,Element:IB.default,scroller:DB.default,Events:NB.default,scrollSpy:FB.default,animateScroll:OB.default,ScrollLink:kB.default,ScrollElement:zB.default,Helpers:UB.default};const n5=()=>P.jsx("nav",{className:"sticky top-36 self-start left-0 w-2/12 m-0 h-[88vh] nav-shadow",children:P.jsxs("ul",{className:" my-12 flex flex-col space-y-8",children:[P.jsx("li",{className:"nav-item",children:P.jsx(ui,{activeClass:"active",to:"statement",spy:!0,smooth:!0,offset:-150,duration:500,className:"whitespace-nowrap nav-item",children:"Statement"})}),P.jsx("li",{className:"nav-item",children:P.jsx(ui,{activeClass:"active",to:"heeee",spy:!0,smooth:!0,offset:-150,duration:500,className:"whitespace-nowrap nav-item",children:"HEEEE"})}),P.jsx("li",{className:"nav-item",children:P.jsxs(ui,{activeClass:"active",to:"sinvuestrohierrocaerialanoche",spy:!0,smooth:!0,offset:-150,duration:500,className:"whitespace-nowrap nav-item text-center",children:["Sin vuestro hierro",P.jsx("br",{}),"caería la noche"]})}),P.jsx("li",{className:"nav-item",children:P.jsx(ui,{activeClass:"active",to:"escombroyruina",spy:!0,smooth:!0,offset:-150,duration:500,className:"whitespace-nowrap nav-item",children:"Escombro y ruina"})}),P.jsx("li",{className:"nav-item",children:P.jsx(ui,{activeClass:"active",to:"funda",spy:!0,smooth:!0,offset:-150,duration:500,className:"whitespace-nowrap nav-item",children:"Funda"})}),P.jsx("li",{className:"nav-item",children:P.jsx(ui,{activeClass:"active",to:"bilbaoarteresidency",spy:!0,smooth:!0,offset:-150,duration:500,className:"whitespace-nowrap nav-item",children:"Bilbaoarte residency"})}),P.jsx("li",{className:"nav-item",children:P.jsx(ui,{activeClass:"active",to:"untodoahora",spy:!0,smooth:!0,offset:-150,duration:500,className:"whitespace-nowrap nav-item",children:"Un todo ahora"})}),P.jsx("li",{className:"nav-item",children:P.jsxs(ui,{activeClass:"active",to:"unperfumesinsoporteungastopuro",spy:!0,smooth:!0,offset:-150,duration:500,className:"whitespace-nowrap nav-item text-center",children:["Un perfume sin soporte",P.jsx("br",{}),"un gasto puro"]})})]})}),SE=()=>P.jsxs("div",{className:"flex flex-row",children:[P.jsx(n5,{}),P.jsx(nH,{})]}),i5=()=>P.jsx("nav",{className:"sticky top-36 self-start left-0 w-2/12 m-0 h-[88vh] nav-shadow",children:P.jsxs("ul",{className:" my-12 flex flex-col space-y-8",children:[P.jsx("li",{className:"nav-item",children:P.jsx(ui,{activeClass:"active",to:"giventime",spy:!0,smooth:!0,offset:-100,duration:500,className:"whitespace-nowrap nav-item",children:"Given Time"})}),P.jsx("li",{className:"nav-item",children:P.jsx(ui,{activeClass:"active",to:"hacerdespues",spy:!0,smooth:!0,offset:-100,duration:500,className:"whitespace-nowrap nav-item",children:"Hacer Después"})}),P.jsx("li",{className:"nav-item",children:P.jsx(ui,{activeClass:"active",to:"unpuenteune",spy:!0,smooth:!0,offset:-100,duration:500,className:"whitespace-nowrap nav-item",children:"Un Puente Une"})}),P.jsx("li",{className:"nav-item",children:P.jsx(ui,{activeClass:"active",to:"formasdeempezaruncuento",spy:!0,smooth:!0,offset:-100,duration:500,className:"whitespace-nowrap nav-item",children:"Formas de Empezar un Cuento"})}),P.jsx("li",{className:"nav-item",children:P.jsx(ui,{activeClass:"active",to:"corazayornamento",spy:!0,smooth:!0,offset:-100,duration:500,className:"whitespace-nowrap nav-item",children:"Coraza y Ornamento"})}),P.jsx("li",{className:"nav-item",children:P.jsx(ui,{activeClass:"active",to:"sobrelalineadelacabeza",spy:!0,smooth:!0,offset:-100,duration:500,className:"whitespace-nowrap nav-item",children:"Sobre la línea de la cabeza"})})]})}),r5=()=>P.jsxs("div",{className:"flex flex-row h-full",children:[P.jsx(i5,{}),P.jsx("main",{className:"mx-auto justify-center align-center",children:P.jsxs("section",{className:"writings mx-32 my-24 flex flex-col",children:[P.jsxs("article",{className:"writing my-20 max-w-5xl",id:"giventime",children:[P.jsx("h3",{className:"writingTitle text-4xl my-12 font-semibold italic font-sans",children:"Given Time"}),P.jsxs("p",{className:"writingBody first-letter:text-4xl text-justify text-base font-normal",children:["Mi abuelo salía de paseo y algunas veces volvía con una piedra que regalaba a una de sus hijas.",P.jsx("br",{})," ",P.jsx("br",{}),"‐ Guarda esta piedra, mira qué bonita es.",P.jsx("br",{})," ",P.jsx("br",{}),"Ahora que él no está contemplo esas piedras y pienso en sus paseos por el campo y la mirada que escoge una piedra de entre otras miles, los criterios o la sensibilidad que apremian a que fije su atención en un objeto y lo extraiga de su hábitat. ¿Habría elegido un canto rodado en un entorno volcánico? ¿Se hubiera fijado en una malaquita semienterrada en la ladera de una montaña? Sorprende la presencia de un objeto que parece no pertenecer al lugar donde se encuentra, como si ya existiera una belleza implícita en la cadena de excepcionalidades que lo han colocado ahí. Y aunque éste parezca un criterio universal, se revela un misterio cuando descubrimos que otro elige algo en lo que tú no te hubieras fijado nunca. Es uno de los pocos momentos en los que podemos reconocer con cierto asombro que una sensibilidad distinta a la tuya ocupa otro cuerpo. Sólo podemos sentir verdadero amor si somos capaces de dejarnos fascinar por este desafío.",P.jsx("br",{})," ",P.jsx("br",{}),"Pensar en esto me ha llevado a entender que cuando mi abuelo regalaba una piedra era un gesto simpático, pero también regalaba con absoluta seriedad. Una piedra común es un objeto sin valor aparente, pero en el acto de regalar, más que una piedra se regala la mirada que encontró belleza en esa piedra como una invitación a que te unas a ese descubrimiento. La piedra no es más que el contenedor de dos miradas que buscan encontrarse en su interior.",P.jsx("br",{})," ",P.jsx("br",{}),"Los paseos de Marina por el barrio guardan similitudes con los paseos de mi abuelo y sus piedras. De camino a hacer algún recado va dirigiendo la mirada por los lugares en los que la gente deja objetos abandonados. A veces busca algo fijo, otras se deja llevar por una atención dispersa, otras pide ayuda a sus conocidos y reclama el rescate de unas características muy concretas. Cuando se queda con un objeto le busca un sitio en el estudio cuidadosamente; allí va a pasar un tiempo conviviendo con el resto de elementos consolidando una identidad, creciendo, transformándose, relacionándose.",P.jsx("br",{})," ",P.jsx("br",{}),"Los ciclos emocionales coordinan y modulan el proceso creativo hasta puntos que a veces no entendemos, sin embargo, las exposiciones de Marina tienen algo de catálogo de estados de ánimo. A Marina le gusta dejar el cuerpo abierto del proceso emocional sin huir de la aparición de momentos contradictorios o rupturas de ritmo. Así quien contempla puede reconocerse en la misma vida que resuena entre estas fisuras. Si nos adentramos en ellas podemos reconocer dos fuerzas que luchan sin fin en su trabajo: una naturaleza entrópica que devora sin piedad las frágiles estructuras de lo humano y una psicología en crisis procurando mantener orden y otorgar sentido en medio de tal absurdo. El tiempo es un vórtice terrorífico y ante el pánico que suscita, jugamos a administrarlo como un niño juega a representar un oficio adulto. Marina utiliza las agendas y los calendarios, herramientas del racionalismo, pero que también funcionan como fetiche o hechizo que nos protege de ese horror antiguo. Son como una pequeña jaula en la que encerramos los días para que no se desparramen sobre la vida convirtiéndola en caos, por eso tienen algo de compulsivo y esotérico.",P.jsx("br",{})," ",P.jsx("br",{}),"Aunque a veces pase desapercibido, los regalos tienen también que ver con la administración del tiempo. Hemos dedicado el tiempo normalmente reservado a otra cosa a decidir, construir o adquirir el regalo. Al fabricarlo como una manualidad ya no regalamos un mero objeto, sino el tiempo dedicado a éste. Quizás por eso este tipo de regalos los hacen los niños, quienes poseen poco más que su propio tiempo. El tiempo se coagula en un regalo; el regalo se carga de espíritu. Esto puede que nos haga dar cuenta de todas las energías que participan en la manifestación material del objeto, de otra manera no podríamos darle sentido. El regalo se nutre de los afectos y de las deudas, transcribe emociones que van desde el perdón hasta el deseo, fluctúa ligero por la frontera de lo manifestado y lo no manifestado. Es punto de encuentro y de intercambio, una moneda amable. Si el intercambio es entre un objeto y un “gracias”, éste no debería tener menos valor que el mismo objeto y es así que el agradecimiento puede estremecer, es consciente del desequilibrio y desea inundarlo todo.",P.jsx("br",{})," ",P.jsx("br",{}),"Vuelvo a casa y hay piedras silenciosas que se apoyan en los muebles; ya no soportan libros ni pisan papeles, no hacen otra cosa que revelar un agradecimiento que se mantiene sostenido en el tiempo."]})]}),P.jsxs("article",{className:"writing my-20 max-w-5xl",id:"hacerdespues",children:[P.jsx("h3",{className:"writingTitle text-4xl my-12 font-semibold italic",children:"Hacer Después"}),P.jsxs("p",{className:"writingBody first-letter:text-4xl text-justify text-base font-normal",children:["Neptuno asciende, Sol desciende. Lo que era totalidad se fragmenta en mil pedazos. El otro me espeja, lo que creía que yo era se ha perdido en estos fragmentos. El otro es la referencia y la norma. Yo no soy más que algo que fue algo, algo que desaparece en un mundo de otros. Frente a estos desgarros, el afán que ensaya la reconstitución de un orden lleva en sí la voluntad del sol , que me recuerda que todo héroe se desarrolla en torno a lo imposible. Pero esta heroína es humilde y servicial, recoge los restos y los ensambla como puede. La oposición muestra un conflicto aparentemente antitético, y sin embargo estas fuerzas trabajan en alianza secreta: el caos se sobrepone al orden y el orden se sobrepone al caos; bajo esta perspectiva ninguno es verdadero, pues no hay más que devenir que en su ocio eterno se presenta como fantasía estructurante.",P.jsx("br",{}),P.jsx("br",{}),"En la casa I somos transparentes, los impulsos se manifiestan sin filtrar. Júpiter y Quirón retrogradan la distancia que habían recorrido como si dudasen de esta decisión, y nos advierten de que la transparencia expande mi mundo pero también aporta dolor. La ofrezco en una intimidad espontánea, soy una lente que deja pasar la luz a través de sí y la distorsiona. Aunque quisiera desaparecer no podría dejar de distorsionar. El vidrio, sílice que fue sílice, recuerda cuando fue cosa opaca obstruyendo con su cuerpo la luminosidad; ahora modula la luz y quiere insinuar que en su transformación óptica es más liviano. Cuando pasa por la planta de reciclaje sufre múltiples transformaciones transitando por sistemas de orden y disciplina; pero las lógicas productivas de la planta, ajenas a sus reflejos y distorsiones, trituran y funden los fragmentos. Y aunque no se atiendan estas cuestiones también aquí se precisan operaciones de sensibilidad . En un punto del proceso un láser identifica los fragmentos de cerámica para expulsarlos a otro montón y mantener el vidrio puro, que ha sido delatado por su carácter transparente. Otras máquinas separan los vidrios por criterios de tamaño y color para así acumular los trozos en montones más homogéneos. Algo parece perderse en estas transformaciones. Me resulta imposible seguir la pista de uno de esos fragmentos y reconocerlo en su coherencia al final del proceso , las identidades provisionales no dejan fijar la mirada sobre ellas durante mucho tiempo.",P.jsx("br",{}),P.jsx("br",{}),"Antes de terminar debería saber si existe alguna identidad que no sea provisional. Ya sea sometido al fuego o al estaño (fundido o ensamblado), es en el proceso de reconstrucción donde se presenta la madurez , pues se hace evidente que reunir fragmentos rotos no significa volver a un estado previo. Si la identidad es una forma, cuando ésta se destruye irrumpe un intervalo confuso bajo el cual toda estructura anterior no encuentra correspondencia con el ahora. Éstas tensiones las sufre una persona que fue persona , que va ensayando identidades mientras todo esto le desgarra. Cuando asumo o asimilo el devenir la forma desaparece, y así descubro que no era más que una cristalización momentánea a la que me aferré o en la que me distraje fijando la mirada. En el tiempo sin tiempo no existen las formas."]}),P.jsx("div",{className:"flex justify-center items-center mt-24",children:P.jsx("img",{src:"imgs/exposicionsusana.webp",alt:"carta astral del escrito Hacer Después",role:"img",title:"Hacer Después",className:"w-[33.125rem] h-auto"})})]}),P.jsxs("article",{className:"writing my-20 max-w-5xl",id:"unpuenteune",children:[P.jsx("h3",{className:"writingTitle text-4xl my-12 font-semibold italic",children:"Un Puente Une"}),P.jsxs("p",{className:"writingBody first-letter:text-4xl text-justify text-base font-normal",children:["Algunos filósofos unen palabras con guiones, obligando al lector a que preste atención al vínculo entre éstas. No es el mismo ser el del ser-ahí que el del ser-en-el-mundo. Yo mismo escribo deprisa estas palabras compuestas y olvido pulsar el guión de vez en cuando, la inercia me lleva a separar con un espacio y tengo que volver atrás para reconstruir la frase. Este espacio que pulso por inercia es el mismo espacio que se abre cuando pensamos a través de este lenguaje conceptual que nos sugiere observar las cosas como cerradas en sí mismas, que no nos lo pone fácil para usar el guión porque cuando lo hacemos las palabras extrañan haciendo de la lectura algo difícil y farragoso. Aquellas construcciones lingüísticas repletas de guiones tenían por objeto dinamitar un lenguaje demasiado distraído en sus espacios haciendo de los conceptos algo falsamente absoluto. Tras esta distancia insalvable un puñado de preposiciones no consigue dar cuenta de la riqueza vincular del mundo circundante. Propongo escribir un texto y colocar arbitrariamente algún recordatorio (-) para no olvidar que todo espacio es un guión-en-potencia.",P.jsx("br",{}),P.jsx("br",{}),P.jsx("span",{className:"block text-center",children:"(-)"}),P.jsx("br",{}),P.jsx("br",{}),"El puente se usa para unir dos orillas que están aisladas para el libre caminar. Pero antes que puente ha de haber camino que nos conduzca a esa idea de puente, a aquel punto de mayor facilidad para el tránsito. Este doble camino es, ya en sí mismo, intención de puente. Digamos entonces que la intención preconfigura el puente. Cuando dos personas anhelan vincularse esta intención satura el espacio que aparentemente las separa hasta que emerge, inevitablemente, un puente. Un puente que ya existía pero aún no se había hecho consciente. Un puente que abre la circulación entre dos ideas de interioridad, ahora superada por otro interior más grande capaz de dar cobijo a ambas. No extraña que los puentes puedan provocar a veces temor, ya que erigir un puente es un momento delicado y tiene más de acto de fe que de cálculo; ninguna de las dos orillas conoce con seguridad de qué manera se organizará el caos cuando se abra el nuevo tránsito. Tras los puentes llegan los emisarios, las misiones, los nuevos vecinos, las cartas, el comercio, los ejércitos y las enfermedades infecciosas.",P.jsx("br",{}),P.jsx("br",{}),P.jsx("span",{className:"block text-center",children:"(-)"}),P.jsx("br",{}),P.jsx("br",{}),"Cuando volvemos a los guiones y a los espacios pensamos en cómo el lenguaje que nos atraviesa cotidianamente carece de puentes aparece la sospecha ¿Es posible que todo esto haya sido un error? Que toda esta construcción de mundo, esta cognición negativa que resta las cosas de aquellas que tiene a su alrededor nos haya sumido en una ilusión de aislamiento. Que vivir podría ser muy diferente si entendiésemos cada cosa en relación con todas las demás. Estos prejuicios podrían haber teñido, como es natural, la construcción científica del mundo. Mientras aún permanecemos bajo un paradigma atomista, la física moderna hace sus correcciones. La teoría de campos propone un giro total en el que los átomos y las partículas que los constituyen no son como imaginamos habitualmente y se hipotetizan como coordenadas abstractas en un campo. Nos dicen que lo que hay, si es que hay materia tal y como la entendemos, es la relación dinámica de fuerzas entre estas coordenadas, quedándonos únicamente con los vínculos. La relación sería el material ontológico fundamental; la cosa, una abstracción. Debido a la obsesión por establecer puntos fijos habríamos quedado hechizados por un mundo de ilusiones materiales, perdiendo mientras tanto la posibilidad de contemplar la exuberancia de la red de relaciones que tejen el todo. ",P.jsx("br",{}),P.jsx("br",{}),P.jsx("span",{className:"block text-center",children:"(-)"}),P.jsx("br",{}),P.jsx("br",{}),"El puente horizontaliza: allana e iguala dos caminos para que sea posible la comunicación. Con el puente se hace necesario salvar las diferencias de nivel, pero horizontalizar no es homogeneizar, no es arrasar la diferencia sino habilitar un tránsito. Se coloca en el lugar más fácil. Nos colocamos como facilitadores en un punto de baja resistencia o, dicho de otro modo, de mayor afinidad, aquella que es imposible de fingir. De esta manera somos puente. Simpatía significa habilidad encontrando puntos de baja resistencia. Las simpatías naturales también establecen, por ley o por instinto, puentes de bajísima resistencia. De lo más pequeño a lo más grande, parece que la simpatía tiene la habilidad de configurar un orden. ",P.jsx("br",{}),P.jsx("br",{}),P.jsx("span",{className:"block text-center",children:"(-)"}),P.jsx("br",{}),P.jsx("br",{}),"Los detectives de la hermenéutica investigan la red de relaciones secretas dentro de un texto. Descubren puentes, lo que indica que esos puentes ya existían antes de que se hiciera ese trabajo. Los nexos que proponen van más allá de los que el guión establece entre una palabra y sus contiguas. La hermenéutica liga frases con frases, capítulos con palabras, versículos con espacios en blanco, los textos estudiados con los que ella misma genera. La perfección del hermeneuta es el descubrimiento de que todo estaba relacionado con todo, que el texto investigado era una única palabra compuesta, que en su colosal polisemia puede ser descompuesta y articulada en frases y otras subdivisiones. Son una serie de vicios lingüísticos los que nos impiden entender esta otra realidad al instante y comenzar así a leer como cualquier forma de vida lee al resto de la naturaleza de la cual no se siente separada. De este lenguaje torpe e insuficiente emergen símbolos (-) que no pueden hacer gran cosa, salvo quizás abrir pequeñas grietas a una realidad oceánica de una magnitud que aún causa angustia si se muestra sin estas necesarias domesticaciones cognitivas. ",P.jsx("br",{}),P.jsx("br",{}),P.jsx("span",{className:"block text-center",children:"(-)"})," ",P.jsx("br",{}),P.jsx("br",{}),"Nuestro primer puente: aquel que salva la distancia entre adentro y afuera. Puente previo a toda acción, palabra o pensamiento. La escisión entre sujeto y objeto representa la heroicidad del momento moderno en el que un ser humano muy asustado ha creído dominar las cosas definitivamente. Para lograr esto ha tenido que desposeerlas de su espíritu y convertirlas en máquinas, un precio altísimo. Esta manera de reconocer la correspondencia entre adentro y afuera es otro vicio más de un lenguaje insuficiente, y la tendencia que provoca es infravalorar lo subjetivo en pos de una objetividad que nunca fue la cosa prometida. El afuera no será jamás esa realidad aislada, inanimada y mecánica porque aún quedan innumerables puentes por descubrir. De acuerdo con este problema la arquitecta que construye puentes puede dejarse seducir por la fría objetividad que impone una idea inerte sobre un entorno animado o, por el contrario, puede intuir la red relacional que se inaugura con el puente y cómo impacta esta en la ya existente. Creemos que puede aproximarse con una construcción que no domina ni posee, sino que cohabita y simpatiza con el lugar. Lograr esta afinidad dependerá de la sensibilidad con la que transite su dentro-fuera en sucesivos pasos que le llevarán de una idea a un boceto, de un boceto a una maqueta y de una maqueta a una construcción. Decíamos: la intención preconfigura el puente; el camino nos lleva al puente. Un buen camino nos llevará, seguro, a un buen puente."]})]}),P.jsxs("article",{className:"writing my-20 max-w-5xl",id:"formasdeempezaruncuento",children:[P.jsx("h3",{className:"writingTitle text-4xl my-12 font-semibold italic font-sans",children:"Formas de Empezar un Cuento"}),P.jsxs("p",{className:"writingBody first-letter:text-4xl text-justify text-base font-normal",children:["El manto indica el umbral tras el cual no hay más que contingencia y se desplaza sinuoso, a veces avanzando, otras retrocediendo. Cuando éste le gana terreno al mundo de lo manifestado todo es más ligero, un poco más imposible de lo imposible que es siempre todo."," ",P.jsx("br",{}),P.jsx("br",{}),"La inspiración, la confusión y la melancolía son manifestaciones de Neptuno, que empaña la vida para devolvernos al sueño que siempre fue. La brusquedad de la vigilia obliga a los objetos a ser algo duro y diferenciado; tenemos que orientarnos, aunque sea provisionalmente.",P.jsx("br",{}),P.jsx("br",{}),"La vigilia obliga a sostener, el sueño obliga al cambio y la transformación.",P.jsx("br",{}),P.jsx("br",{}),"Desde este lado no quedan cosas por imaginar. Hemos de esperar a que la niebla avance y lo vuelva a engullir todo para que reaparezca renovado, transformado y libre. Se nos ha restringido la visión a unos pocos metros a nuestro alrededor y ahora el mundo emerge a partir de nuestro movimiento. La espesura es efervescente. Si miras sin poner la atención en nada concreto la percibirás acercándose; se acerca tanto que amenaza la posibilidad de disolución, de perderte tú también junto al resto de cosas que quedan detrás. Sin embargo, nada ocurre; te disuelves suave, imperceptible. La transición es tan agradable que caes en la cuenta que lo realmente angustioso es mantener la coherencia de ser algo. Un cuerpo que anhela ligereza no quiere mantenerse anclado."]})]}),P.jsxs("article",{className:"writing my-20 max-w-5xl ",id:"corazayornamento",children:[P.jsx("h3",{className:"writingTitle text-4xl my-12 font-semibold italic font-sans",children:"Coraza y Ornamento"}),P.jsxs("p",{className:"writingBody first-letter:text-4xl text-justify text-base font-normal",children:["Levanto la carta para el 6/4/2023 a las 18:50 en Sagunto. ",P.jsx("br",{}),P.jsx("br",{}),"(Plutón en Acuario la cúspide de V) el dramático nos invita a develar secretos, pero esta vez con un ánimo lúdico. Exploramos las entrañas de un objeto y la crudeza de su exposición interna es la ingeniería que sustenta su coraza (Venus trígono Plutón) que se mimetiza con un ornamento. Quizá porque también observamos la piel y el pelo de nuestros cuerpos como ornamento nos horroriza si se manifiesta inesperadamente la imagen de un interior que antes funcionaba silencioso y oculto. Preferimos lidiar con la carcasa, y otorgamos -creyendo que alguien lo hizo por nosotros- a la cara visible de las cosas el acceso principal, a partir del cual se articulan una serie de lógicas afines a mostrarse y aparecer (Venus sextil Neptuno en VII). ",P.jsx("br",{})," ",P.jsx("br",{}),"En oposición a esto (Sol oposición Luna), sentimos que algo se escapa cuando accedemos a ellas a través del aspecto bajo el que parecen indicarnos cómo han de ser vistas. Prevalece la suspicacia ante la ilusión que nos distrae de lo realmente decisivo. En este sentido, no consideramos que poseamos una auténtica sensación de dominio sobre la cosa hasta que no descubrimos algún secreto, algo que nos permita comprender las relaciones ocultas que ligan lo más visible con lo menos visible, lo aparente y lo oculto, la superestructura y la infraestructura.",P.jsx("br",{})," ",P.jsx("br",{}),"La Luna gira en sincronización exacta con su desplazamiento para mantener constantemente una cara oculta desde su visión terrestre. Aún no hemos caído lo suficiente en lo extraño de este movimiento. La ocultación es relativa: el patio de butacas en la Tierra frente al escenario en la cara visible de la Luna, que cuenta con las bambalinas adecuadas (Neptuno en VII) para que la ficción sea posible. Puede que haya que indagar más en esa cara oculta, pues no es prudente que cosas tan importantes como las largas noches de poesía insomne, la cólera del licántropo, la agitación de las mareas o la maduración del ciclo menstrual estén afectadas por un movimiento tan sospechoso. Dejémonos invadir por la paranoia tirando de la cortina y quizá podremos descubrir a los actores fumando entre bambalinas junto a los decorados de cartón-piedra. Todavía no sabemos si esto será liberador o nos quedará la sensación de haberlo jodido todo.",P.jsx("br",{})," ",P.jsx("br",{}),"(Saturno en Piscis en la cúspide de la VI) viene de trabajar a lo largo de toda la rueda; cuando llega a (Piscis) se detiene ante un océano sin forma y muere ahogado. La marquetera abandona la disciplina de una tradición agonizante y los secretos de oficio se revelan con la luz filtrada entre las grietas. Las formas ya no se corresponden con los motivos que antes reconocíamos: en su cambio de escala se han desnaturalizado, son superficies de material frágil sin función aparente."]})]}),P.jsxs("article",{className:"writing my-20 max-w-5xl ",id:"sobrelalineadelacabeza",children:[P.jsx("h3",{className:"writingTitle text-4xl my-12 font-semibold italic font-sans",children:"Sobre la línea de la cabeza"}),P.jsxs("p",{className:"writingBody first-letter:text-4xl text-justify text-base font-normal",children:["Levanto la carta para el 6 de octubre de 2023 a las 18:34 en Sagunto, Valencia. ",P.jsx("br",{})," ",P.jsx("br",{}),"La linea de horizonte (ascendente Piscis, descendente Virgo) separará el cielo de la tierra. En este momento, en la tierra habitan los celestiales (Neptuno, Júpiter, Urano), mientras que el cielo es gobernado por los terrenales (Marte, Saturno) y los subterráneos (Plutón). Surge así la necesidad de un interlocutor (Sol en Libra en la casa 7) capaz de iniciar este intrincado diálogo.",P.jsx("br",{}),P.jsx("br",{}),"(Jupiter y Urano en Tauro en 2) Las ideas toman forma y aterrizan, infectando el éter de presencia. Aunque la intención de este ejercicio es disolver toda forma (Neptuno en Piscis en la casa 1), su vocación (medio cielo en Sagitario) es hallar la manera de otorgarle sentido y ser fijado en él. Así, la materialización se convierte en un acto pedagógico que será deshecho y reconfigurado, atravesando constantemente la transformación de la idea que se convierte en forma y de la desmaterialización de la forma que se transforma en evocación.",P.jsx("br",{}),P.jsx("br",{}),"El responsable de este proceso (Plutón) ha de poner en crisis la acción (cuadratura marte) y la recepción (quincuncio venus), demostrando que, aunque parecen volitivas, no lo son tanto. Encontrará virtud en este triángulo (trígono Urano, sextil Neptuno) con lo que se encuentra más allá del control, ya que es necesario perderse para experimentar una verdadera transformación.",P.jsx("br",{}),P.jsx("br",{}),"El mediador (Sol Mercurio en Libra oposición Neptuno) se verá frustrado por todo cuanto intente expresar, ya que las palabras se evaporan antes de llegar a su destino. Su lenguaje debe aprender a lidiar con imágenes y ensoñaciones, abandonando la noción de que el concepto y el discurso son plenamente posibles. Se rinde, revelando la imagen de un rayo.",P.jsx("br",{}),P.jsx("br",{}),"El rayo es un puente vertical. (Jupiter y Urano en Tauro en casa 2) Éste busca, a su manera, puntos de baja resistencia, atajos entre el cielo y la tierra que son revelados de manera súbita. El mediador (Sol) ilumina un trazado que muestra durante un instante aquel momento de inexplicable simpatía entre estos dos planos. El cielo acumula tensión durante horas, lo hace de manera progresiva y discreta, hasta que la tensión sobrepasa el umbral y descarga su jerarquía (los rayos siempre viajan en la misma dirección). Quienes no han vivido una tormenta nunca podrían haber imaginado el rayo o que las tensiones entre el cielo y la tierra podrían resolverse de esta manera. (Urano) muestra dos tiempos: un proceso largo y lento que termina haciéndose insoportable y está implícito en su resolución, que es instantánea, sorpresiva y a veces destructora. Participa de un ritmo que entrelaza el proceso con el instante, la historia con el acontecimiento y el discurso con la imagen.",P.jsx("br",{}),P.jsx("br",{}),"(Urano trígono Plutón)",P.jsx("br",{}),P.jsx("br",{}),"El rayo impacta en el inframundo.",P.jsx("div",{className:"flex justify-center items-center mt-24",children:P.jsx("img",{src:"imgs/exposicionsobrelalineadelacabeza.webp",alt:"carta astral del escrito Sobre la línea de la cabeza",role:"img",title:"Sobre la línea de la cabeza"})}),P.jsx("br",{}),P.jsx("br",{}),P.jsx("br",{}),P.jsx("br",{}),P.jsx("br",{}),P.jsx("br",{}),P.jsx("br",{}),P.jsx("br",{}),P.jsx("br",{}),P.jsx("br",{})]})]})]})})]}),s5=()=>P.jsxs("div",{className:"flex flex-row mx-16 space-x-4",children:[P.jsxs("main",{className:"my-24 w-9/12 ml-28",children:[P.jsx("h2",{className:"text-4xl font-sans mb-6",children:"Curriculum Vitae"}),P.jsx("section",{className:"ml-2 mb-8",children:P.jsxs("ul",{className:"ml-2",children:[P.jsx("li",{children:"‐ Master of Arts in Art Production, UPV, Valencia"}),P.jsx("li",{children:"‐ Bachelor of Arts in Fine Arts, Salamanca"}),P.jsx("li",{children:"‐ Founder and curator, Saceca, Sagunto"})]})}),P.jsxs("section",{className:"ml-2 mb-8",children:[P.jsx("h4",{className:"ml-2 mb-2 font-semibold",children:"Residencies"}),P.jsxs("ul",{className:"ml-4",children:[P.jsx("li",{children:"‐ Bilbaoarte, Bilbao 2017"}),P.jsx("li",{children:"‐ Residencias A Quemarropa, Alicante 2016"}),P.jsx("li",{children:"‐ Espacio Matrioska, Os Blancos (Ourense), 2015"})]})]}),P.jsxs("section",{className:"ml-2 mb-8",children:[P.jsx("h4",{className:"ml-2 mb-2 font-semibold",children:"Awards and calls"}),P.jsxs("ul",{className:"ml-4",children:[P.jsx("li",{children:"‐ III Becas Fundación Villalar –Castilla y León de creación artística contemporánea. Valladolid 2019"}),P.jsx("li",{children:"‐ PAMPAM! 2017. Valencia"}),P.jsx("li",{children:"‐ Beca Fundación Carmen Izquierdo. Valencia, 2017."}),P.jsx("li",{children:"‐ Transportarte. Valencia, 2017"}),P.jsx("li",{children:"‐ Jóvenes pintores. La Gaceta, Salamanca, 2015"})]})]}),P.jsxs("section",{className:"ml-2 mb-8",children:[P.jsx("h4",{className:"ml-2 mb-2 font-semibold",children:"Texts"}),P.jsxs("ul",{className:"ml-4",children:[P.jsx("li",{children:"‐ Exhibition sheet for the exhibition Coraza y Ornamento. Saceca, Sagunto 2023"}),P.jsxs("li",{children:["‐ Text for the catalogue of the cycle Mi Fantástico Interior. La Casa Encendida, Madrid 2022"," "]}),P.jsx("li",{children:"‐ Exhibition sheet for the exhibition Hacer Después. Saceca, Sagunto 2022"}),P.jsx("li",{children:"‐ Exhibition sheet for the exhibition Given Time. Intersticio, London 2021"})]})]}),P.jsxs("section",{className:"ml-2 mb-8",children:[P.jsx("h4",{className:"ml-2 mb-2 font-semibold",children:"Duo"}),P.jsxs("ul",{className:"ml-4",children:[P.jsx("li",{children:"‐ Un todo ahora. Raúl Lorenzo and Carlos Peris. Saceca, Sagunto 2022"}),P.jsx("li",{children:"‐ Un perfume sin soporte, un gasto puro. Raúl Lorenzo and Marina G. Guerreiro, Estrany de la Mota, Barcelona 2023"})]})]}),P.jsxs("section",{className:"ml-2 mb-8",children:[P.jsx("h4",{className:"ml-2 mb-2 font-semibold",children:"Solos"}),P.jsxs("ul",{className:"ml-4",children:[P.jsx("li",{children:"‐ Sin vuestro hierro caería la noche. Museo de Zamora, Zamora 2020"}),P.jsx("li",{children:"‐ HEEEE, Atarazanas. Valencia 2018"}),P.jsx("li",{children:"‐ La fiebre. Espacio Joven, Salamanca 2014"})]})]}),P.jsxs("section",{className:"ml-2",children:[P.jsx("h4",{className:"ml-2 mb-2 font-semibold",children:"Group exhibitions"}),P.jsxs("ul",{className:"ml-4",children:[P.jsx("li",{children:"‐ Becas de la Fundación Villalar. Palacio de las Cortes de CyL, Valladolid 2020"}),P.jsx("li",{children:"‐ Exhibition. EMAC, Valencia 2019"}),P.jsx("li",{children:"‐ Open studio. Bilbaoarte, Bilbao 2017"}),P.jsx("li",{children:"‐ Open Studio. Residencias a Quemarropa, Las Cigarreras, Alicante 2016"}),P.jsx("li",{children:"‐ Morralla, Russafart, Valencia 2016"}),P.jsx("li",{children:"‐ Una Mirada Sustractiva. Campus de Vera de Valencia, 2016"}),P.jsx("li",{children:"‐ Carambola. Zamora 2015"}),P.jsx("li",{children:"‐ Non estamos. Vigo 2015"}),P.jsx("li",{children:"‐ San Marcos. Salamanca 2014"}),P.jsx("li",{children:"‐ Muestra Ciudad. Zamora 2014"}),P.jsx("li",{children:"‐ Exit. La gota de leche, Logroño 2014"}),P.jsx("li",{children:"‐ Visto por 25. La Alhóndiga, Zamora 2014"})]})]})]}),P.jsxs("aside",{className:"flex flex-col sticky top-56 my-24 self-start w-3/12",children:[P.jsx("h2",{className:"text-4xl font-sans mb-6",children:"Contact"}),P.jsxs("section",{className:"ml-2",children:[P.jsxs("p",{className:"mb-1 text-base font-normal",children:[P.jsx("span",{className:"font-medium",children:"Instagram"}),"    ",P.jsx("a",{href:"https://www.instagram.com/raul.lorenzo.p/",target:"_blank",className:"font-normal",children:"@raul.lorenzo.p"})]}),P.jsxs("p",{className:"mb-1 text-base font-normal",children:[P.jsx("span",{className:"font-medium",children:"Mail"})," ","             raullorenzoperez@gmail.com"]}),P.jsxs("p",{className:"mb-1 text-base font-normal",children:[P.jsx("span",{className:"font-medium",children:"Phone"})," ","         (+34) 675651605"]})]})]})]});function o5(){return P.jsxs(QL,{children:[P.jsx(nI,{}),P.jsxs(WL,{children:[P.jsx(_u,{path:"/exhibitions",element:P.jsx(SE,{})}),P.jsx(_u,{path:"/writings",element:P.jsx(r5,{})}),P.jsx(_u,{path:"/cv",element:P.jsx(s5,{})}),P.jsx(_u,{path:"/",element:P.jsx(SE,{})})]})]})}Cv.createRoot(document.getElementById("root")).render(P.jsx(xx.StrictMode,{children:P.jsx(o5,{})}));
